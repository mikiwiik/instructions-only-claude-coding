{
  "items": [
    {
      "content": {
        "body": "## Description\nCreate a Mermaid diagram documenting the development workflow and processes used in the Todo App project.\n\n## Tasks\n- [ ] Create `docs/diagrams/development-workflow.md`\n- [ ] Document GitHub Issues ‚Üí Implementation flow\n- [ ] Document TDD workflow (Red ‚Üí Green ‚Üí Refactor)\n- [ ] Document ADR creation process\n- [ ] Document code quality workflow (pre-commit hooks)\n- [ ] Document feature development lifecycle\n\n## Development Workflow Diagram Requirements\n- [ ] GitHub Issues workflow (creation ‚Üí implementation ‚Üí closure)\n- [ ] TDD cycle visualization (test first ‚Üí implement ‚Üí refactor)\n- [ ] ADR decision process (decision point ‚Üí research ‚Üí document ‚Üí implement)\n- [ ] Code quality gates (linting ‚Üí formatting ‚Üí commit)\n- [ ] Feature lifecycle (planning ‚Üí development ‚Üí testing ‚Üí documentation)\n- [ ] Claude Code integration points\n\n## Visual Elements\n- [ ] Decision diamonds for branching logic\n- [ ] Process rectangles for actions\n- [ ] Swimlanes for different phases\n- [ ] Color coding for workflow types\n- [ ] Clear flow directions and connections\n\n## Acceptance Criteria\n- [ ] Shows complete development process\n- [ ] Helps new developers understand workflow\n- [ ] Documents current practices accurately\n- [ ] Easy to follow and understand\n- [ ] Renders correctly on GitHub\n\n## Priority\nüü° Medium - Process documentation\n\n## Labels\ndocumentation, mermaid, development-workflow, process",
        "number": 15,
        "repository": "mikiwiik/instructions-only-claude-coding",
        "title": "üìä Documentation: Create Development Workflow Diagram (Mermaid)",
        "type": "Issue",
        "url": "https://github.com/mikiwiik/instructions-only-claude-coding/issues/15"
      },
      "id": "PVTI_lAHOABVon84BF52zzggDPQg",
      "labels": [
        "priority-4-low",
        "complexity-minimal",
        "category-documentation"
      ],
      "lifecycle": "Active",
      "repository": "https://github.com/mikiwiik/instructions-only-claude-coding",
      "title": "üìä Documentation: Create Development Workflow Diagram (Mermaid)"
    },
    {
      "content": {
        "body": "## Problem\n\nThe `/work-on` and `/parallel-work` slash commands use incorrect syntax for the `argument-hint` field in their frontmatter, preventing proper argument parsing.\n\n**Current (incorrect):**\n```yaml\nargument-hint: <issue-number>\n```\n\n**Should be (correct):**\n```yaml\nargument-hint: [issue-number]\n```\n\n## Impact\n\n- Arguments are not properly captured when invoking these commands\n- Users cannot pass issue numbers (of any length: 1, 15, 276, etc.) to the commands\n- The `$1` placeholder remains unexpanded in command execution\n\n## Evidence\n\n1. Claude Code documentation specifies square brackets `[]` for parameters\n2. The `/select-next-issue` command correctly uses `[filter]` syntax\n3. Both `/work-on` and `/parallel-work` incorrectly use `<issue-number>` with angle brackets\n\n## Files Affected\n\n- `.claude/commands/work-on.md`\n- `.claude/commands/parallel-work.md`\n\n## Acceptance Criteria\n\n- [ ] Update `argument-hint` in work-on.md to use square brackets\n- [ ] Update `argument-hint` in parallel-work.md to use square brackets\n- [ ] Verify arguments are properly parsed when invoking commands\n- [ ] Test with various issue numbers (single digit, double digit, triple digit)",
        "number": 284,
        "repository": "mikiwiik/instructions-only-claude-coding",
        "title": "Bug: Slash commands use incorrect argument-hint syntax",
        "type": "Issue",
        "url": "https://github.com/mikiwiik/instructions-only-claude-coding/issues/284"
      },
      "id": "PVTI_lAHOABVon84BF52zzggUfUo",
      "labels": ["priority-2-high", "complexity-minimal", "category-dx"],
      "lifecycle": "Active",
      "linked pull requests": [
        "https://github.com/mikiwiik/instructions-only-claude-coding/pull/286"
      ],
      "repository": "https://github.com/mikiwiik/instructions-only-claude-coding",
      "status": "Done",
      "title": "Bug: Slash commands use incorrect argument-hint syntax"
    },
    {
      "content": {
        "body": "The standard mobile layout is in effect up until 639px width. \nAt 768 px, the desktop layout is used.\n\nBetween these, there is a intermediate layout that only seems to add a bit of padding, but otherwise does not seem to do anything. Can it be removed?\n\nPlease see explaining screenshots\n* Mobile layout ok (used at or below 639 px width): <img width=\"1502\" height=\"1744\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/45a91db5-a2be-4d52-b5b4-0a6246e558b7\" />\n* Unnecessary, intermediate layout, 640 - 767px width: <img width=\"1758\" height=\"1744\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/d18cbf59-4c2a-4ca1-ba8d-174275c0e675\" />\n* Desktop layout, at or above 768px width: <img width=\"2174\" height=\"1744\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/1cbcf3de-2461-448d-ae57-964a6d0264db\" />\n\n2 related notes:\n* The README.md does not directly guide to where the layouts are defined: docs/design/layout-and-spacing-reference.md\n* 2 small UX polishing notes on the mobile layout: See screenshot with affeacted area highlighted: <img width=\"1286\" height=\"1788\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/1e73e555-53e9-4d32-8e50-d031036b2dad\" />\n** The TodoFilter section could take up more room. Now the filter buttons are crammed towards the left edge with a lof of unused space on the right.\n** The title TodoList title \"Your Todos (2)\" looks crammed to the left too. It could be indented a bit and have a slightly stronger fotn to make it stand out more and acts as a visual separator for the sections.",
        "number": 288,
        "repository": "mikiwiik/instructions-only-claude-coding",
        "title": "remove unnecesasry intermediate layout occurring between 640 - 767px width",
        "type": "Issue",
        "url": "https://github.com/mikiwiik/instructions-only-claude-coding/issues/288"
      },
      "id": "PVTI_lAHOABVon84BF52zzggU7dc",
      "labels": [
        "enhancement",
        "priority-2-high",
        "complexity-simple",
        "ux",
        "category-feature"
      ],
      "lifecycle": "Active",
      "linked pull requests": [
        "https://github.com/mikiwiik/instructions-only-claude-coding/pull/304"
      ],
      "repository": "https://github.com/mikiwiik/instructions-only-claude-coding",
      "status": "Done",
      "title": "remove unnecesasry intermediate layout occurring between 640 - 767px width"
    },
    {
      "content": {
        "body": "## Central Insight: Linear Progression Model\n\n**Core Discovery**: Analysis of actual project data reveals that Status and Lifecycle fields move in lockstep 96% of the time. This isn't a coincidence‚Äîit reflects the true nature of our workflow: **issues progress linearly through sequential stages, not across two independent dimensions**.\n\n### Current State: Over-Engineered Dual-Field System\n\n**What we have now:**\n- **Status field**: Todo | In Progress | Done\n- **Lifecycle field**: Icebox | Backlog | Active | Done\n- **Total combinations**: 3 √ó 4 = 12 possible states\n- **Actually used**: Only 6 combinations across 53 issues\n- **Theoretical \"Active + Todo\" state**: 0 issues (never used)\n\n**Actual usage data:**\n```\n21 issues (40%): Done + Done          ‚Üê Perfect lockstep\n13 issues (25%): Icebox + (no status) ‚Üê Icebox distinction\n13 issues (25%): Backlog + (no status)‚Üê Ready, not started\n 4 issues (7%):  Backlog + Todo       ‚Üê Ready, explicitly marked\n 1 issue  (2%):  Active + In Progress ‚Üê Only 1 Active issue!\n 1 issue  (2%):  Active + Done        ‚Üê Edge case\n```\n\n**The redundancy:**\n- Lifecycle:Active duplicates Status:In Progress (only 1 issue uses Active)\n- Lifecycle:Done duplicates Status:Done (always in sync)\n- Lifecycle:Backlog vs Active distinction not needed (we work on 1-2 issues at a time)\n\n### Proposed Solution: Single Linear Status Field\n\n**The True Workflow:**\n```\nIcebox ‚Üí Backlog ‚Üí In Progress ‚Üí Done\n   ‚Üì         ‚Üì           ‚Üì          ‚Üì\nRaw idea  Triaged   Actively    Completed\n          & ready   working\n```\n\n**New Status field values:**\n- **Icebox** - Rough ideas, not yet triaged (replaces Lifecycle:Icebox)\n- **Backlog** - Triaged and ready to work on (replaces Lifecycle:Backlog)\n- **In Progress** - Actively working on it (replaces Lifecycle:Active + Status:In Progress)\n- **Done** - Completed (unchanged)\n\n**Benefits:**\n- ‚úÖ **Simpler mental model**: One field, clear linear progression\n- ‚úÖ **Matches actual workflow**: How issues really move through the system\n- ‚úÖ **Easier to understand**: New contributors see immediate clarity\n- ‚úÖ **Reduced maintenance**: No sync burden between two fields\n- ‚úÖ **Better semantics**: \"Status\" perfectly describes \"where is this issue?\"\n- ‚úÖ **Extensible**: Future states (In Review, Testing) fit naturally into progression\n\n### Why Linear Progression is Central to This Project\n\nOur kanban-style continuous delivery workflow is inherently sequential:\n\n1. **Ideas emerge** (Icebox) - low friction capture\n2. **Ideas get refined** (Backlog) - triage adds labels and clarity\n3. **Work begins** (In Progress) - 1-2 issues at a time, focused execution\n4. **Work completes** (Done) - immediate deployment\n\nThis is **not a matrix workflow** where issues can be in multiple states simultaneously. It's a **pipeline workflow** where each issue moves through stages one at a time.\n\n**The dual-field system implied two-dimensional state:**\n```\n          Todo    In Progress    Done\nIcebox    [x]         [x]        [x]\nBacklog   [x]         [x]        [x]  \nActive    [x]         [x]        [x]\nDone      [x]         [x]        [x]\n```\n\n**But the reality is one-dimensional progression:**\n```\nIcebox ‚Üí Backlog ‚Üí In Progress ‚Üí Done\n```\n\n## Implementation Plan\n\n### Phase 1: GitHub Projects Configuration\n\n**1.1 Update Status Field**\n- Navigate to project settings via web UI\n- Edit Status field to add new options: \"Icebox\" and \"Backlog\"\n- Final options: Icebox | Backlog | In Progress | Done\n\n**1.2 Migrate All 53 Issues**\nMap existing Lifecycle values to new Status values:\n\n| Current State | Count | New Status |\n|--------------|-------|------------|\n| Lifecycle:Icebox + (no status) | 13 | Icebox |\n| Lifecycle:Backlog + (no status) | 13 | Backlog |\n| Lifecycle:Backlog + Status:Todo | 4 | Backlog |\n| Lifecycle:Active + Status:In Progress | 1 | In Progress |\n| Lifecycle:Done + Status:Done | 21 | Done |\n| Edge cases | 1 | Manual review |\n\n**1.3 Delete Lifecycle Field**\n- After migration verified, delete custom Lifecycle field from project\n- This is irreversible - verify migration success first\n\n**1.4 Update Project Views (5 views total)**\n\n| View | Current Filter | New Filter |\n|------|---------------|------------|\n| Board - Workflow | `Lifecycle:Active,Backlog` | `Status:Backlog,In Progress` |\n| Backlog - Next Issue | `Lifecycle:Active,Backlog` | `Status:Backlog,In Progress` |\n| Quick Wins | `Lifecycle:Active` | `Status:Backlog` |\n| Agent Workload | `Lifecycle:Active` | `Status:In Progress` |\n| Icebox - Raw Ideas | `Lifecycle:Icebox` | `Status:Icebox` |\n\n**1.5 Update Automation Workflows**\n- Item Closed workflow: Change `Status=Done, Lifecycle=Done` ‚Üí `Status=Done` only\n- PR Merged workflow: Change to set `Status=Done` only\n- Auto-add workflow: Set default `Status=Icebox` for new issues\n\n### Phase 2: Script and Command Updates\n\n**2.1 Simplify Helper Script**\nFile: `.claude/scripts/update-project-status.sh`\n\nCurrent signature:\n```bash\n./update-project-status.sh <issue-number> <status> <lifecycle>\n# Example: ./update-project-status.sh 247 \"In Progress\" \"Active\"\n```\n\nNew signature:\n```bash\n./update-project-status.sh <issue-number> <status>\n# Example: ./update-project-status.sh 247 \"In Progress\"\n```\n\nChanges needed:\n- Remove LIFECYCLE parameter and validation\n- Remove Lifecycle field ID lookup logic  \n- Remove Lifecycle field update section\n- Update help text and examples\n- Update success message format\n\n**2.2 Update Slash Commands**\n\n`.claude/commands/work-on.md` - Update line 9:\n```diff\n- Run: `./.claude/scripts/update-project-status.sh $1 \"In Progress\" \"Active\"`\n+ Run: `./.claude/scripts/update-project-status.sh $1 \"In Progress\"`\n```\n\nUpdate description text to remove Lifecycle references.\n\n### Phase 3: Documentation Updates\n\n**3.1 Major Documentation Files**\n\n**docs/development/github-projects-setup.md** (major rewrite):\n- Remove Lifecycle field creation instructions (Step 2)\n- Update Status field configuration to include all 4 values\n- Update all 5 view configuration instructions with new filters\n- Update automation workflow instructions (remove Lifecycle updates)\n- Rewrite workflow explanation to emphasize linear progression\n- Update helper script examples throughout\n- Update troubleshooting section\n\n**docs/adr/024-github-projects-adoption.md** (amendment):\n- Add new \"Update: Single Linear Status Field (2025-10-25)\" section\n- Document the analysis findings (actual usage data)\n- Explain rationale for simplification\n- Note this as an amendment, not a new ADR\n- Reference the linear progression insight as key learning\n\n**docs/development/project-management.md**:\n- Update workflow diagram to show linear progression\n- Remove all Lifecycle field references\n- Update \"Core Workflow Principles\" to emphasize linear stages\n- Update `/work-on` command examples\n- Update \"Issue Selection Process\" section\n- Clarify Status field semantics\n\n**3.2 Additional Documentation**\n\nFiles to check and update:\n- **CLAUDE.md**: Update GitHub Projects references if present\n- **README.md**: Update project management workflow section\n- **docs/core/workflows.md**: Update if it references Lifecycle\n- **docs/core/framework.md**: Update if it references Lifecycle\n- **docs/development/workflow.md**: Update if it references Lifecycle\n- **docs/reference/labels-and-priorities.md**: Verify no Lifecycle coupling\n\n### Phase 4: Future Extensibility Analysis\n\n**Principle: Linear progressions use Status values; non-linear states use labels**\n\n#### Scenario A: Add \"In Review\" Status (Linear Progression)\n\n**Fits the model perfectly:**\n```\nIcebox ‚Üí Backlog ‚Üí In Progress ‚Üí In Review ‚Üí Done\n```\n\n**Implementation:**\n- ‚úÖ Add \"In Review\" as Status value\n- ‚úÖ No architectural change needed\n- ‚úÖ Views remain simple (group/filter by Status)\n- ‚úÖ Helper script works without modification\n\n**Design decision needed:**\n- Option 1: Separate stages (Backlog ‚Üí In Progress ‚Üí In Review ‚Üí Done)\n- Option 2: Combined stage (Backlog ‚Üí In Progress/Review ‚Üí Done)\n\n**Recommendation**: Use Option 1 if code review is a distinct handoff stage (developer stops work, reviewer starts). Use Option 2 if review happens concurrently with development.\n\n#### Scenario B: Add \"Blocked\" State (Non-Linear)\n\n**Does NOT fit linear model:**\n- Issues can become blocked at any stage\n- Blocking is temporary, returns to previous stage\n- Example: Issue goes In Progress ‚Üí Blocked ‚Üí In Progress\n\n**Two approaches:**\n\n**Approach 1: \"Blocked\" as Status value**\n```\nStatus progression: In Progress ‚Üí Blocked ‚Üí In Progress\n```\n- ‚ùå Loses information about which stage was blocked\n- ‚ùå Blocked issues from different stages mixed together\n- ‚ùå Violates linear progression principle\n\n**Approach 2: \"Blocked\" as label (RECOMMENDED)**\n```\nStatus: In Progress (unchanged)\nLabels: + state:blocked\n```\n- ‚úÖ Preserves stage information (can see what stage is blocked)\n- ‚úÖ Can filter for all blocked items: `is:open label:state:blocked`\n- ‚úÖ Maintains linear Status progression\n- ‚úÖ Remove label when unblocked, Status remains unchanged\n- ‚úÖ Works for blocking at any stage (Icebox blocked, Backlog blocked, In Progress blocked)\n\n**Additional non-linear states that should use labels:**\n- On Hold: `label:state:on-hold`\n- Waiting for Input: `label:state:waiting`\n- Needs Discussion: `label:needs-discussion`\n\n**Rule of thumb**: If an issue can be in this state **at the same time** as a normal progression stage, use a label. If it **replaces** the normal stage, use a Status value.\n\n#### Scenario C: Add \"Testing\" Status (Linear Progression)\n\n**Fits the model:**\n```\nIcebox ‚Üí Backlog ‚Üí In Progress ‚Üí Testing ‚Üí Done\n```\n\n**Consideration**: Do we test while developing (TDD) or after?\n- If TDD (test-first): Testing is part of \"In Progress\", no separate status needed\n- If separate QA phase: \"Testing\" as distinct Status makes sense\n\n**Current project context**: Uses TDD methodology, so testing is concurrent with development. Separate \"Testing\" status likely not needed.\n\n## Acceptance Criteria\n\n### Migration Success\n- [ ] All 53 issues migrated to new Status values with correct mappings\n- [ ] Zero issues remaining with Lifecycle field values\n- [ ] Lifecycle custom field deleted from project\n- [ ] No data loss during migration\n\n### GitHub Projects Configuration\n- [ ] Status field has exactly 4 values: Icebox, Backlog, In Progress, Done\n- [ ] All 5 project views updated with new Status-based filters\n- [ ] Views display correct filtered issues (verify each view manually)\n- [ ] Automation workflows updated to set Status only (no Lifecycle)\n- [ ] Item closed workflow successfully sets Status:Done\n- [ ] New issues automatically get Status:Icebox via automation\n\n### Script and Command Updates\n- [ ] Helper script signature updated to single Status parameter\n- [ ] Helper script successfully updates Status field only\n- [ ] Helper script error handling works correctly\n- [ ] Helper script help text accurate and examples updated\n- [ ] `/work-on` command successfully executes with new script signature\n- [ ] `/work-on` command sets Status:In Progress correctly\n- [ ] Manual verification: `./.claude/scripts/update-project-status.sh 247 \"Backlog\"` works\n\n### Documentation Completeness\n- [ ] github-projects-setup.md accurately reflects new single-field system\n- [ ] ADR-024 includes amendment documenting this change\n- [ ] project-management.md emphasizes linear progression model\n- [ ] All documentation files updated (no stale Lifecycle references)\n- [ ] CLAUDE.md updated if GitHub Projects mentioned\n- [ ] README.md updated with accurate workflow description\n- [ ] Future extensibility analysis documented (In Review, Blocked scenarios)\n\n### Quality and Verification\n- [ ] No broken links in documentation\n- [ ] All code examples in docs are accurate and tested\n- [ ] Linear progression concept clearly articulated in docs\n- [ ] Helper script passes basic smoke tests\n- [ ] All slash commands work with updated script\n- [ ] Manual testing: Create test issue, move through all statuses\n\n### ADR Requirements\n- [ ] Amendment added to ADR-024 (or new ADR-025 created)\n- [ ] Rationale includes actual usage data analysis\n- [ ] Linear progression principle documented as key insight\n- [ ] Trade-offs and limitations noted\n- [ ] Future extensibility guidelines included\n\n## Rollback Plan\n\nIf critical issues discovered during or after migration:\n\n1. **Re-create Lifecycle field** with original values (Icebox, Backlog, Active, Done)\n2. **Restore dual-field values** for all issues (use backup data from migration log)\n3. **Restore original view filters** in all 5 project views\n4. **Revert automation workflows** to set both Status and Lifecycle\n5. **Revert helper script** to original dual-parameter signature\n6. **Revert slash commands** to original dual-field updates\n7. **Revert documentation** using git history\n8. **Document lessons learned** about why rollback was needed\n\n**Migration safety**: Capture before/after state of all issues in migration log for rollback reference.\n\n## Estimated Effort\n\n**Total: 3-4 hours**\n\nBreakdown:\n- Phase 1 (GitHub Projects): 1.5 hours (migration is manual, careful work)\n- Phase 2 (Scripts): 0.5 hours (straightforward code changes)\n- Phase 3 (Documentation): 1-1.5 hours (multiple files, rewriting for clarity)\n- Phase 4 (Analysis): 0.5 hours (documentation only, no implementation)\n- Testing & Verification: 0.5 hours (manual testing across all components)\n\n## Related Issues\n\n- #15 - Development Workflow Diagram: The linear progression model should be documented in the workflow diagram as it's a key insight about how issues flow through the project lifecycle\n\n## Dependencies\n\n**Before starting:**\n- [ ] Backup current project state (export all issues with Status/Lifecycle values)\n- [ ] Verify no one else is actively updating GitHub Projects during migration\n- [ ] Ensure `gh` CLI has `project` scope and Write access to project\n\n## Success Metrics\n\n**Immediate:**\n- Migration completed without data loss\n- All automated workflows function correctly\n- Documentation is clear and accurate\n\n**Long-term:**\n- Easier onboarding for new contributors (simpler project management)\n- Reduced cognitive load when checking issue status\n- Foundation for future workflow enhancements (In Review status, if needed)\n- Clearer alignment between project management and actual development workflow",
        "number": 287,
        "repository": "mikiwiik/instructions-only-claude-coding",
        "title": "Simplify GitHub Projects: Replace dual-field system with linear Status progression",
        "type": "Issue",
        "url": "https://github.com/mikiwiik/instructions-only-claude-coding/issues/287"
      },
      "id": "PVTI_lAHOABVon84BF52zzggUiNM",
      "labels": [
        "priority-3-medium",
        "complexity-moderate",
        "category-infrastructure",
        "category-documentation"
      ],
      "lifecycle": "Active",
      "repository": "https://github.com/mikiwiik/instructions-only-claude-coding",
      "status": "In Progress",
      "title": "Simplify GitHub Projects: Replace dual-field system with linear Status progression"
    },
    {
      "content": {
        "body": "## Summary\n\nSet up the backend infrastructure on Vercel to support shared todo lists with real-time synchronization, leveraging Vercel's serverless architecture and integrated services.\n\n## Problem Statement\n\nThe current todo app runs entirely client-side with localStorage. To enable sharing, we need:\n- Persistent storage for shared lists accessible across devices\n- Real-time synchronization infrastructure\n- API endpoints for shared list operations\n- Scalable, cost-effective backend that integrates with Vercel deployment\n\n## Proposed Vercel Infrastructure\n\n### 1. Storage Solution: Vercel KV (Redis)\n\n**Rationale**: \n- Zero configuration with Vercel\n- Global edge replication\n- Perfect for real-time data with TTL support\n- Generous free tier (30GB storage, 100k requests/month)\n\n**Data Storage Strategy**:\n```typescript\n// Key-value patterns for Vercel KV\n`list:${listId}` ‚Üí SharedList object\n`list:${listId}:participants` ‚Üí Participant[] array\n`list:${listId}:activity` ‚Üí Recent activity log\n`participant:${participantId}` ‚Üí Participant metadata\n```\n\n### 2. Real-Time Options Evaluation\n\n**Option A: Pusher Channels (Recommended)**\n- **Pros**: WebSocket-based, reliable, Vercel-compatible\n- **Cons**: External dependency, limited free tier\n- **Cost**: 100 connections free, $99/month for 500 connections\n- **Implementation**: Trigger events from API routes\n\n**Option B: Server-Sent Events (SSE)**\n- **Pros**: Native HTTP, no external dependencies, simpler\n- **Cons**: One-way communication, connection management\n- **Cost**: Only Vercel function execution time\n- **Implementation**: Long-polling with Vercel Functions\n\n**Option C: Vercel Functions + Polling**\n- **Pros**: Simplest implementation, most reliable\n- **Cons**: Higher latency, more API calls\n- **Cost**: Vercel function invocations only\n- **Implementation**: Client-side polling every 2-3 seconds\n\n### 3. API Routes Structure\n\n```\n/api/shared/\n‚îú‚îÄ‚îÄ create.ts              # POST - Create new shared list\n‚îú‚îÄ‚îÄ [listId]/\n‚îÇ   ‚îú‚îÄ‚îÄ index.ts          # GET - Fetch shared list data\n‚îÇ   ‚îú‚îÄ‚îÄ sync.ts           # POST - Sync todo changes\n‚îÇ   ‚îú‚îÄ‚îÄ join.ts           # POST - Join as participant\n‚îÇ   ‚îú‚îÄ‚îÄ participants.ts   # GET - List active participants\n‚îÇ   ‚îî‚îÄ‚îÄ subscribe.ts      # GET - SSE endpoint (if using SSE)\n```\n\n### 4. Environment Configuration\n\n**Required Environment Variables**:\n```bash\n# Vercel KV\nKV_REST_API_URL=\nKV_REST_API_TOKEN=\n\n# Pusher (if selected)\nPUSHER_APP_ID=\nPUSHER_KEY=\nPUSHER_SECRET=\nPUSHER_CLUSTER=\n\n# Application\nNEXT_PUBLIC_BASE_URL=\nSHARING_SECRET_KEY=  # For share URL generation\n```\n\n**vercel.json Configuration**:\n```json\n{\n  \"functions\": {\n    \"app/api/shared/**\": {\n      \"maxDuration\": 10\n    }\n  },\n  \"regions\": [\"iad1\", \"fra1\", \"hnd1\"],\n  \"env\": {\n    \"KV_REST_API_URL\": \"@kv-rest-api-url\",\n    \"KV_REST_API_TOKEN\": \"@kv-rest-api-token\"\n  }\n}\n```\n\n## Implementation Tasks\n\n### Phase 1: Basic Infrastructure\n- [ ] **Vercel KV Setup**: Enable KV storage in Vercel dashboard\n- [ ] **Environment Variables**: Configure production and preview environments\n- [ ] **API Route Foundation**: Create basic CRUD endpoints for shared lists\n- [ ] **Error Handling**: Implement consistent error responses and logging\n- [ ] **Rate Limiting**: Basic rate limiting using Vercel KV\n\n### Phase 2: Real-Time Integration\n- [ ] **Technology Decision**: Choose between Pusher, SSE, or polling\n- [ ] **Real-Time Implementation**: Set up chosen real-time solution\n- [ ] **Connection Management**: Handle connection failures and reconnection\n- [ ] **Subscription Logic**: Implement pub/sub for list updates\n- [ ] **Testing**: Test real-time sync across multiple clients\n\n### Phase 3: Production Optimization\n- [ ] **Caching Strategy**: Implement appropriate caching headers\n- [ ] **Global Distribution**: Optimize for Vercel's edge network\n- [ ] **Monitoring**: Set up logging and error tracking\n- [ ] **Performance**: Monitor and optimize function execution times\n- [ ] **Security**: Implement proper CORS and security headers\n\n## Technical Specifications\n\n### API Endpoints Design\n\n```typescript\n// POST /api/shared/create\ninterface CreateListRequest {\n  name: string;\n  initialTodos?: Todo[];\n}\n\n// POST /api/shared/[listId]/sync\ninterface SyncRequest {\n  todos: SharedTodo[];\n  participantId: string;\n  lastSyncAt: string;\n}\n\n// GET /api/shared/[listId]/subscribe (SSE)\n// Returns: text/event-stream with real-time updates\n```\n\n### Vercel Function Constraints\n- **Timeout**: 10 seconds for Hobby plan, 60s for Pro\n- **Memory**: 1024MB default, configurable\n- **Cold Starts**: Optimize for fast startup times\n- **Concurrency**: 1000 concurrent executions (Hobby)\n\n## Acceptance Criteria\n\n- [ ] **Vercel KV Integration**: Successfully store and retrieve shared lists\n- [ ] **API Functionality**: All CRUD operations working via API routes\n- [ ] **Real-Time Communication**: Chosen real-time solution implemented and tested\n- [ ] **Environment Management**: Proper configuration for dev/preview/production\n- [ ] **Error Handling**: Graceful error handling with appropriate HTTP status codes\n- [ ] **Performance**: API response times under 200ms for KV operations\n- [ ] **Security**: Rate limiting and basic security measures in place\n- [ ] **Documentation**: API documentation and deployment instructions\n\n## Cost Considerations\n\n### Vercel KV Pricing\n- **Free Tier**: 30GB storage, 100k requests/month, 30 day retention\n- **Pro Tier**: $20/month for 150GB storage, 10M requests/month\n\n### Function Execution\n- **Free Tier**: 100GB-hrs/month execution time\n- **Typical Usage**: ~1-2ms per API call, very cost-effective\n\n### Expected Costs for MVP\n- **Development**: $0 (stays within free tiers)\n- **Low Usage**: $0-20/month\n- **Medium Usage**: $20-50/month\n\n## Related Issues\n\n- Depends on: #120 (Shared todo list data model design)\n- Enables: Real-time synchronization implementation\n- Enables: Share URL generation and access mechanism\n- Enables: Collaborative UI/UX features\n\n## Priority and Complexity\n\n**Priority**: üü† **High** - Required foundation for sharing functionality\n**Complexity**: üü° **Moderate** - Vercel service integration and configuration\n**Category**: Infrastructure, Backend\n\nThis infrastructure will support all sharing features while leveraging Vercel's strengths for scalability and cost-effectiveness.\n\n## Architecture Decision Records\n\n### Required ADRs for This Issue\n\n- [ ] **ADR-016: Vercel Backend Infrastructure Architecture**\n  - Document the choice of Vercel KV over other storage solutions\n  - Justify the API Routes structure and organization\n  - Record real-time technology selection (SSE vs WebSockets vs Polling)\n  - Document environment configuration and deployment strategy\n\n- [ ] **ADR-017: Real-Time Communication Strategy**\n  - Document the evaluation and selection of real-time communication method\n  - Justify the choice between Pusher, SSE, and polling approaches\n  - Record scalability and cost considerations\n  - Document fallback strategies for connection failures\n\n### ADR Integration Requirements\n\n- [ ] Create ADRs before infrastructure setup begins\n- [ ] Document integration points with existing Next.js architecture\n- [ ] Record any changes to deployment or environment management\n- [ ] Include cost analysis and scaling considerations in ADR reasoning\n\n**ADR Location**: `docs/adr/ADR-016-vercel-backend-architecture.md` and `docs/adr/ADR-017-realtime-communication.md`\n\n---\n\n*This issue establishes new backend infrastructure requiring architectural documentation via ADRs.*",
        "number": 121,
        "repository": "mikiwiik/instructions-only-claude-coding",
        "title": "‚òÅÔ∏è Setup Vercel backend infrastructure for shared todo lists",
        "type": "Issue",
        "url": "https://github.com/mikiwiik/instructions-only-claude-coding/issues/121"
      },
      "id": "PVTI_lAHOABVon84BF52zzggDPP0",
      "labels": [
        "priority-2-high",
        "complexity-moderate",
        "category-infrastructure"
      ],
      "lifecycle": "Backlog",
      "repository": "https://github.com/mikiwiik/instructions-only-claude-coding",
      "status": "Todo",
      "title": "‚òÅÔ∏è Setup Vercel backend infrastructure for shared todo lists"
    },
    {
      "content": {
        "body": "## Overview\n\nAdd a comprehensive user manual accessible within the application at a dedicated `/help` route. The manual should be automatically updated when features change and serve both in-app users and GitHub repository visitors.\n\n## User Requirements\n\n- **Content Type**: Comprehensive manual covering all features\n- **Access Method**: Dedicated help page (`/help` route)\n- **Source Format**: Auto-generated/maintained from repository\n- **Initial Scope**: Minimal MVP focusing on essential features\n\n## Research Findings\n\n### Recommended Approach: Markdown File + In-App Rendering\n\nCreate `docs/USER_MANUAL.md` in the repository and render it in the app using existing `react-markdown` infrastructure.\n\n**Advantages**:\n- ‚úÖ Single source of truth (serves both GitHub and app)\n- ‚úÖ Easy to maintain - edit one markdown file\n- ‚úÖ Already have `react-markdown` (v10.1.0) and `remark-gfm` (v4.0.1) installed\n- ‚úÖ GitHub renders it beautifully in the repo\n- ‚úÖ Version controlled with the code\n- ‚úÖ No complex tooling or build dependencies\n\n### Alternative Approaches Considered\n\n1. **TypeDoc** - Auto-generated from JSDoc/TypeScript\n   - ‚ùå Too technical for end users\n   - ‚ùå Better for developer docs than user manual\n\n2. **Hybrid Manual + Auto-Generated**\n   - ‚úÖ Best of both worlds\n   - ‚ùå More complex for MVP (future enhancement)\n\n3. **Multiple Small MD Files**\n   - ‚úÖ Modular organization\n   - ‚ùå More files to maintain\n\n## Implementation Tasks\n\n### 1. Create User Manual Content (`docs/USER_MANUAL.md`)\n\nMinimal MVP content sections:\n- **Getting Started** - Quick introduction (5-10 lines)\n- **Core Features** - Add, edit, complete, delete todos\n- **Touch Gestures** - Swipe right (complete), swipe left (delete), long press (edit)\n- **Keyboard Navigation** - Full accessibility support\n- **Local Storage** - How data persistence works\n\n### 2. Create Help Page (`app/help/page.tsx`)\n\n- Fetch `USER_MANUAL.md` content at build time\n- Render using existing `react-markdown` + `remark-gfm` setup\n- Apply consistent styling with app theme\n- Ensure responsive design (mobile-first)\n\n### 3. Add Navigation\n\n- Add \"Help\" link in app footer (next to \"View on GitHub\")\n- Ensure keyboard accessible navigation\n- Consider adding help icon in header for mobile\n\n### 4. Update Documentation\n\n- Update `README.md` to mention in-app help feature\n- Add `USER_MANUAL.md` to documentation index\n- Update user flow diagrams if needed\n\n## Future Enhancements\n\n- Hybrid auto-generation from code comments\n- Multiple manual sections with in-page navigation\n- Search functionality within help\n- Interactive tutorials/walkthroughs\n\n## Acceptance Criteria\n\n- [ ] `docs/USER_MANUAL.md` created with minimal MVP content\n- [ ] `/help` route renders markdown content correctly\n- [ ] Help link added to app footer\n- [ ] Responsive design works on mobile and desktop\n- [ ] Keyboard navigation to help page works\n- [ ] README.md updated to mention help feature\n- [ ] All tests pass\n- [ ] Accessibility requirements met (WCAG 2.2 AA)\n\n## Technical Notes\n\n**Dependencies**: Already installed\n- `react-markdown`: 10.1.0\n- `remark-gfm`: 4.0.1\n\n**Reference Implementation**: See `app/components/MarkdownHelpBox.tsx` for existing markdown rendering pattern.\n\n## Related Documentation\n\n- [Mobile UX Guidelines](docs/guidelines/mobile-ux-guidelines.md)\n- [Accessibility Requirements](docs/guidelines/accessibility-requirements.md)\n- [User Flow Diagrams](docs/diagrams/user-flows.md)",
        "number": 279,
        "repository": "mikiwiik/instructions-only-claude-coding",
        "title": "Add in-app user manual with /help page",
        "type": "Issue",
        "url": "https://github.com/mikiwiik/instructions-only-claude-coding/issues/279"
      },
      "id": "PVTI_lAHOABVon84BF52zzggT4k8",
      "labels": [
        "priority-3-medium",
        "complexity-moderate",
        "category-feature"
      ],
      "lifecycle": "Backlog",
      "repository": "https://github.com/mikiwiik/instructions-only-claude-coding",
      "status": "Todo",
      "title": "Add in-app user manual with /help page"
    },
    {
      "content": {
        "body": "## Description\nCreate Docker configuration to enable running the Next.js Todo App locally in a containerized environment.\n\n**Scope:** This issue focuses EXCLUSIVELY on containerizing the Next.js application, tests, and build processes. Claude Code containerization is handled separately in other issues.\n\n## Core Requirements\n\n### Docker Infrastructure\n- [ ] Create Dockerfile for the Next.js application\n- [ ] Add docker-compose.yml for local development (extensible for future database container)\n- [ ] Configure environment variables for Docker\n- [ ] Add Docker scripts to package.json\n- [ ] Test Docker build and run process\n- [ ] Ensure hot reload works in Docker development mode\n- [ ] Optimize Docker image size (multi-stage build)\n\n### Development Workflow Integration\n- [ ] Ensure all npm scripts work through Docker\n- [ ] Update testing strategy to run in Docker\n- [ ] Configure development server in Docker\n- [ ] Integrate with existing pre-commit hooks and quality tools\n\n## Docker Configuration Requirements\n\n### Dockerfile\n- [ ] Use appropriate Node.js base image (align with Vercel deployment - Node.js 22)\n- [ ] Install dependencies efficiently with proper caching\n- [ ] Configure for development and production builds\n- [ ] Set proper working directory and user permissions\n- [ ] Expose correct port (3000)\n- [ ] Multi-stage build for development and production\n\n### Docker Compose\n- [ ] Configure development service with proper environment\n- [ ] Mount source code for hot reload functionality\n- [ ] Set up environment variables for different environments\n- [ ] Configure port mapping for local development\n- [ ] Add volume mounts for node_modules optimization\n- [ ] Structure to allow future database container addition\n\n### Scripts and Integration\n- [ ] Add npm scripts for Docker operations (`docker:dev`, `docker:test`, etc.)\n- [ ] Integrate Docker commands with existing development workflow\n- [ ] Ensure compatibility with existing CI/CD pipeline\n- [ ] Add Docker-specific environment configuration\n\n## Documentation Requirements\n\n### Updated Documentation\n- [ ] **Update README.md** with Docker setup instructions (as optional approach)\n- [ ] **Add docs/development/docker.md** for Docker development guide\n- [ ] **Add Docker troubleshooting** to docs/reference/troubleshooting.md\n- [ ] Document when to use Docker vs native development\n\n## Acceptance Criteria\n\n### Core Functionality\n- [ ] Application runs successfully in Docker container\n- [ ] Hot reload works for development within Docker\n- [ ] All npm scripts work through Docker (test, lint, build, type-check)\n- [ ] Build process is optimized and fast\n- [ ] No conflicts with existing development workflow\n- [ ] Testing runs successfully in Docker environment\n\n### Quality Standards\n- [ ] Easy to understand Docker setup documentation\n- [ ] Docker-compose structure supports future expansion (database)\n- [ ] Professional development standards maintained\n- [ ] Integration with existing CI/CD pipeline verified\n- [ ] Performance acceptable on macOS, Linux, and Windows\n\n## Out of Scope\n\nThis issue does NOT cover:\n- ‚ùå Running Claude Code inside containers (see separate issue for SSH-based Claude container)\n- ‚ùå VS Code devcontainer integration (see #168)\n- ‚ùå Modifying CLAUDE.md for Docker commands (app containers are optional, not mandatory)\n\n## Related Issues\n\n- **#168**: VS Code devcontainer investigation (official devcontainer support)\n- **TBD**: Claude Code security container (SSH-based approach using agenttisen-ohjelmoinnin-kontti)\n- **#162**: CI/CD Pipeline Optimization (will align with Docker Linux environment)\n- **#23**: Security scanning (will include Docker container scanning)\n\n## Priority\n\nüü† **Medium** - Infrastructure improvement for development consistency\n\n## Complexity\n\n**Epic** - Comprehensive Docker setup affecting development workflow",
        "number": 11,
        "repository": "mikiwiik/instructions-only-claude-coding",
        "title": "üê≥ Infrastructure: Run Locally in Docker",
        "type": "Issue",
        "url": "https://github.com/mikiwiik/instructions-only-claude-coding/issues/11"
      },
      "id": "PVTI_lAHOABVon84BF52zzggDPQw",
      "labels": [
        "documentation",
        "priority-3-medium",
        "complexity-epic",
        "claude-workflow",
        "category-infrastructure"
      ],
      "lifecycle": "Backlog",
      "repository": "https://github.com/mikiwiik/instructions-only-claude-coding",
      "status": "Todo",
      "title": "üê≥ Infrastructure: Run Locally in Docker"
    },
    {
      "content": {
        "body": "## Overview\n\nEstablish a comprehensive quality standards document that consolidates all quality requirements, standards, and guidelines into a unified framework for the project.\n\n## Current State\n\nQuality standards are currently distributed across multiple documents:\n\n**Established Standards:**\n- Code Complexity (ADR-027, code-complexity-guidelines.md) ‚úÖ\n- TypeScript (ADR-022, typescript-standards.md) ‚úÖ\n- Accessibility (accessibility-requirements.md) ‚úÖ\n- Documentation (documentation-standards.md) ‚úÖ\n- Quality Gates (workflows.md) ‚úÖ\n\n**Gap:** No single, authoritative quality standards document that:\n- Defines overall quality philosophy and principles\n- Consolidates all standards with clear hierarchy\n- Provides quality metrics and measurement criteria\n- Establishes quality assurance processes and workflows\n- Documents quality tooling and automation\n\n## Proposed Solution\n\nCreate `docs/core/quality-standards.md` as the authoritative quality reference:\n\n### 1. Quality Philosophy Section\n- Define project quality principles\n- Establish quality-first development culture\n- Document quality vs. velocity trade-offs\n\n### 2. Standards Hierarchy\n- **Critical (P1)**: TypeScript strict mode, complexity limits, accessibility\n- **High (P2)**: Test coverage, documentation completeness\n- **Medium (P3)**: Code style, naming conventions\n- **Low (P4)**: Optimization, performance tuning\n\n### 3. Quality Metrics\n- Define measurable quality indicators\n- Establish quality score/rating system\n- Document how to track quality over time\n\n### 4. Quality Assurance Process\n- Pre-development: Planning and design reviews\n- During development: TDD, pair programming, code reviews\n- Post-development: Testing, accessibility audits, performance checks\n- Continuous: Monitoring, technical debt tracking\n\n### 5. Tooling and Automation\n- ESLint configuration and rules\n- Prettier formatting\n- SonarCloud analysis\n- Accessibility testing tools\n- Performance monitoring\n\n### 6. Quality Standards Index\nCentral reference linking to all specific guidelines:\n- TypeScript Standards ‚Üí typescript-standards.md\n- Code Complexity ‚Üí code-complexity-guidelines.md + ADR-027\n- Accessibility ‚Üí accessibility-requirements.md\n- Documentation ‚Üí documentation-standards.md\n- Testing ‚Üí (reference in workflows.md)\n- Mobile UX ‚Üí mobile-ux-guidelines.md\n\n### 7. Quality Enforcement\n- Pre-commit hooks configuration\n- CI/CD quality gates\n- PR review checklist\n- Definition of Done integration\n\n## Benefits\n\n1. **Single Source of Truth**: One document to reference for all quality standards\n2. **Onboarding**: New developers have clear quality expectations\n3. **Consistency**: Unified approach to quality across all work\n4. **Measurability**: Clear metrics for tracking quality improvements\n5. **Discoverability**: Easy to find and understand quality requirements\n\n## Acceptance Criteria\n\n- [ ] Create `docs/core/quality-standards.md` with all sections\n- [ ] Link to all existing guidelines and ADRs\n- [ ] Define quality metrics and measurement approach\n- [ ] Document quality assurance processes\n- [ ] Update CLAUDE.md to reference new quality standards document\n- [ ] Update workflows.md to link to quality-standards.md\n- [ ] Create quality standards checklist for PR reviews\n- [ ] Add quality standards to project README\n\n## Effort Estimate\n\n**Complexity**: Moderate (3-4 hours)\n- Document structure and philosophy: 1 hour\n- Consolidate existing standards: 1 hour\n- Define metrics and processes: 1 hour\n- Create checklists and integration: 1 hour\n\n## Related\n\n- Issue #259: Fix SonarCloud High Severity Code Complexity Issues\n- ADR-027: Code Complexity Standards\n- ADR-022: Strict TypeScript Type Safety Enforcement\n- docs/core/workflows.md: Quality Gates section\n- docs/guidelines/: All standards documents\n\n## Priority Rationale\n\n**Icebox Priority**: Not urgent but valuable for long-term project health.\n- Current standards are functional but distributed\n- Would improve developer experience and onboarding\n- Provides foundation for future quality improvements\n- Can be implemented when bandwidth allows\n\n---\n\nü§ñ Generated with [Claude Code](https://claude.com/claude-code)",
        "number": 282,
        "repository": "mikiwiik/instructions-only-claude-coding",
        "title": "Define comprehensive quality standards and quality assurance framework",
        "type": "Issue",
        "url": "https://github.com/mikiwiik/instructions-only-claude-coding/issues/282"
      },
      "id": "PVTI_lAHOABVon84BF52zzggUdk8",
      "labels": [
        "priority-4-low",
        "complexity-moderate",
        "category-infrastructure"
      ],
      "lifecycle": "Backlog",
      "repository": "https://github.com/mikiwiik/instructions-only-claude-coding",
      "status": "Todo",
      "title": "Define comprehensive quality standards and quality assurance framework"
    },
    {
      "content": {
        "body": "## Description\n\nAdd test coverage for the real-time synchronization API routes introduced in #122.\n\n## Scope\n\n**API Routes**:\n- **Subscribe endpoint**: `app/api/shared/[listId]/subscribe/route.ts`\n  - SSE streaming functionality\n  - Connection management\n  - Event emission (connected, sync events)\n  - Error handling and auto-close\n  \n- **Sync endpoint**: `app/api/shared/[listId]/sync/route.ts`\n  - All sync operations (create, update, delete, reorder)\n  - Request validation\n  - Error responses (404, 400)\n  - Success responses with updated todos\n\n**Additional Files** (excluded from coverage in issue #194):\n- `app/hooks/useSharedTodoSync.ts`\n- `app/hooks/useSharedTodos.ts`\n- `app/lib/sync-queue.ts`\n\n## Technical Challenges\n\n- Mocking Edge Runtime environment\n- Testing ReadableStream for SSE\n- Mocking NextRequest/NextResponse\n- Testing async streaming behavior\n\n## Acceptance Criteria\n\n- [ ] Subscribe route tests achieve >90% coverage\n- [ ] Sync route tests achieve >90% coverage\n- [ ] All edge cases covered (errors, validation, etc.)\n- [ ] Tests pass in CI/CD pipeline\n- [ ] Overall project coverage returns to >90%\n- [ ] Remove coverage exclusions from jest.config.js\n- [ ] Remove coverage exclusions from sonar-project.properties\n\n## Current Coverage Exclusions\n\n**Jest** (`jest.config.js`):\n```javascript\n'!app/api/**/*', // Temporarily excluded - see issue #193\n'!app/hooks/useSharedTodoSync.ts', // Temporarily excluded - see issue #194\n'!app/hooks/useSharedTodos.ts', // Temporarily excluded - see issue #194\n'!app/lib/sync-queue.ts', // Temporarily excluded - see issue #194\n```\n\n**SonarCloud** (`sonar-project.properties`):\n```properties\nsonar.coverage.exclusions=...,app/api/**/*,app/hooks/useSharedTodoSync.ts,app/hooks/useSharedTodos.ts,app/lib/sync-queue.ts\n```\n\n## Context\n\nAPI routes and sync files were excluded from coverage in PR #188 to unblock the real-time sync feature. This issue tracks adding proper test coverage for production readiness and restoring full coverage requirements.\n\n## Related\n\n- Implements testing for #122\n- Follows up on PR #188\n- Related to #194 (skipped tests)",
        "number": 193,
        "repository": "mikiwiik/instructions-only-claude-coding",
        "title": "Add comprehensive tests for real-time sync API routes",
        "type": "Issue",
        "url": "https://github.com/mikiwiik/instructions-only-claude-coding/issues/193"
      },
      "id": "PVTI_lAHOABVon84BF52zzggDPOc",
      "labels": ["priority-2-high", "complexity-moderate", "category-feature"],
      "lifecycle": "Backlog",
      "repository": "https://github.com/mikiwiik/instructions-only-claude-coding",
      "status": "Todo",
      "title": "Add comprehensive tests for real-time sync API routes"
    },
    {
      "content": {
        "body": "## Description\nResearch E2E testing solutions and implement comprehensive end-to-end testing for the Todo App with proper architectural documentation.\n\n## Phase 1: Research and Decision (ADR Required)\n- [ ] Research E2E testing frameworks for Next.js applications\n- [ ] Compare Playwright vs Cypress vs other alternatives\n- [ ] Evaluate integration with existing test setup\n- [ ] Consider CI/CD pipeline compatibility\n- [ ] Assess learning value and complexity\n- [ ] **Create ADR documenting framework selection**\n\n## Research Criteria\n### Technical Factors\n- [ ] Next.js/React compatibility\n- [ ] TypeScript support\n- [ ] CI/CD integration (GitHub Actions)\n- [ ] Local development experience\n- [ ] Test debugging capabilities\n\n### Learning Factors\n- [ ] Documentation quality and community\n- [ ] Ease of setup and maintenance\n- [ ] Industry adoption and best practices\n- [ ] Alignment with project educational goals\n\n## Phase 2: Implementation\n- [ ] Set up chosen E2E testing framework\n- [ ] Configure test environment and settings\n- [ ] Create test utilities and helpers\n- [ ] Implement core user flow tests\n- [ ] Integrate with CI/CD pipeline\n- [ ] Document testing approach\n\n## E2E Test Coverage Requirements\n### Core User Flows\n- [ ] Add new todo functionality\n- [ ] Mark todo as complete/incomplete\n- [ ] Edit existing todo\n- [ ] Delete todo\n- [ ] Filter todos (when implemented)\n- [ ] Data persistence across page reloads\n\n### Technical Scenarios\n- [ ] localStorage integration\n- [ ] Component state management\n- [ ] Error handling and edge cases\n- [ ] Responsive design validation\n\n## ADR Requirements\n**üìã CRITICAL**: Must create ADR before implementation\n- [ ] Document alternatives considered\n- [ ] Evaluation criteria and scoring\n- [ ] Final recommendation with rationale\n- [ ] Implementation considerations\n- [ ] Trade-offs and limitations\n\n## Documentation Updates\n- [ ] Update README.md with E2E testing instructions\n- [ ] Document test commands and workflows\n- [ ] Add E2E testing to development guidelines\n- [ ] Update CLAUDE.md with testing requirements\n\n## Acceptance Criteria\n- [ ] ADR documents framework selection process\n- [ ] E2E tests cover all critical user flows\n- [ ] Tests run reliably in CI/CD pipeline\n- [ ] Local development workflow is documented\n- [ ] Framework choice supports learning objectives\n- [ ] Tests catch real integration issues\n\n## Priority\nüü° Medium - Important for comprehensive testing but after core features\n\n## Dependencies\n- Should be implemented after core Todo functionality is stable\n- Requires functioning CI/CD pipeline for full integration\n\n## Labels\ntesting, e2e, research, adr, playwright, cypress",
        "number": 29,
        "repository": "mikiwiik/instructions-only-claude-coding",
        "title": "üß™ Testing: Research and Implement End-to-End Testing",
        "type": "Issue",
        "url": "https://github.com/mikiwiik/instructions-only-claude-coding/issues/29"
      },
      "id": "PVTI_lAHOABVon84BF52zzggDPQA",
      "labels": [
        "priority-3-medium",
        "complexity-complex",
        "category-infrastructure"
      ],
      "lifecycle": "Backlog",
      "repository": "https://github.com/mikiwiik/instructions-only-claude-coding",
      "title": "üß™ Testing: Research and Implement End-to-End Testing"
    },
    {
      "content": {
        "body": "## Context\n\nFollowing research into GitHub's sub-issues feature and analysis of how it complements our current GitHub Projects implementation (PR #208), we should pilot the sub-issues capability to enhance visibility and tracking of complex, multi-component initiatives.\n\n**Key Finding**: Sub-issues integrate seamlessly with our existing architecture:\n- Labels remain single source of truth for priority/complexity/category (no change)\n- Status and Lifecycle custom fields continue to track workflow state (no change)\n- Parent issue and Sub-issue progress are **built-in GitHub fields** (zero setup overhead)\n- Aligns perfectly with \"labels = what it IS, fields = where it IS\" principle\n\n**Documentation Reference**: Analysis completed in conversation 2025-10-19\n\n## Problem Statement\n\nCurrent system lacks visibility for complex initiatives spanning multiple issues:\n- Related issues (#121, #123, #125 - all part of shared lists feature) aren't explicitly connected\n- No automatic progress tracking for multi-issue features\n- Difficult to visualize which agents are working on parts of same epic\n- Manual coordination overhead for complexity-complex/epic issues\n\n## Proposed Solution\n\nImplement a **minimal, incremental pilot** of GitHub sub-issues:\n\n### Phase 1: Enable and Test (Week 1)\n\n**Setup (5 minutes via web UI):**\n1. Navigate to GitHub Project ‚Üí Settings ‚Üí Fields\n2. Verify \"Parent issue\" field exists (built-in)\n3. Verify \"Sub-issue progress\" field exists (built-in)\n4. Add both columns to Backlog view\n\n**Test Epic: Shared Todo Lists Feature**\n\nCreate parent issue grouping existing issues:\n- Parent: Epic #XXX \"Shared Todo Lists Feature\" (complexity-complex, priority-2-high, category-feature)\n- Sub-issues:\n  - #121: Setup Vercel backend infrastructure (complexity-moderate, category-infrastructure)\n  - #123: Implement share URL generation (complexity-moderate, category-feature)\n  - #125: Extend useTodos hook for shared lists (complexity-complex, category-feature)\n\n**Evaluation Criteria (1 week):**\n- [ ] Sub-issue progress field auto-updates as sub-issues close\n- [ ] Existing views (Board, Backlog, Quick Wins) still work normally\n- [ ] PM visibility improves (can see epic structure at a glance)\n- [ ] No synchronization burden or data duplication\n- [ ] Natural fit with WIP limits (applied to active sub-issues, not parent)\n\n### Phase 2: Documentation (Only if Phase 1 Successful)\n\n**Update docs/development/project-management.md:**\n- Add \"Built-in Fields\" section after \"Custom Fields\" (lines 305-316)\n- Add \"Working with Epics\" section after \"Issue Lifecycle\"\n- Update \"Definition of Done\" to include epic completion criteria\n\n**Update docs/reference/labels-and-priorities.md:**\n- Add epic usage guidelines for complexity-complex/epic labels\n- Add example epic structure with sub-issues\n\n**Optionally update CLAUDE.md:**\n- Add agent guidance: \"For complexity-complex/epic, use TodoWrite to plan sub-issues\"\n\n### Phase 3: Create Epic Progress View (Optional)\n\n**Only if frequently checking epic progress:**\n\nCreate 6th project view:\n- **Name**: \"Epic Progress\"\n- **Layout**: Table\n- **Group by**: Parent issue\n- **Columns**: Title, Labels, Status, Lifecycle, Sub-issue progress, Assignees\n- **Filter**: `Lifecycle:Active,Backlog`\n\nUpdate docs/development/github-projects-setup.md with View 6 instructions\n\n## Acceptance Criteria\n\n- [ ] Built-in Parent issue and Sub-issue progress fields enabled in project\n- [ ] Test epic created grouping issues #121, #123, #125\n- [ ] Sub-issue progress auto-updates correctly (X of Y complete)\n- [ ] Existing 5 project views continue to work without modification\n- [ ] Evaluation completed after 1 week of usage\n- [ ] Decision made: full adoption (proceed to Phase 2) or rollback\n- [ ] If adopting: ADR created documenting decision\n- [ ] If adopting: Documentation updated per Phase 2\n\n## Benefits\n\n**For Project Management:**\n- Visual hierarchy showing complex initiatives\n- Automatic progress tracking (% completion)\n- Clear relationship between related issues\n\n**For Agentic Development:**\n- Natural task decomposition (epic ‚Üí sub-issues via TodoWrite)\n- Multi-agent coordination (each agent gets discrete sub-issue)\n- Aligns with CLAUDE.md principle: \"2-4 agents for complex features\"\n\n**For Existing Architecture:**\n- Zero changes to label system\n- Zero data duplication (built-in fields)\n- Zero sync burden (automatic progress updates)\n- Compatible with all existing views and workflows\n\n## Technical Considerations\n\n**What Changes:**\n- Enable 2 built-in fields in project views\n- Optionally create 6th view for epic visualization\n- Documentation updates (Phase 2)\n\n**What DOESN'T Change:**\n- Label architecture (priority/complexity/category)\n- Status and Lifecycle custom fields\n- All 5 existing project views\n- Issue creation process\n- WIP limits (still apply to active sub-issues)\n- `/select-next-issue` command\n\n## Risks and Mitigation\n\n**Risk**: Additional complexity overhead\n**Mitigation**: Use only for complexity-complex/epic, not all issues\n\n**Risk**: WIP limit confusion (epic vs sub-issue count)\n**Mitigation**: Document clearly: WIP applies to active sub-issues, not parent epics\n\n**Risk**: Over-engineering with deep hierarchies\n**Mitigation**: Limit to 2 levels max (parent + children, no grandchildren)\n\n## Success Metrics\n\nAfter 1 week pilot:\n- PM can answer \"What's the progress on shared lists feature?\" in 5 seconds\n- Epic progress updates automatically without manual tracking\n- No confusion about which issues are related\n- Zero additional sync/maintenance burden\n\n## References\n\n- Issues forming test epic: #121, #123, #125\n- GitHub Projects implementation: PR #208\n- Current architecture: docs/development/project-management.md\n- Labels documentation: docs/reference/labels-and-priorities.md\n- GitHub sub-issues docs: https://docs.github.com/en/issues/tracking-your-work-with-issues/using-issues/adding-sub-issues\n\n## Assessment\n\n**Priority: priority-3-medium**\n- Not blocking, but improves PM visibility for complex features\n- Can be completed between higher-priority work\n- Pilot approach reduces urgency\n\n**Complexity: complexity-simple**\n- Phase 1: Enable built-in fields (5 min), create test epic (30 min), evaluate (1 week)\n- Phase 2: Documentation updates (1-2 hours if Phase 1 successful)\n- Phase 3: Optional view creation (30 min)\n- Total effort: 2-3 hours spread over 1-2 weeks\n\n**Category: category-infrastructure + category-dx**\n- Infrastructure: GitHub Projects configuration and workflow\n- DX: Developer experience improvement for agentic workflows",
        "number": 244,
        "repository": "mikiwiik/instructions-only-claude-coding",
        "title": "Infrastructure: Pilot GitHub sub-issues feature for epic/hierarchy management",
        "type": "Issue",
        "url": "https://github.com/mikiwiik/instructions-only-claude-coding/issues/244"
      },
      "id": "PVTI_lAHOABVon84BF52zzggDgHM",
      "labels": [
        "priority-3-medium",
        "complexity-simple",
        "category-infrastructure",
        "category-dx"
      ],
      "lifecycle": "Backlog",
      "repository": "https://github.com/mikiwiik/instructions-only-claude-coding",
      "title": "Infrastructure: Pilot GitHub sub-issues feature for epic/hierarchy management"
    },
    {
      "content": {
        "body": "## Summary\n\nCreate comprehensive documentation for setting up SonarLint in developer IDEs to enable real-time code quality decorations during development. This complements our existing SonarCloud CI/CD integration.\n\n## Current State\n\n- ‚úÖ SonarCloud CI/CD integration configured (docs/setup/sonarcloud-setup.md)\n- ‚úÖ Pull request decorations working\n- ‚úÖ SonarCloud web dashboard available\n- ‚ùå No documentation for local IDE setup with SonarLint\n\n## Requirements\n\n### Documentation Deliverables\n\n- [ ] Create `docs/setup/sonarlint-ide-setup.md` with comprehensive IDE setup guide\n- [ ] Update `docs/setup/sonarcloud-setup.md` to reference SonarLint guide\n- [ ] Add cross-reference link from README.md (if development setup section exists)\n\n### IDE Coverage Required\n\n**Primary IDEs (detailed setup):**\n- [ ] **VS Code** - SonarLint extension installation and configuration\n- [ ] **IntelliJ IDEA / WebStorm** - SonarLint plugin setup\n\n**Secondary IDEs (brief mentions):**\n- [ ] Eclipse, Sublime Text, Vim (with links to official docs)\n\n### Setup Instructions Must Include\n\n1. **Installation Steps**\n   - Extension/plugin installation\n   - SonarCloud connection setup\n   - Project binding to `mikiwiik_instructions-only-claude-coding`\n\n2. **Configuration**\n   - Organization: `mikiwiik`\n   - Token generation from SonarCloud\n   - Connected mode setup\n\n3. **Verification**\n   - How to verify SonarLint is working\n   - Example of inline code decorations\n   - Where to view rule descriptions\n\n4. **Troubleshooting**\n   - Connection issues\n   - Missing decorations\n   - Token authentication problems\n\n## Benefits\n\n- üéØ **Real-time feedback** - See code quality issues while typing\n- üöÄ **Faster development** - Catch issues before committing\n- üìö **Learning tool** - Inline explanations of code quality rules\n- üîÑ **Consistent standards** - Same rules as CI/CD locally\n\n## Implementation Approach\n\n### Complexity Assessment\n- **Estimated Complexity**: complexity-simple\n- **Affected Files**: \n  - New: `docs/setup/sonarlint-ide-setup.md`\n  - Update: `docs/setup/sonarcloud-setup.md`\n  - Optional: `README.md`\n- **Dependencies**: None (SonarCloud already configured)\n\n### Documentation Structure\n\n```markdown\n# SonarLint IDE Setup Guide\n\n## Overview\n- Benefits of SonarLint\n- How it complements CI/CD\n\n## VS Code Setup\n1. Install extension\n2. Connect to SonarCloud\n3. Bind project\n4. Verify\n\n## IntelliJ/WebStorm Setup\n[Similar structure]\n\n## Other IDEs\n[Brief mentions with official links]\n\n## Troubleshooting\n[Common issues and solutions]\n```\n\n## Acceptance Criteria\n\n- [ ] Documentation is clear and concise\n- [ ] Step-by-step instructions for VS Code and IntelliJ/WebStorm\n- [ ] Screenshots or examples where helpful\n- [ ] Cross-references updated\n- [ ] All links functional\n- [ ] Tested by following instructions in clean IDE\n\n## Priority and Labels\n\n- **Priority**: priority-4-low (Developer experience enhancement, not blocking)\n- **Complexity**: complexity-simple (Straightforward documentation)\n- **Category**: category-documentation, category-dx",
        "number": 252,
        "repository": "mikiwiik/instructions-only-claude-coding",
        "title": "Documentation: Add SonarLint IDE setup guide for local development",
        "type": "Issue",
        "url": "https://github.com/mikiwiik/instructions-only-claude-coding/issues/252"
      },
      "id": "PVTI_lAHOABVon84BF52zzggDqn0",
      "labels": [
        "priority-4-low",
        "complexity-simple",
        "category-documentation",
        "category-dx"
      ],
      "lifecycle": "Done",
      "linked pull requests": [
        "https://github.com/mikiwiik/instructions-only-claude-coding/pull/254"
      ],
      "repository": "https://github.com/mikiwiik/instructions-only-claude-coding",
      "status": "Done",
      "title": "Documentation: Add SonarLint IDE setup guide for local development"
    },
    {
      "content": {
        "body": "## Description\nCreate a Mermaid diagram documenting the main user interaction flows for the Todo App.\n\n## Tasks\n- [ ] Create `docs/diagrams/user-flows.md`\n- [ ] Document todo creation flow\n- [ ] Document todo completion/toggle flow\n- [ ] Document todo deletion flow\n- [ ] Document todo editing flow\n- [ ] Document filter/search interactions\n\n## User Flow Diagram Requirements\n- [ ] Add new todo workflow\n- [ ] Toggle todo status workflow\n- [ ] Edit existing todo workflow\n- [ ] Delete todo workflow\n- [ ] Filter todos workflow\n- [ ] User decision points and paths\n\n## Acceptance Criteria\n- [ ] Clear step-by-step user interactions\n- [ ] Shows all main user capabilities\n- [ ] Easy to follow for UX understanding\n- [ ] Renders correctly on GitHub\n\n## Priority\nüü° Medium - User experience documentation\n\n## Labels\ndocumentation, mermaid, user-flows, ux",
        "number": 14,
        "repository": "mikiwiik/instructions-only-claude-coding",
        "title": "üìä Documentation: Create User Flow Diagram (Mermaid)",
        "type": "Issue",
        "url": "https://github.com/mikiwiik/instructions-only-claude-coding/issues/14"
      },
      "id": "PVTI_lAHOABVon84BF52zzggDPQs",
      "labels": [
        "priority-4-low",
        "complexity-minimal",
        "category-documentation"
      ],
      "lifecycle": "Done",
      "linked pull requests": [
        "https://github.com/mikiwiik/instructions-only-claude-coding/pull/251"
      ],
      "repository": "https://github.com/mikiwiik/instructions-only-claude-coding",
      "status": "Done",
      "title": "üìä Documentation: Create User Flow Diagram (Mermaid)"
    },
    {
      "content": {
        "body": "## Context\n\nThis issue tracks the actual implementation of the React 19 + Next.js 15 upgrade, building on the investigation and preparation work completed in previous issues.\n\n**Investigation & Preparation**:\n- **#223**: Investigated React 19 migration compatibility and created assessment report ‚úÖ\n- **#240**: Identified @dnd-kit as critical blocker (no React 19 support) ‚úÖ\n- **#241**: Resolved blocker by migrating to pragmatic-drag-and-drop ‚úÖ\n\n**Key Finding from #223**: \nThe migration assessment identified @dnd-kit as the only blocking dependency. With PR #241 merged, all blockers are now resolved and the upgrade path is clear.\n\n**Current State**:\n- React: 18.3.1 ‚Üí Target: 19.2.0\n- Next.js: 14.2.33 ‚Üí Target: 15.5.5\n- All React 19 blockers resolved per investigation in #223\n- Migration path validated and documented\n\n## Objectives\n\nUpgrade the React ecosystem to latest stable versions:\n\n1. **React 19.2.0** - Latest stable release with new features\n2. **Next.js 15.5.5** - Latest stable release with React 19 support\n3. **Related Type Definitions** - @types/react, @types/react-dom\n\n## Implementation Plan\n\n### Phase 1: Dependency Updates\n\nUpdate package.json with coordinated versions:\n\n```json\n{\n  \"dependencies\": {\n    \"react\": \"19.2.0\",\n    \"react-dom\": \"19.2.0\",\n    \"next\": \"15.5.5\"\n  },\n  \"devDependencies\": {\n    \"@types/react\": \"19.2.0\",\n    \"@types/react-dom\": \"19.2.0\"\n  }\n}\n```\n\n### Phase 2: Breaking Changes Assessment\n\n**React 19 Changes** (per investigation #223):\n- ‚úÖ **useSyncExternalStore** - Already using correct pattern\n- ‚úÖ **Concurrent Features** - App Router already compatible\n- ‚úÖ **@dnd-kit blocker** - Resolved in PR #241 (pragmatic-drag-and-drop migration)\n- ‚ö†Ô∏è **PropTypes removal** - Verify no usage (we use TypeScript)\n- ‚ö†Ô∏è **Legacy Context API** - Verify no usage (we use modern Context)\n\n**Next.js 15 Changes**:\n- Review App Router changes\n- Check middleware compatibility\n- Verify API route compatibility\n- Test build configuration\n\n### Phase 3: Code Modifications (if needed)\n\nBased on assessment results:\n- Update any affected components\n- Fix TypeScript type errors\n- Update test mocks if needed\n- Address any deprecation warnings\n\n### Phase 4: Testing & Validation\n\n**Required Checks**:\n- [ ] All 730+ tests pass\n- [ ] TypeScript compilation succeeds (strict mode)\n- [ ] ESLint passes with zero warnings\n- [ ] Production build succeeds\n- [ ] Test coverage maintains ‚â•90%\n- [ ] Manual smoke testing of key features:\n  - [ ] Todo CRUD operations\n  - [ ] Drag-and-drop reordering (pragmatic-drag-and-drop from #241)\n  - [ ] Touch gestures\n  - [ ] Markdown rendering\n  - [ ] Shared lists functionality\n  - [ ] Real-time sync\n\n### Phase 5: Documentation\n\n- [ ] Update README.md with new React/Next.js versions\n- [ ] Update ADR-020 (React/Next.js version constraints) status if needed\n- [ ] Create new ADR if significant architectural changes required\n- [ ] Document any migration issues encountered\n- [ ] Reference investigation from #223 and blocker resolution from #241\n\n## Acceptance Criteria\n\n- [ ] React upgraded to 19.2.0\n- [ ] Next.js upgraded to 15.5.5\n- [ ] All type definitions updated\n- [ ] All tests passing (730+)\n- [ ] Zero TypeScript errors\n- [ ] Zero ESLint warnings\n- [ ] Production build successful\n- [ ] Test coverage ‚â•90%\n- [ ] Manual testing completed\n- [ ] Documentation updated\n- [ ] PR merged to main\n\n## Risk Assessment\n\n**Risk Level**: Medium ‚Üí Low (after blocker resolution in #241)\n\n**Resolved Risks**:\n- ~~@dnd-kit incompatibility~~ ‚Üí ‚úÖ Resolved in PR #241 via pragmatic-drag-and-drop migration\n\n**Remaining Risks**:\n- Unexpected breaking changes in React 19 APIs\n- Next.js 15 App Router changes\n- Type definition mismatches\n- Test compatibility issues\n\n**Mitigation**:\n- Migration assessment completed in #223\n- Critical blocker resolved in #241\n- TDD approach with comprehensive test coverage\n- Feature branch workflow with full CI validation\n- Incremental testing at each phase\n- Rollback plan via git revert if needed\n\n## Related Issues & PRs\n\n**Prerequisites** (Completed):\n- #223: React 19 migration compatibility investigation ‚úÖ\n- #240: Migrate from @dnd-kit to pragmatic-drag-and-drop ‚úÖ\n- #241: PR implementing pragmatic-drag-and-drop migration ‚úÖ (MERGED)\n\n**Related Issues**:\n- #191: Evaluated additional dependency updates (identified this upgrade)\n- #232: Configured Dependabot to prevent incompatible React 19 upgrade\n\n**Dependabot PR** (Reference Only):\n- #227: Dependabot PR for Next.js 15.5.5 (we'll do manual upgrade instead)\n\n**Related ADRs**:\n- ADR-020: React/Next.js Version Constraints\n- ADR-021: Pragmatic Drag and Drop Migration (blocker resolution)\n\n## References\n\n- [React 19 Release](https://react.dev/blog/2025/10/01/react-19-2)\n- [React 19 Upgrade Guide](https://react.dev/blog/2024/04/25/react-19-upgrade-guide)\n- [Next.js 15 Release Notes](https://nextjs.org/blog/next-15)\n- [Migration Assessment Report (from #223)](https://github.com/mikiwiik/instructions-only-claude-coding/blob/main/docs/adr/REACT-19-MIGRATION-ASSESSMENT.md)\n- [ADR-021: Pragmatic Drag and Drop Migration](https://github.com/mikiwiik/instructions-only-claude-coding/blob/main/docs/adr/021-pragmatic-drag-drop-migration.md)\n\nü§ñ Generated with AI Agent\n\nCo-Authored-By: Claude <noreply@anthropic.com>",
        "number": 245,
        "repository": "mikiwiik/instructions-only-claude-coding",
        "title": "Upgrade to React 19.2.0 and Next.js 15.5.5",
        "type": "Issue",
        "url": "https://github.com/mikiwiik/instructions-only-claude-coding/issues/245"
      },
      "id": "PVTI_lAHOABVon84BF52zzggDgIg",
      "labels": [
        "priority-2-high",
        "complexity-moderate",
        "category-infrastructure"
      ],
      "lifecycle": "Done",
      "repository": "https://github.com/mikiwiik/instructions-only-claude-coding",
      "status": "Done",
      "title": "Upgrade to React 19.2.0 and Next.js 15.5.5"
    },
    {
      "content": {
        "body": "## Description\n\nFix 17 tests that were temporarily skipped to unblock PR #188. These tests are flaky or have mock setup issues that need to be resolved.\n\n## Skipped Tests\n\n**useSharedTodos.test.ts** (4 tests):\n- should add todo optimistically\n- should update todo optimistically\n- should toggle todo completion status\n- should reorder todos\n\n**useSharedTodoSync.test.ts** (4 tests):\n- should connect when enabled\n- should call onSync when sync event received\n- should handle sync events\n- should update connection state on error\n- should cleanup on unmount\n\n**sync-queue.test.ts** (2 tests):\n- should retry failed operations with exponential backoff\n- should mark operation as failed after max retries\n\n**SharedTodoList.test.tsx** (2 tests):\n- should disable add button when disconnected\n- should disable interactions when disconnected\n\n## Root Causes\n\n1. **useSharedTodos**: Optimistic state updates not being captured in tests\n2. **useSharedTodoSync**: EventSource mock setup issues\n3. **sync-queue**: Async timing and timeout issues with retry logic\n4. **SharedTodoList**: Mock return value not matching component expectations\n\n## Acceptance Criteria\n\n- [ ] All 17 skipped tests pass consistently\n- [ ] No flaky behavior in CI/CD\n- [ ] Coverage remains above 90%\n- [ ] Proper mock setup documentation\n\n## Context\n\nTests skipped in commit 5b2c503 to unblock PR #188.\n\n## Labels\n\n- priority-2-high\n- complexity-moderate\n- category-feature",
        "number": 194,
        "repository": "mikiwiik/instructions-only-claude-coding",
        "title": "Fix skipped real-time sync tests",
        "type": "Issue",
        "url": "https://github.com/mikiwiik/instructions-only-claude-coding/issues/194"
      },
      "id": "PVTI_lAHOABVon84BF52zzggDPOU",
      "labels": ["priority-2-high", "complexity-moderate", "category-feature"],
      "lifecycle": "Done",
      "linked pull requests": [
        "https://github.com/mikiwiik/instructions-only-claude-coding/pull/256"
      ],
      "repository": "https://github.com/mikiwiik/instructions-only-claude-coding",
      "status": "Done",
      "title": "Fix skipped real-time sync tests"
    },
    {
      "content": {
        "body": "## Overview\n\nEstablish and document the principle that Architecture Decision Records (ADRs) should not be modified retroactively. When architectural decisions change, new ADRs should be created rather than editing existing ones. This preserves the historical context and decision-making process.\n\n## Context\n\nDuring PR #214 review, an attempt was made to update ADR-011 (GitHub Actions CI/CD) to reflect new security scanning capabilities (CodeQL). The review correctly pointed out that existing ADRs should not be changed - instead, new documentation should be created for evolved architecture.\n\n**Related PR**: #214 - Enable CodeQL code scanning with workflow configuration\n\n## Problem Statement\n\nThe project currently lacks clear documentation on:\n\n1. **ADR Immutability**: Whether/when ADRs can be edited vs. when new ADRs should be created\n2. **Deprecation Process**: How to handle ADRs that no longer apply or have been superseded\n3. **Evolution Documentation**: How to document architectural changes without modifying historical records\n4. **Claude Code Awareness**: Ensuring AI agents understand and follow ADR immutability principles\n\n## Research: ADR Best Practices\n\n### Industry Standards for ADR Immutability\n\nResearch the following aspects:\n\n1. **Immutability Principles**\n   - When should ADRs be considered immutable?\n   - What types of changes are acceptable (typos, clarifications)?\n   - How to handle significant architectural evolution?\n\n2. **Deprecation and Superseding**\n   - How to mark ADRs as deprecated or superseded?\n   - Should deprecated ADRs remain in the repository?\n   - How to link old and new ADRs?\n\n3. **Common Patterns**\n   - \"Superseded by ADR-XXX\" status\n   - Reverse chronological ordering\n   - Status field (Accepted, Deprecated, Superseded, Rejected)\n   - Amendment vs. new ADR decision criteria\n\n4. **References to Review**\n   - [Thoughtworks ADR documentation](https://github.com/joelparkerhenderson/architecture-decision-record)\n   - [Michael Nygard's ADR pattern](https://cognitect.com/blog/2011/11/15/documenting-architecture-decisions)\n   - Common open-source project ADR practices\n\n## Proposed Documentation Updates\n\n### 1. Update `docs/adr/PROCESS.md`\n\nAdd new section: **\"ADR Immutability and Evolution\"**\n\n```markdown\n## ADR Immutability and Evolution\n\n### Principle: ADRs Are Historical Records\n\nArchitecture Decision Records document decisions **at the time they were made**. They serve as historical context for understanding why the architecture evolved the way it did.\n\n**Core Principle**: Once an ADR is accepted and merged, it should NOT be modified to reflect current architecture.\n\n### When Changes Are Acceptable\n\n**Minor corrections** (without changing meaning):\n- ‚úÖ Typo fixes\n- ‚úÖ Broken link updates\n- ‚úÖ Formatting corrections\n- ‚úÖ Grammar improvements\n\n**NOT acceptable**:\n- ‚ùå Adding new information about current state\n- ‚ùå Modifying decisions to reflect current architecture\n- ‚ùå Updating consequences based on new knowledge\n- ‚ùå Adding new alternatives that weren't considered originally\n\n### Handling Architectural Changes\n\nWhen architecture evolves, create a **new ADR** that:\n\n1. References the original ADR\n2. Explains what changed and why\n3. Documents the new decision with current context\n4. Updates the original ADR's status field only\n\n**Example**: If ADR-011 (CI/CD) needs updating for security scanning:\n- ‚ùå Don't edit ADR-011 to add security scanning info\n- ‚úÖ Create ADR-023 \"Security Scanning in CI/CD Pipeline\"\n- ‚úÖ Add \"Status: Amended by ADR-023\" to ADR-011\n\n### ADR Status Values\n\n- **Proposed**: Under discussion, not yet accepted\n- **Accepted**: Decision made and implemented\n- **Deprecated**: No longer recommended, but not replaced\n- **Superseded by ADR-XXX**: Replaced by newer decision\n- **Amended by ADR-XXX**: Extended or modified by newer decision\n- **Rejected**: Considered but not adopted\n\n### Superseding vs. Amending\n\n**Superseding** (complete replacement):\n```markdown\nStatus: Superseded by ADR-025\n```\nExample: Switching from LocalStorage to Backend API\n\n**Amending** (extension or modification):\n```markdown\nStatus: Amended by ADR-026\n```\nExample: Adding security scanning to existing CI/CD pipeline\n```\n\n### 2. Update `docs/adr/template.md`\n\nAdd status field with clear instructions:\n\n```markdown\n## Status\n\n[Proposed | Accepted | Deprecated | Superseded by ADR-XXX | Amended by ADR-XXX | Rejected]\n\n**Note**: Once accepted, this ADR should not be modified except for:\n- Minor corrections (typos, formatting)\n- Status updates when superseded or amended\n- Linking to newer ADRs\n\nFor architectural changes, create a new ADR that references this one.\n```\n\n### 3. Update `CLAUDE.md`\n\nAdd to the \"ADRs BEFORE ARCHITECTURE\" section:\n\n```markdown\n8. **üö® ADRs BEFORE ARCHITECTURE**: Document significant technical decisions in `docs/adr/` before implementation\n   - **ADR Immutability**: Once accepted and merged, ADRs are historical records and MUST NOT be retroactively modified\n   - **Architectural Evolution**: Create NEW ADRs to document changes, don't edit existing ones\n   - **Acceptable Edits**: Only typos, formatting, and status field updates\n   - **Superseding Process**: Use \"Status: Superseded by ADR-XXX\" or \"Amended by ADR-XXX\"\n   - See `docs/adr/PROCESS.md` for complete ADR evolution guidelines\n```\n\n### 4. Create Example ADR Amendment\n\nCreate `docs/adr/020-security-scanning-ci-cd-pipeline.md` as a **reference example** showing how to properly extend an existing ADR:\n\n```markdown\n# ADR-020: Security Scanning in CI/CD Pipeline\n\n## Status\n\nAccepted\n\n**Amends**: [ADR-011: GitHub Actions for CI/CD Pipeline](011-github-actions-ci-cd.md)\n\n## Context\n\nADR-011 established GitHub Actions as our CI/CD platform. Since that decision, we have expanded our CI/CD pipeline to include multiple layers of security scanning. This ADR documents those additions without modifying the original decision.\n\n## Decision\n\nWe extend the GitHub Actions CI/CD pipeline established in ADR-011 with security scanning:\n\n### Layer 1: Dependency Security\n- **npm audit** (#146): Weekly automated dependency vulnerability scanning\n- **Dependabot** (#147): Automated dependency updates\n\n### Layer 2: Source Code Security  \n- **CodeQL** (#154): Source code vulnerability detection\n- **SonarCloud**: Static code analysis for quality and security\n\n[... continue with full ADR format ...]\n\n## Relationship to ADR-011\n\nThis ADR **amends** ADR-011 by adding security scanning capabilities to the established CI/CD pipeline. The original decision to use GitHub Actions remains valid; this ADR extends it with additional security tooling.\n```\n\n## Implementation Checklist\n\n### Research Phase\n- [ ] Review ADR best practices from industry sources\n- [ ] Document common patterns for ADR deprecation/superseding\n- [ ] Research how major projects handle ADR evolution\n- [ ] Document findings in implementation plan\n\n### Documentation Phase\n- [ ] Update `docs/adr/PROCESS.md` with immutability principles\n- [ ] Update `docs/adr/template.md` with status field guidance\n- [ ] Update `CLAUDE.md` to ensure AI agents follow ADR immutability\n- [ ] Create example ADR (020-security-scanning-ci-cd-pipeline.md) showing proper amendment\n- [ ] Update ADR-011 status field to \"Amended by ADR-020\"\n\n### Verification Phase\n- [ ] Verify all ADRs have proper status fields\n- [ ] Ensure cross-references between ADRs are correct\n- [ ] Test that Claude Code understands and follows new guidelines\n- [ ] Update any documentation referring to ADR modification process\n\n## Success Criteria\n\n- ‚úÖ Clear documentation of ADR immutability principle exists\n- ‚úÖ Process for superseding/amending ADRs is documented with examples\n- ‚úÖ Claude Code instructions updated to prevent retroactive ADR modifications\n- ‚úÖ Example ADR demonstrating proper amendment exists\n- ‚úÖ All existing ADRs have proper status fields\n- ‚úÖ Future AI agents will understand ADR should not be retroactively edited\n\n## Related Issues\n\n- #214 - Enable CodeQL code scanning (triggered this discovery)\n- #220 - Create comprehensive project-wide security documentation\n\n## Benefits\n\n### Historical Integrity\n- Preserves context of original decisions\n- Shows evolution of architectural thinking\n- Prevents revisionist history\n\n### Better Decision Making\n- Clear audit trail of architectural changes\n- Understanding of \"why\" behind current state\n- Learning from past decisions\n\n### AI Agent Guidance\n- Clear rules for AI agents modifying documentation\n- Prevents accidental historical record tampering\n- Maintains documentation quality standards\n\n## References\n\n- [Michael Nygard's ADR pattern](https://cognitect.com/blog/2011/11/15/documenting-architecture-decisions)\n- [ADR GitHub organization](https://adr.github.io/)\n- [Thoughtworks ADR tools](https://github.com/npryce/adr-tools)\n- Current project: `docs/adr/PROCESS.md`",
        "number": 221,
        "repository": "mikiwiik/instructions-only-claude-coding",
        "title": "Document ADR immutability principle and deprecation process",
        "type": "Issue",
        "url": "https://github.com/mikiwiik/instructions-only-claude-coding/issues/221"
      },
      "id": "PVTI_lAHOABVon84BF52zzggDPNY",
      "labels": [
        "priority-2-high",
        "complexity-moderate",
        "category-documentation",
        "category-dx"
      ],
      "lifecycle": "Done",
      "linked pull requests": [
        "https://github.com/mikiwiik/instructions-only-claude-coding/pull/250"
      ],
      "repository": "https://github.com/mikiwiik/instructions-only-claude-coding",
      "status": "Done",
      "title": "Document ADR immutability principle and deprecation process"
    },
    {
      "content": {
        "body": "## Problem\n\nDuplicate ADR numbers exist in the `docs/adr/` directory with naming convention violations:\n\n### Duplicate ADR-018\n- ‚úÖ `018-api-schema-shared-lists.md` (Oct 4, 2025) - **Correct naming**\n- ‚ùå `ADR-018-realtime-sync-architecture.md` (Oct 5, 2025) - **Incorrect: has \"ADR-\" prefix in filename**\n\n### Duplicate ADR-019\n- ‚úÖ `019-eslint-v9-flat-config-migration.md` (Oct 6, 2025) - **Correct naming**\n- ‚ùå `ADR-019-conflict-resolution.md` (Oct 5, 2025) - **Incorrect: has \"ADR-\" prefix in filename**\n\n### Naming Convention\n\nAccording to `docs/adr/PROCESS.md`:\n- **Filename format**: `###-kebab-case-title.md` (no \"ADR-\" prefix)\n- **Header format**: `# ADR-###: Title` (\"ADR-\" prefix belongs in header only)\n\nThe two files with \"ADR-\" in the filename violate this standard.\n\n### References Affected\n\nThe incorrectly named ADRs are referenced in:\n- `README.md` (lines 203-204)\n- `docs/architecture/realtime-sync-diagram.md` (4 references on lines 6, 252, 347-348)\n\n## Proposed Solution\n\n### 1. Renumber Duplicate ADRs\n- Rename `ADR-018-realtime-sync-architecture.md` ‚Üí `022-realtime-sync-architecture.md`\n- Rename `ADR-019-conflict-resolution.md` ‚Üí `023-conflict-resolution.md`\n- Update headers inside files to match (ADR-022, ADR-023)\n\n### 2. Update All References\n- `README.md`: Update links from ADR-018/019 to 022/023\n- `docs/architecture/realtime-sync-diagram.md`: Update all 4 references\n- Verify no other references exist with comprehensive grep\n\n### 3. Process Improvements\n\n**Create ADR validation script** (`scripts/validate-adrs.sh`):\n- Check filename format matches `###-kebab-case.md` pattern\n- Detect duplicate ADR numbers\n- Warn about numbering gaps\n- Integrate into pre-commit hook for automated validation\n\n**Update `docs/adr/PROCESS.md`**:\n- Add explicit step: \"Check existing ADRs before numbering\"\n- Add command example: `ls docs/adr/0*.md | sort`\n- Emphasize sequential numbering requirement\n\n**Update `CLAUDE.md`**:\n- Add mandatory ADR number verification step\n- Require agents to list existing ADRs before creating new ones\n\n## Acceptance Criteria\n\n- [ ] No duplicate ADR numbers in `docs/adr/`\n- [ ] All ADR filenames follow `###-kebab-case.md` format (no \"ADR-\" prefix)\n- [ ] All references to renamed ADRs updated correctly\n- [ ] Validation script created and integrated into pre-commit hook\n- [ ] Process documentation updated to prevent future duplicates\n- [ ] All changes committed with AI attribution\n\n## Impact\n\n- **Documentation integrity**: Ensures unique, sequential ADR numbering\n- **Future prevention**: Automated validation prevents recurrence\n- **Standards compliance**: All ADRs follow documented naming conventions",
        "number": 243,
        "repository": "mikiwiik/instructions-only-claude-coding",
        "title": "Fix duplicate ADR numbers and naming convention violations",
        "type": "Issue",
        "url": "https://github.com/mikiwiik/instructions-only-claude-coding/issues/243"
      },
      "id": "PVTI_lAHOABVon84BF52zzggDfn0",
      "labels": [
        "priority-2-high",
        "complexity-moderate",
        "category-infrastructure"
      ],
      "lifecycle": "Done",
      "linked pull requests": [
        "https://github.com/mikiwiik/instructions-only-claude-coding/pull/250"
      ],
      "repository": "https://github.com/mikiwiik/instructions-only-claude-coding",
      "status": "Done",
      "title": "Fix duplicate ADR numbers and naming convention violations"
    },
    {
      "content": {
        "body": "## Problem Statement\n\nThe current ESLint configuration allows TypeScript `any` types with warnings only, which doesn't prevent them from being committed. This was recently demonstrated in PR #241 during the pragmatic-drag-and-drop migration:\n\n- Commit `58efa73` introduced `any` types in test files to quickly fix coverage issues\n- ESLint warnings were visible but non-blocking\n- Pre-commit hooks passed (warnings don't fail commits)\n- GitHub PR UI surfaced the warnings during code review\n- Required a follow-up commit `a41db44` to fix with proper types\n\n**Core Issue**: Using `any` defeats TypeScript's core value proposition of type safety and should be treated as an error, not a warning.\n\n## Root Cause Analysis\n\n### Current Configuration\nFile: `eslint.config.mjs` line 61\n```javascript\n'@typescript-eslint/no-explicit-any': 'warn',  // ‚ö†Ô∏è Warning, not error\n```\n\n### Why This is Problematic\n1. **Warnings are non-blocking** in pre-commit hooks\n2. **CI passes** with warnings (only errors fail builds)\n3. **GitHub UI shows warnings** but they're easy to miss or ignore\n4. **Test code treated as second-class** despite being equally important\n5. **Type safety bypassed** when developers rush implementations\n\n### Pattern Observed in PR #241\n```\n1. Coverage failure (SonarCloud) ‚Üí Pressure to fix quickly\n2. Used `any` types in test mocks ‚Üí Fast shortcut\n3. ESLint warning (not error) ‚Üí Non-blocking\n4. Pre-commit hooks passed ‚Üí Warnings allowed\n5. CI passed ‚Üí Warnings don't fail builds\n6. GitHub UI surfaced warnings ‚Üí Code review caught it\n7. Manual fix required ‚Üí Technical debt created\n```\n\n## Proposed Solution\n\n### 1. Update ESLint Configuration\n**File**: `eslint.config.mjs`\n\nChange:\n```javascript\n'@typescript-eslint/no-explicit-any': 'warn',\n```\n\nTo:\n```javascript\n'@typescript-eslint/no-explicit-any': 'error',\n```\n\n### 2. Create New ADR for Enforcement\n**Create**: `docs/adr/022-strict-typescript-type-safety.md`\n\n- Document the decision to strictly enforce type safety\n- Reference ADR-002 (TypeScript adoption) as foundation\n- Add enforcement rationale and implementation details\n- Define approved escape hatches and alternatives\n- Explain why test code must maintain same standards\n\n### 3. Create TypeScript Standards Guide\n**Create**: `docs/guidelines/typescript-standards.md`\n\n- Comprehensive TypeScript best practices\n- Proper patterns for test mocks and complex types\n- When and how to use alternatives to `any`\n- Examples of good vs bad patterns\n- Integration with existing ADRs and workflows\n\n### 4. Update Development Workflows\n**Update**: `docs/core/workflows.md`\n\nAdd TypeScript standards section under \"Quality Gates\":\n- Link to new TypeScript standards guide\n- Emphasize test code quality equals production code\n- Document pre-commit enforcement\n\n### 5. Document Type Safety Alternatives\n\n**Approved Patterns** (instead of `any`):\n- `unknown` - for truly unknown types (requires type guards)\n- Proper interfaces - define actual structure\n- Generics - for reusable type-safe code\n- `Record<string, unknown>` - for object maps\n- Type guards - for runtime type checking\n- `ts-expect-error` with comment - explicit escape hatch with justification\n\n**Test Mock Example** (from PR #241 fix):\n```typescript\n// ‚ùå BAD - Uses 'any'\nlet monitorCallback: ((args: any) => void) | null = null;\n\n// ‚úÖ GOOD - Proper interfaces\ninterface DropEvent {\n  source: { data: SourceData };\n  location: DropLocation;\n}\nlet monitorCallback: ((args: DropEvent) => void) | null = null;\n```\n\n## Implementation Tasks\n\n- [ ] Update `eslint.config.mjs`: Change `no-explicit-any` from `'warn'` to `'error'`\n- [ ] Create `docs/adr/022-strict-typescript-type-safety.md`\n- [ ] Update ADR-002 status note to reference ADR-022 for enforcement details\n- [ ] Update ADR index in `docs/adr/README.md`\n- [ ] Create `docs/guidelines/typescript-standards.md`\n- [ ] Update `docs/core/workflows.md` Quality Gates section\n- [ ] Test that pre-commit hooks now fail on `any` usage\n- [ ] Update any existing `any` types found in codebase (if any remain)\n\n## Acceptance Criteria\n\n- [ ] ESLint fails commits containing `any` types\n- [ ] Pre-commit hooks block `any` usage\n- [ ] ADR-022 documents enforcement decision\n- [ ] TypeScript standards guide provides clear alternatives\n- [ ] Test code standards explicitly match production code\n- [ ] Documentation cross-references are complete\n- [ ] All existing `any` types removed from codebase\n\n## Related Context\n\n**References**:\n- PR #241: Pragmatic drag-and-drop migration\n- Commit 58efa73: Introduced `any` types in test coverage fix\n- Commit a41db44: Fixed with proper TypeScript interfaces\n- ADR-002: TypeScript adoption decision\n- ADR-004: Test-Driven Development approach\n- ADR-009: Pre-commit linting strategy\n- ADR-021: Example of ADR superseding (technical implementation only)\n\n**Learning**: Speed vs quality trade-offs often lead to technical debt. Stricter enforcement prevents shortcuts that require later cleanup.\n\n**Philosophy**: If we're using TypeScript, we should embrace type safety fully. Using `any` should be an explicitly justified exception, not a convenient escape route.",
        "number": 242,
        "repository": "mikiwiik/instructions-only-claude-coding",
        "title": "Enforce stricter TypeScript 'any' type restrictions in development practices",
        "type": "Issue",
        "url": "https://github.com/mikiwiik/instructions-only-claude-coding/issues/242"
      },
      "id": "PVTI_lAHOABVon84BF52zzggDek8",
      "labels": ["priority-3-medium", "complexity-simple", "category-dx"],
      "lifecycle": "Done",
      "linked pull requests": [
        "https://github.com/mikiwiik/instructions-only-claude-coding/pull/248"
      ],
      "repository": "https://github.com/mikiwiik/instructions-only-claude-coding",
      "status": "Done",
      "title": "Enforce stricter TypeScript 'any' type restrictions in development practices"
    },
    {
      "content": {
        "body": "## Description\n\nHusky is showing a deprecation warning during pre-commit hooks:\n\n```\nhusky - DEPRECATED\n\nPlease remove the following two lines from .husky/pre-commit:\n\n#!/usr/bin/env sh\n. \"$(dirname -- \"$0\")/_/husky.sh\"\n\nThey WILL FAIL in v10.0.0\n```\n\n## Impact\n\n- Currently just a warning, but will break in husky v10.0.0\n- Appears on every commit, creating noise in the commit process\n- May prevent commits entirely when husky upgrades to v10\n\n## Tasks\n\n- [ ] Remove deprecated lines from `.husky/pre-commit`\n- [ ] Test pre-commit hook still works correctly\n- [ ] Verify lint-staged integration continues to function\n- [ ] Check other husky hooks for same issue (pre-push, etc.)\n\n## Files Affected\n\n- `.husky/pre-commit`\n- Potentially other `.husky/*` hook files\n\n## Related\n\n- Husky v10 migration: https://typicode.github.io/husky/",
        "number": 253,
        "repository": "mikiwiik/instructions-only-claude-coding",
        "title": "Fix husky deprecation warning in pre-commit hook",
        "type": "Issue",
        "url": "https://github.com/mikiwiik/instructions-only-claude-coding/issues/253"
      },
      "id": "PVTI_lAHOABVon84BF52zzggDqtc",
      "labels": [
        "priority-3-medium",
        "complexity-minimal",
        "category-infrastructure"
      ],
      "lifecycle": "Done",
      "linked pull requests": [
        "https://github.com/mikiwiik/instructions-only-claude-coding/pull/255"
      ],
      "repository": "https://github.com/mikiwiik/instructions-only-claude-coding",
      "status": "Done",
      "title": "Fix husky deprecation warning in pre-commit hook"
    },
    {
      "content": {
        "body": "## Problem\n\nThe current workflow documentation has an apparent conflict between two principles:\n\n**CLAUDE.md Principle #7:**\n> FEATURE BRANCH + PR WORKFLOW: All work via feature branches and PRs with **MANDATORY automerge using `--rebase`** to preserve atomic commits\n\n**CLAUDE.md Principle #12:**\n> PR APPROVAL PROTOCOL: After creating PR, STOP and report to user - NEVER use `--admin`, `--force`, or bypass flags without explicit permission\n\nThis conflict led to issue #238 where the PR was created but automerge was not enabled, requiring manual intervention instead of following the automated workflow.\n\n## Root Cause\n\nThe word \"STOP\" in Principle #12 is ambiguous. It was interpreted as \"don't enable automerge\" when it should mean \"don't claim completion yet.\"\n\n## Correct Workflow\n\nThe mandatory workflow should be:\n\n1. **Create PR** with comprehensive description\n2. **Enable automerge with `--rebase`** (mandatory for preserving atomic commits)\n3. **Report to user** that PR is created, automerge enabled, and waiting for CI checks\n4. **Let CI run** and PR auto-merge when checks pass\n5. **Only then claim completion** after verifying merge with `gh issue view #X`\n\n## Implementation Commands\n\n```bash\n# Create PR\ngh pr create --title \"...\" --body \"...\"\n\n# Enable automerge with rebase (MANDATORY)\ngh pr merge <PR_NUMBER> --auto --rebase\n\n# Report to user and wait for CI\n# Then verify completion with gh issue view\n```\n\n## Proposed Changes\n\n### 1. Update CLAUDE.md Principle #12\n\n**Current:**\n> PR APPROVAL PROTOCOL: After creating PR, STOP and report to user\n\n**Proposed:**\n> PR APPROVAL PROTOCOL: After creating PR and enabling automerge, report status to user - task completion means PR merged and verified with `gh issue view #X`, NOT just PR created\n\n### 2. Update docs/core/workflows.md (Single Source of Truth)\n\nAdd explicit step-by-step PR creation workflow with commands:\n- Document the complete 5-step workflow (as outlined above)\n- Include `gh pr merge --auto --rebase` requirement with examples\n- Clarify that \"completion\" means merged and verified, not just PR created\n- This becomes the canonical reference for the PR workflow\n\n### 3. Update /create-pr Slash Command\n\nUpdate `.claude/commands/create-pr.md` to **REFERENCE** the workflow documentation in `docs/core/workflows.md`:\n- Add clear reference link to the workflow section\n- Do NOT duplicate the workflow steps\n- Keep command-specific instructions only\n\n### 4. Update /work-on Slash Command\n\nUpdate `.claude/commands/work-on.md` to **REFERENCE** the workflow documentation in `docs/core/workflows.md`:\n- Add clear reference link to the PR workflow section\n- Do NOT duplicate the workflow steps\n- Keep command-specific instructions only\n\n### 5. Add Workflow Verification\n\nConsider adding a checklist or verification step to ensure automerge is enabled before reporting completion.\n\n## Documentation Principle\n\n**Do NOT duplicate workflow documentation across multiple files.**\n- `docs/core/workflows.md` is the single source of truth for the PR workflow\n- CLAUDE.md contains high-level principles\n- Slash commands reference the detailed workflow docs\n\nThis follows the same pattern used in the SonarCloud setup where configuration docs reference (not duplicate) coding standards.\n\n## Benefits\n\n- **Consistency**: All PRs follow the same automated workflow\n- **Atomic Commits**: Rebase preserves atomic commit history\n- **Reduced Manual Work**: No manual approval/merge needed for passing PRs\n- **Clear Expectations**: No ambiguity about when a task is \"complete\"\n- **Single Source of Truth**: Workflow documented in one place, referenced everywhere\n\n## Acceptance Criteria\n\n- [ ] CLAUDE.md Principle #12 clarified to explicitly mention automerge requirement\n- [ ] docs/core/workflows.md updated with explicit 5-step workflow and commands (single source of truth)\n- [ ] /create-pr slash command updated to REFERENCE workflow docs (not duplicate)\n- [ ] /work-on slash command updated to REFERENCE workflow docs (not duplicate)\n- [ ] Test workflow by implementing a sample issue following updated docs\n- [ ] Verify automerge + rebase preserves atomic commits correctly\n- [ ] Verify no workflow duplication exists across documentation\n\n## Priority & Complexity\n\n**Priority**: High (affects all future development workflow)\n**Complexity**: Simple (documentation and command updates)\n\n## References\n\n- CLAUDE.md Principle #7 (Feature Branch + PR Workflow)\n- CLAUDE.md Principle #12 (PR Approval Protocol)\n- docs/core/workflows.md (Git Workflow)\n- Issue #238 (where this problem was identified)",
        "number": 275,
        "repository": "mikiwiik/instructions-only-claude-coding",
        "title": "Clarify and enforce automerge workflow in PR creation process",
        "type": "Issue",
        "url": "https://github.com/mikiwiik/instructions-only-claude-coding/issues/275"
      },
      "id": "PVTI_lAHOABVon84BF52zzggMmDU",
      "labels": ["priority-2-high", "complexity-simple", "category-dx"],
      "lifecycle": "Done",
      "linked pull requests": [
        "https://github.com/mikiwiik/instructions-only-claude-coding/pull/281"
      ],
      "repository": "https://github.com/mikiwiik/instructions-only-claude-coding",
      "status": "Done",
      "title": "Clarify and enforce automerge workflow in PR creation process"
    },
    {
      "content": {
        "body": "## Problem Statement\n\nThe GitHub Projects documentation references Status field values that don't exist in the actual implementation.\n\n**Documented in ADR-024** (lines 49, 137):\n- Status (Todo/In Progress/Review/Testing/Done/Blocked)\n\n**Actually implemented** (verified via `gh project field-list`):\n- Status (Todo/In Progress/Done)\n\nThis discrepancy causes confusion about the actual workflow states available in the project.\n\n## Scope\n\n### Files to Update\n\n1. **`docs/adr/024-github-projects-adoption.md`**\n   - Line 49: Update Status field description\n   - Line 137: Update Status field retention note\n   - Any other references to Review/Testing/Blocked status values\n\n2. **`docs/development/project-management.md`**\n   - Search for references to Review/Testing/Blocked status\n   - Update workflow descriptions to reflect 3-state model (Todo ‚Üí In Progress ‚Üí Done)\n   - Verify Issue Lifecycle section (lines 224-234) is accurate\n\n3. **Other documentation files** (search needed):\n   - `docs/development/github-projects-setup.md`\n   - `docs/core/workflows.md`\n   - Any other files referencing Status field values\n\n### Verification Steps\n\n1. **Confirm actual Status options**:\n   ```bash\n   gh project field-list 1 --owner mikiwiik --format json | jq '.fields[] | select(.name == \"Status\")'\n   ```\n\n2. **Search for all references**:\n   ```bash\n   grep -r \"Review.*Testing.*Blocked\" docs/\n   grep -r \"Status.*Review\" docs/\n   ```\n\n3. **Update all occurrences** to reflect actual implementation\n\n## Correct Status Field Documentation\n\n**Status** (Single Select Field):\n- **Todo**: Not yet started\n- **In Progress**: Currently being worked on\n- **Done**: Completed (auto-set when PR merged)\n\n## Correct Workflow\n\n1. Issue created ‚Üí Status=\"Todo\", Lifecycle=\"Backlog\" or \"Icebox\"\n2. `/work-on` called ‚Üí Status=\"In Progress\", Lifecycle=\"Active\"\n3. PR merged ‚Üí Status=\"Done\", Lifecycle=\"Done\" (auto-updated)\n\n**Note**: The simplified 3-state model aligns with kanban principles and automation capabilities.\n\n## Acceptance Criteria\n\n- [ ] ADR-024 updated to show Status (Todo/In Progress/Done)\n- [ ] All references to \"Review\", \"Testing\", \"Blocked\" status removed from documentation\n- [ ] Workflow descriptions reflect 3-state model\n- [ ] No documentation references non-existent Status values\n- [ ] Grep search confirms no orphaned references remain\n\n## Context\n\n- Discovered during review of custom Claude commands for GitHub Projects integration\n- Actual implementation is simpler than originally documented in ADR\n- 3-state model works well with current automation (PR merge ‚Üí Done)\n\n## Labels\n\n- `priority-3-medium` - Documentation accuracy important for clarity\n- `complexity-minimal` - Search and replace across documentation files\n- `category-documentation` - Pure documentation update\n\n## Estimated Effort\n\n- Search for references: 10 minutes\n- Update ADR-024: 5 minutes\n- Update project-management.md: 10 minutes\n- Verify other docs: 10 minutes\n- **Total: ~35 minutes**\n",
        "number": 274,
        "repository": "mikiwiik/instructions-only-claude-coding",
        "title": "Update GitHub Projects documentation to reflect actual Status field options",
        "type": "Issue",
        "url": "https://github.com/mikiwiik/instructions-only-claude-coding/issues/274"
      },
      "id": "PVTI_lAHOABVon84BF52zzggMlP4",
      "labels": [
        "priority-3-medium",
        "complexity-minimal",
        "category-documentation"
      ],
      "lifecycle": "Done",
      "linked pull requests": [
        "https://github.com/mikiwiik/instructions-only-claude-coding/pull/277"
      ],
      "repository": "https://github.com/mikiwiik/instructions-only-claude-coding",
      "status": "Done",
      "title": "Update GitHub Projects documentation to reflect actual Status field options"
    },
    {
      "content": {
        "body": "## Bug Description\n\nCommitlint has a parser bug that incorrectly inserts a blank line before the 3rd+ bullet point in commit message lists, causing the `footer-leading-blank` validation rule to fail even when the commit message is correctly formatted.\n\n## Root Cause\n\nThe commitlint parser (used by both local `npx commitlint` and `wagoid/commitlint-github-action`) has an inconsistent bug where it treats the final bullet in a 3+ bullet list as if it has a leading blank line, making subsequent text (like \"Fixes #XXX\") appear as a footer without proper spacing.\n\n## Evidence\n\n### Example 1: 4-Bullet List (FAILS)\n```\nChanges:\n- Add category-testing section to labels documentation\n- Remove \"Testing infrastructure\" from category-infrastructure scope\n- Add testing example to Assessment Examples section\n- Relabel issues #257, #196, #189 with category-testing\n\nThis change improves test work visibility.\n\nFixes #258\n```\n\n**Commitlint output:**\n```\nChanges:\n- Add category-testing section to labels documentation\n- Remove \"Testing infrastructure\" from category-infrastructure scope\n- Add testing example to Assessment Examples section\n\n- Relabel issues #257, #196, #189 with category-testing  <-- BLANK LINE INSERTED HERE\n\nThis change improves test work visibility.\n\nFixes #258\n‚úñ   footer must have leading blank line [footer-leading-blank]\n```\n\n### Example 2: 2-Bullet List (PASSES)\n```\nChanges:\n- Add category-testing section and examples to documentation\n- Remove \"Testing infrastructure\" from category-infrastructure scope\n\nRelabeled issues #257, #196, #189 to use the new category-testing label.\n\nFixes #258\n```\n\n**Result:** ‚úÖ Passes validation (no blank line inserted)\n\n### Example 3: 3-Bullet List from PR #267 (INCONSISTENT)\n```\nChanges:\n- Add multi-criteria exclusions for S1135 in test files and type definitions\n- Refactor section header to mixed case (Base Todo Type Definitions)\n- Document temporary in-memory store implementation in kv-store.ts\n\nReduces S1135 INFO issues from 36 to ~0 while maintaining domain integrity.\n\nFixes #264\n```\n\n**Result:** ‚úÖ Passed in CI (PR #267) but ‚ùå fails locally with current commitlint version\n\n## Impact\n\n- **Severity**: High - Blocks PR merges with proper commit messages\n- **Scope**: Affects all PRs with 3+ bullet points in commit messages\n- **Workaround**: Limit bullet lists to 2 items maximum\n- **Frequency**: Inconsistent - sometimes 3 bullets pass, sometimes fail\n\n## Affected PRs\n\n- PR #266: Failed multiple times with 4 bullets, passed with 2 bullets\n- PR #268: Likely experiencing same issue\n- PR #267: Passed with 3 bullets (inconsistent behavior)\n- PR #256: Passed on Oct 19 with 4 bullets, fails locally today\n\n## Investigation Timeline\n\n**Oct 19, 2025**: PR #256 with 4 bullets passed CI  \n**Oct 20-21, 2025**: Same 4-bullet format fails in PRs #266, #268  \n**Attempted fix**: Pinned `wagoid/commitlint-github-action` to SHA `b948419d` (Oct 19 working version)  \n**Result**: Still fails - not a Docker image update issue as initially suspected\n\n## Proposed Solution\n\n**Update commit message templates** to avoid the bug:\n\n### Current Template (Problematic)\n```\ntype(scope): description\n\nBody paragraph explaining the change.\n\nChanges:\n- First change\n- Second change\n- Third change  <-- Parser bug triggers here\n- Fourth change\n\nClosing paragraph.\n\nFixes #XXX\n```\n\n### Recommended Template (Workaround)\n```\ntype(scope): description\n\nBody paragraph explaining the change.\n\nChanges:\n- Primary change combining related items\n- Secondary change combining related items\n\nAdditional details in prose format instead of bullets.\n\nFixes #XXX\n```\n\n**OR** use paragraphs instead of bullets:\n\n```\ntype(scope): description\n\nBody paragraph explaining the change.\n\nChanges include adding the category-testing section to documentation,\nremoving \"Testing infrastructure\" from category-infrastructure scope,\nadding testing examples, and relabeling issues #257, #196, #189.\n\nFixes #XXX\n```\n\n## Implementation Tasks\n\n- [ ] Update commit message examples in `docs/core/workflows.md`\n- [ ] Update CLAUDE.md commit message guidance\n- [ ] Add note about 2-bullet limit to commitlint documentation\n- [ ] Update any commit message templates in `.husky/` hooks\n- [ ] Document the workaround in troubleshooting guide\n- [ ] Consider reporting upstream to commitlint project\n\n## Verification Steps\n\n1. Test commit message with commitlint:\n   ```bash\n   echo \"<commit-message>\" | npx commitlint\n   ```\n\n2. Check for phantom blank lines in output\n3. Verify 2-bullet format passes consistently\n\n## Related Issues\n\n- #266 - Add category-testing label (where bug was discovered)\n- #268 - Likely experiencing same issue\n\n## Technical Details\n\n- **Commitlint version**: `@commitlint/cli@20.1.0`\n- **Config**: `@commitlint/config-conventional@20.0.0`\n- **GitHub Action**: `wagoid/commitlint-github-action@b948419dd99f3fd78a6548d48f94e3df7f6bf3ed`\n- **Rule failing**: `footer-leading-blank` (level 2, 'always')\n\n## Acceptance Criteria\n\n- [ ] Documentation updated with 2-bullet limit guidance\n- [ ] Commit templates updated throughout project\n- [ ] Troubleshooting guide includes workaround\n- [ ] Future commits consistently pass commitlint validation\n- [ ] Optional: Upstream bug report filed with commitlint project\n\n## Notes\n\nThis is a parser-level bug, not a configuration issue. The workaround is reliable but limits commit message expressiveness. Consider filing an upstream bug report to commitlint maintainers.",
        "number": 270,
        "repository": "mikiwiik/instructions-only-claude-coding",
        "title": "Bug: commitlint parser incorrectly inserts blank lines before 3rd+ bullets",
        "type": "Issue",
        "url": "https://github.com/mikiwiik/instructions-only-claude-coding/issues/270"
      },
      "id": "PVTI_lAHOABVon84BF52zzggHc94",
      "labels": [
        "priority-2-high",
        "complexity-simple",
        "category-infrastructure"
      ],
      "lifecycle": "Done",
      "linked pull requests": [
        "https://github.com/mikiwiik/instructions-only-claude-coding/pull/271"
      ],
      "repository": "https://github.com/mikiwiik/instructions-only-claude-coding",
      "status": "Done",
      "title": "Bug: commitlint parser incorrectly inserts blank lines before 3rd+ bullets"
    },
    {
      "content": {
        "body": "## Bug Description\n\nThe `.claude/scripts/update-project-status.sh` script fails with a jq parsing error when attempting to update GitHub Projects fields:\n\n```\njq: error (at <stdin>:1): Cannot index object with number\n```\n\nThis prevents the `/work-on` command from properly updating issue Status and Lifecycle fields in GitHub Projects.\n\n## Root Cause\n\nThe script incorrectly assumes `gh project list --format json` returns a direct array `[{...}]`, but it actually returns an object with a `projects` key:\n\n**Actual JSON structure:**\n```json\n{\n  \"projects\": [\n    {\n      \"id\": \"PVT_kwHOABVon84BF52z\",\n      \"number\": 1,\n      \"title\": \"Instructions only claude code project management\",\n      ...\n    }\n  ],\n  \"totalCount\": 1\n}\n```\n\n**Script assumes:** Direct array access with `.[0].number`\n**Reality:** Need to access via `.projects[0].number`\n\n## Affected Lines\n\n### Line 56 (PROJECT_NUMBER)\n**Current (broken):**\n```bash\nPROJECT_NUMBER=$(echo \"$PROJECT_DATA\" | jq -r '.[0].number // empty')\n```\n\n**Should be:**\n```bash\nPROJECT_NUMBER=$(echo \"$PROJECT_DATA\" | jq -r '.projects[0].number // empty')\n```\n\n### Line 65 (PROJECT_ID)\n**Current (broken):**\n```bash\nPROJECT_ID=$(echo \"$PROJECT_DATA\" | jq -r '.[0].id')\n```\n\n**Should be:**\n```bash\nPROJECT_ID=$(echo \"$PROJECT_DATA\" | jq -r '.projects[0].id')\n```\n\n## Steps to Reproduce\n\n1. Ensure GitHub CLI has `project` scope: `gh auth refresh --hostname github.com --scopes project`\n2. Run the script: `./.claude/scripts/update-project-status.sh 258 \"In Progress\" \"Active\"`\n3. Observe jq parsing error after \"Finding GitHub Project...\" message\n\n## Expected Behavior\n\nScript should successfully:\n1. Find the project number and ID\n2. Locate or add the issue to the project\n3. Update Status and Lifecycle fields\n4. Display success message\n\n## Actual Behavior\n\nScript fails at line 56 with:\n```\njq: error (at <stdin>:1): Cannot index object with number\n```\n\n## Verification Commands\n\nThe following commands show the correct JSON structure:\n\n```bash\n# Verify projects structure\ngh project list --owner \"mikiwiik\" --format json | jq '.projects[0]'\n\n# Verify fields structure (already correct in script)\ngh project field-list 1 --owner \"mikiwiik\" --format json | jq '.fields[]'\n\n# Verify items structure (already correct in script)\ngh project item-list 1 --owner \"mikiwiik\" --format json --limit 5 | jq '.items[]'\n```\n\n## Impact\n\n- **Severity**: High - Breaks GitHub Projects integration for all issues\n- **Workaround**: None - must manually update projects via web UI\n- **Scope**: Affects `/work-on` command and any workflow using this script\n\n## Fix Complexity\n\n**Minimal** - Two-line change (lines 56 and 65)\n\n## Related Context\n\n- Discovered while working on issue #258\n- GitHub CLI authentication with `project` scope is working correctly\n- The script's field and item parsing logic (lines 75-76, 127) is already correct\n\n## Acceptance Criteria\n\n- [ ] Line 56 updated to use `.projects[0].number`\n- [ ] Line 65 updated to use `.projects[0].id`\n- [ ] Script successfully runs: `./.claude/scripts/update-project-status.sh 258 \"In Progress\" \"Active\"`\n- [ ] GitHub Projects shows issue #258 with Status=\"In Progress\" and Lifecycle=\"Active\"\n- [ ] Test with issue that's not yet in project (script should add it first)",
        "number": 260,
        "repository": "mikiwiik/instructions-only-claude-coding",
        "title": "Fix jq parsing bug in update-project-status.sh script",
        "type": "Issue",
        "url": "https://github.com/mikiwiik/instructions-only-claude-coding/issues/260"
      },
      "id": "PVTI_lAHOABVon84BF52zzggE_54",
      "labels": [
        "priority-2-high",
        "complexity-minimal",
        "category-infrastructure"
      ],
      "lifecycle": "Done",
      "linked pull requests": [
        "https://github.com/mikiwiik/instructions-only-claude-coding/pull/263"
      ],
      "repository": "https://github.com/mikiwiik/instructions-only-claude-coding",
      "status": "Done",
      "title": "Fix jq parsing bug in update-project-status.sh script"
    },
    {
      "content": {
        "body": "## Context\n\nThe React 19 migration is **blocked** by @dnd-kit/core lacking official React 19 support (see #223, PR #239).\n\nCurrent status:\n- @dnd-kit/core v6.3.1 - last published 10 months ago\n- No React 19 peer dependency support\n- Open GitHub issue: clauderic/dnd-kit#1511 (66+ reactions)\n- Maintenance concerns raised\n\n## Current Drag-and-Drop Usage\n\n### Scope: Very Limited ‚úÖ\n\nOur drag-and-drop usage is **minimal and straightforward** - primarily for reordering todos in lists.\n\n**Files Affected**:\n- `app/components/TodoList.tsx` - DnD context and sortable wrapper\n- `app/components/TodoItem.tsx` - Individual sortable items\n- `app/__tests__/components/TodoList.reorder.test.tsx` - Reorder tests\n- `app/__tests__/components/TodoItem.reorder.test.tsx` - Item drag tests\n\n**@dnd-kit Features Used**:\n- `DndContext` - drag and drop context provider\n- `SortableContext` - vertical list sorting wrapper\n- `useSortable` hook - item dragging functionality\n- `closestCenter` collision detection\n- `verticalListSortingStrategy` - vertical list sorting\n- Pointer and keyboard sensors\n\n**UI Pattern** (per ADR-012):\n- Hybrid approach: Drag handles + arrow button fallbacks\n- WCAG 2.2 compliant (dual interaction methods)\n- Touch-optimized with 44px minimum targets\n- Keyboard accessible\n\n**Migration Complexity**: ‚úÖ **LOW** - Single use case (vertical list sorting)\n\n## Research Findings\n\n### Top React 19 Compatible Alternatives (2025)\n\n#### 1. pragmatic-drag-and-drop ‚≠ê **RECOMMENDED**\n\n**Developer**: Atlassian\n**Status**: ‚úÖ Core library framework-agnostic (works with React 19)\n**React-specific packages**: ‚ö†Ô∏è Some don't support React 19 yet\n\n**Key Features**:\n- Built on native HTML5 drag-and-drop API\n- Headless approach (no UI constraints)\n- Framework-agnostic core (works with any view layer)\n- Powers Trello, Jira, Confluence in production\n- Actively maintained by Atlassian\n\n**React 19 Status**:\n- Core package: ‚úÖ Compatible\n- React-specific optional packages: ‚ö†Ô∏è Some blocked\n  - Issues #181 and #183 tracking React 19 support\n  - Affected: flourish, accessibility, react-beautiful-dnd-migration packages\n\n**Migration Path**:\n- Has `@atlaskit/pragmatic-drag-and-drop-react-beautiful-dnd-migration` package\n- Can gradually migrate from react-beautiful-dnd patterns\n- May need to use core package + custom React integration\n\n**Pros**:\n- ‚úÖ Actively maintained (Atlassian)\n- ‚úÖ Production-proven (powers major apps)\n- ‚úÖ Framework-agnostic design\n- ‚úÖ Native HTML5 API (performance)\n- ‚úÖ Migration guide available\n\n**Cons**:\n- ‚ö†Ô∏è Some React helper packages pending React 19 support\n- ‚ö†Ô∏è May require more manual setup than @dnd-kit\n- ‚ö†Ô∏è Learning curve for headless approach\n\n**Package**: `@atlaskit/pragmatic-drag-and-drop`\n**GitHub**: https://github.com/atlassian/pragmatic-drag-and-drop\n**Docs**: https://atlassian.design/components/pragmatic-drag-and-drop/\n\n---\n\n#### 2. hello-pangea/dnd ‚ö†Ô∏è **MONITORING**\n\n**Developer**: Community fork of react-beautiful-dnd\n**Status**: ‚ùå Currently blocked by React 18 peer dependency\n\n**Key Details**:\n- Active GitHub issue #864 requesting React 19 support (47 reactions)\n- Discussion #810 shows testing with React 19 - \"everything seems to be working\"\n- One Jest test failure reported in testing\n- May work with `--legacy-peer-deps` but not officially supported\n\n**Pros**:\n- ‚úÖ Higher-level abstraction (faster setup than @dnd-kit)\n- ‚úÖ Community-maintained fork\n- ‚úÖ Good for sortable lists specifically\n\n**Cons**:\n- ‚ùå No official React 19 support yet\n- ‚ö†Ô∏è Timeline unknown\n- ‚ö†Ô∏è Community fork - maintenance depends on volunteers\n\n**Recommendation**: **Monitor for React 19 release**, not viable currently\n\n---\n\n#### 3. SortableJS + react-sortablejs ‚ùå **NOT RECOMMENDED**\n\n**Status**: ‚ùå Last updated 3 years ago\n**React 18 Issues**: Reported state update problems with nested approaches\n\n**Verdict**: Unmaintained, likely React 19 incompatible\n\n---\n\n### Rejected Alternatives\n\n**react-beautiful-dnd**: Deprecated by Atlassian\n**react-dnd**: More complex than needed for simple list sorting\n**Custom HTML5 DnD**: Too low-level, accessibility concerns\n\n## Implementation Tasks\n\nThis issue covers the **complete end-to-end migration** from research through implementation.\n\n### Phase 1: Research & Evaluation ‚úÖ \n- [x] Identify all @dnd-kit usage in codebase\n- [x] Document current drag-and-drop patterns\n- [x] Research React 19 compatible alternatives\n- [x] Evaluate top candidates\n- [x] Select pragmatic-drag-and-drop as primary candidate\n\n### Phase 2: Proof-of-Concept\n- [ ] Install `@atlaskit/pragmatic-drag-and-drop` core package\n- [ ] Review documentation and examples\n- [ ] Build simple vertical list sorting POC\n- [ ] Test basic drag-and-drop functionality\n- [ ] Verify keyboard accessibility works\n- [ ] Measure bundle size impact\n- [ ] Compare API patterns with current @dnd-kit usage\n\n### Phase 3: Migration Planning\n- [ ] Create detailed migration plan\n- [ ] Map @dnd-kit patterns to pragmatic-drag-and-drop equivalents\n- [ ] Identify breaking changes in component APIs\n- [ ] Document test updates required\n- [ ] Plan rollback strategy\n- [ ] Create ADR for library replacement decision\n\n### Phase 4: Implementation\n- [ ] **Remove @dnd-kit dependencies**:\n  - Remove `@dnd-kit/core`\n  - Remove `@dnd-kit/sortable`\n  - Remove `@dnd-kit/utilities`\n- [ ] **Install pragmatic-drag-and-drop**:\n  - Add `@atlaskit/pragmatic-drag-and-drop`\n  - Add any required optional packages\n- [ ] **Update TodoList.tsx**:\n  - Replace DndContext with pragmatic-drag-and-drop context\n  - Replace SortableContext with equivalent\n  - Update drag handlers and event logic\n  - Maintain existing UI/UX patterns\n- [ ] **Update TodoItem.tsx**:\n  - Replace useSortable hook with pragmatic equivalent\n  - Update drag handle implementation\n  - Maintain WCAG 2.2 compliance (arrow buttons + keyboard)\n  - Preserve touch optimization (44px targets)\n- [ ] **Maintain arrow button fallbacks**:\n  - Ensure moveUp/moveDown functions still work\n  - Verify keyboard navigation unchanged\n  - Test screen reader compatibility\n\n### Phase 5: Testing\n- [ ] **Update test files**:\n  - Update `TodoList.reorder.test.tsx` for new library\n  - Update `TodoItem.reorder.test.tsx` for new library\n  - Add new tests for pragmatic-drag-and-drop specific behavior\n- [ ] **Run full test suite**:\n  - All 730+ tests must pass\n  - Maintain 90%+ coverage threshold\n  - No new ESLint warnings\n  - No TypeScript errors\n- [ ] **Accessibility testing**:\n  - Keyboard navigation (Tab, Enter, Space, Arrow keys)\n  - Screen reader announcements (NVDA/JAWS)\n  - Touch targets (minimum 44px)\n  - WCAG 2.2 AA compliance verification\n- [ ] **Manual testing**:\n  - Drag-and-drop with mouse\n  - Touch device drag-and-drop\n  - Keyboard-only reordering\n  - Edge cases (first/last items, single item, empty list)\n\n### Phase 6: Documentation & Deployment\n- [ ] **Update ADR-012**:\n  - Document library change from @dnd-kit to pragmatic-drag-and-drop\n  - Update technical implementation section\n  - Add rationale for migration (React 19 compatibility)\n  - Preserve WCAG 2.2 compliance notes\n- [ ] **Update package.json**:\n  - Remove @dnd-kit dependencies\n  - Add pragmatic-drag-and-drop dependencies\n  - Update package-lock.json\n- [ ] **Create PR**:\n  - Comprehensive description with before/after comparison\n  - Link to this issue\n  - Include bundle size comparison\n  - Accessibility checklist completed\n- [ ] **Verify CI/CD**:\n  - All GitHub Actions workflows pass\n  - SonarCloud analysis passes\n  - Build succeeds\n  - Tests pass in CI\n\n## Success Criteria\n\n‚úÖ **Research Phase Complete** when:\n- React 19 compatible alternative identified\n- Proof-of-concept demonstrates feasibility\n- Migration complexity assessed\n\n‚úÖ **Implementation Complete** when:\n- All @dnd-kit code removed\n- pragmatic-drag-and-drop integrated\n- All tests passing (90%+ coverage maintained)\n- Zero TypeScript errors\n- Zero ESLint warnings\n- WCAG 2.2 AA compliance maintained\n- Bundle size impact documented\n- ADR-012 updated\n- PR merged to main\n\n‚úÖ **Migration Successful** when:\n- Drag-and-drop functionality works identically to before\n- Keyboard navigation unchanged\n- Touch interactions preserved\n- Screen reader compatibility verified\n- No performance regressions\n- Documentation updated\n\n## Timeline Estimate\n\nGiven the **very limited scope** (2 components, 2 test files):\n\n| Phase                          | Duration | Notes                                  |\n|-------------------------------|----------|----------------------------------------|\n| Phase 2: POC                   | 1-2 days | Install, test, verify feasibility      |\n| Phase 3: Planning              | 0.5 days | Map patterns, document approach        |\n| Phase 4: Implementation        | 2-3 days | Update 2 components                    |\n| Phase 5: Testing               | 2-3 days | Update tests, accessibility validation |\n| Phase 6: Documentation & PR    | 1 day    | ADR update, PR creation                |\n| **Total**                      | **1-2 weeks** | Assuming POC successful           |\n\n## Decision Points\n\n### After Phase 2 (POC):\n- ‚úÖ **GO**: pragmatic-drag-and-drop works ‚Üí Proceed to Phase 3\n- ‚ùå **NO-GO**: Major blockers found ‚Üí Reassess alternatives\n  - Option A: Wait for @dnd-kit React 19 support\n  - Option B: Try hello-pangea/dnd with workarounds\n  - Option C: Custom HTML5 DnD implementation\n\n### After Phase 3 (Planning):\n- ‚úÖ **APPROVE**: Effort reasonable ‚Üí Proceed to Phase 4\n- ‚è∏Ô∏è **DEFER**: Too complex ‚Üí Wait for better alternative\n\n## Rollback Plan\n\nIf issues arise during implementation:\n1. Revert package.json changes\n2. Restore @dnd-kit dependencies\n3. Restore original component code (git revert)\n4. Document blockers encountered\n5. Reassess timeline for React 19 migration\n\n## References\n\n- Migration Assessment: #223, PR #239\n- @dnd-kit React 19 Support: https://github.com/clauderic/dnd-kit/issues/1511\n- pragmatic-drag-and-drop: https://github.com/atlassian/pragmatic-drag-and-drop\n- pragmatic-drag-and-drop Docs: https://atlassian.design/components/pragmatic-drag-and-drop/\n- pragmatic-drag-and-drop React 19 Issues: #181, #183\n- hello-pangea/dnd React 19: https://github.com/hello-pangea/dnd/issues/864\n- Current Implementation ADR: docs/adr/012-todo-reordering-ux-approach.md\n\n## Related Issues\n\nBlocks: #223 (React 19 migration)\nDepends on: React 19 migration assessment (PR #239 - merged)",
        "number": 240,
        "repository": "mikiwiik/instructions-only-claude-coding",
        "title": "Migrate from @dnd-kit to pragmatic-drag-and-drop for React 19 compatibility",
        "type": "Issue",
        "url": "https://github.com/mikiwiik/instructions-only-claude-coding/issues/240"
      },
      "id": "PVTI_lAHOABVon84BF52zzggDSPg",
      "labels": [
        "priority-2-high",
        "complexity-moderate",
        "category-infrastructure"
      ],
      "lifecycle": "Done",
      "linked pull requests": [
        "https://github.com/mikiwiik/instructions-only-claude-coding/pull/241"
      ],
      "repository": "https://github.com/mikiwiik/instructions-only-claude-coding",
      "status": "Done",
      "title": "Migrate from @dnd-kit to pragmatic-drag-and-drop for React 19 compatibility"
    },
    {
      "content": {
        "body": "## Context\n\nThe project currently uses GitHub Issues with a sophisticated label system (priority, complexity, category) for project management. This issue evaluates GitHub Projects as an enhancement to provide visual workflow management, roadmap planning, and improved coordination for instruction-only AI development.\n\n## Problem Statement\n\nCurrent project management approach:\n- ‚úÖ **Strengths**: Well-defined labels, clear priorities, complexity estimation\n- ‚ö†Ô∏è **Limitations**: \n  - No visual workflow representation\n  - Limited sprint/iteration planning capabilities\n  - No roadmap visualization\n  - Manual status tracking\n  - Difficult to identify quick wins at a glance\n  - No capacity planning visualization\n\n**Question**: Would GitHub Projects add meaningful value while maintaining the instruction-only development philosophy?\n\n## GitHub Projects Overview\n\n### Core Capabilities\n\n**Views**:\n- **Table View**: Spreadsheet-style issue management with sortable/filterable columns\n- **Board View**: Kanban-style workflow visualization with drag-and-drop\n- **Roadmap View**: Timeline-based planning and milestone tracking\n\n**Custom Fields**:\n- Priority levels (mapped from existing labels)\n- Complexity estimation (mapped from existing labels)\n- Status tracking (Todo/In Progress/Done/Blocked)\n- Sprint/iteration planning\n- Numeric fields (story points, effort hours)\n- Date fields (target completion, actual completion)\n\n**Automation**:\n- Auto-add issues matching filters (e.g., all issues with specific labels)\n- Auto-update status when PR merged (Done)\n- Auto-archive completed items\n- Auto-set field values based on criteria\n\n**Integration**:\n- Bidirectional sync with Issues and PRs\n- CLI support via \\`gh project\\` commands\n- GraphQL API for advanced automation\n- Supports up to 50,000 items per project\n\n### Best Practices from GitHub Docs\n\n1. **Communication**: Use @mentions, assignments, and linking\n2. **Issue Management**: Break large issues into sub-issues with hierarchies\n3. **Documentation**: Project README explaining purpose and views\n4. **Customization**: Multiple views for different stakeholders\n5. **Automation**: Built-in workflows for status and field updates\n6. **Visualization**: Charts and insights for progress tracking\n\n## Alignment with Instruction-Only Development\n\n### Agent-Centric Workflow Benefits\n\n**Multi-Agent Coordination**:\n- Visualize parallel agent work streams on board view\n- Track which agents are working on which issues\n- Identify coordination points and dependencies\n- Status updates for TDD workflow phases (Red/Green/Refactor)\n\n**Sprint Planning**:\n- Iteration fields for sprint organization\n- Capacity planning using complexity labels\n- Velocity tracking across sprints\n- Roadmap view for feature delivery planning\n\n**Quick Wins Identification**:\n- Filter view: \\`priority-2-high + complexity-simple\\`\n- Visual board grouping by priority √ó complexity matrix\n- Easy identification of high-impact, low-effort tasks\n\n**Quality Gates**:\n- Custom status field: Todo ‚Üí In Progress ‚Üí Review ‚Üí Testing ‚Üí Done\n- Automated status updates from PR/issue state\n- Visual representation of workflow stages\n\n### Integration with Existing System\n\n**Label Mapping to Custom Fields**:\n\n| Current Label | Project Field | Type | Values |\n|--------------|---------------|------|--------|\n| priority-1-critical | Priority | Single Select | Critical, High, Medium, Low |\n| priority-2-high | Priority | Single Select | Critical, High, Medium, Low |\n| priority-3-medium | Priority | Single Select | Critical, High, Medium, Low |\n| priority-4-low | Priority | Single Select | Critical, High, Medium, Low |\n| complexity-minimal | Complexity | Single Select | Minimal, Simple, Moderate, Complex, Epic |\n| complexity-simple | Complexity | Single Select | Minimal, Simple, Moderate, Complex, Epic |\n| complexity-moderate | Complexity | Single Select | Minimal, Simple, Moderate, Complex, Epic |\n| complexity-complex | Complexity | Single Select | Minimal, Simple, Moderate, Complex, Epic |\n| complexity-epic | Complexity | Single Select | Minimal, Simple, Moderate, Complex, Epic |\n| category-feature | Category | Single Select | Feature, Infrastructure, Documentation, DX |\n| category-infrastructure | Category | Single Select | Feature, Infrastructure, Documentation, DX |\n| category-documentation | Category | Single Select | Feature, Infrastructure, Documentation, DX |\n| category-dx | Category | Single Select | Feature, Infrastructure, Documentation, DX |\n\n**Additional Custom Fields**:\n- **Status**: Todo, In Progress, Review, Testing, Done, Blocked\n- **Sprint**: Iteration field for sprint planning\n- **Effort**: Numeric field for estimated hours (optional)\n- **Agent**: Single select (Frontend, Testing, QA, Documentation, Multiple)\n\n### Automation Workflows\n\n**Auto-Add Rules**:\n```\nFilter: repo:owner/instructions-only-claude-coding is:issue is:open\n‚Üí Automatically adds all open issues to project\n```\n\n**Status Automation**:\n- Issue closed ‚Üí Status: Done\n- PR merged ‚Üí Status: Done\n- Item created in \"In Progress\" column ‚Üí Status: In Progress\n\n**Field Inheritance**:\n- New issue in priority column ‚Üí Priority field auto-set\n- New issue in complexity grouping ‚Üí Complexity field auto-set\n\n## Recommended Project Structure\n\n### View 1: Board (Primary Workflow)\n- **Columns**: Status field (Todo, In Progress, Review, Testing, Done)\n- **Grouping**: Priority (horizontal lanes)\n- **Filtering**: Show only open issues\n- **Use Case**: Daily workflow visualization, agent coordination\n\n### View 2: Sprint Planning\n- **Layout**: Table view\n- **Columns**: Title, Priority, Complexity, Sprint, Status, Assignee\n- **Grouping**: Sprint iteration\n- **Sorting**: Priority (high to low), then Complexity (simple to complex)\n- **Use Case**: Sprint planning and capacity management\n\n### View 3: Quick Wins\n- **Layout**: Board view\n- **Filter**: \\`priority:(High OR Critical) complexity:(Minimal OR Simple)\\`\n- **Grouping**: Category\n- **Use Case**: Identify high-impact, low-effort tasks\n\n### View 4: Roadmap\n- **Layout**: Timeline/Roadmap view\n- **Date Field**: Target completion date\n- **Grouping**: Category or Sprint\n- **Use Case**: Long-term planning and milestone tracking\n\n### View 5: Agent Workload\n- **Layout**: Board view\n- **Columns**: Status\n- **Grouping**: Agent field\n- **Use Case**: Visualize agent specialization and coordination\n\n## CLI Integration for Claude Code\n\nGitHub CLI supports project management via \\`gh project\\` commands:\n\n```bash\n# List projects\ngh project list --owner @me\n\n# View project items\ngh project item-list PROJECT_NUMBER\n\n# Add issue to project\ngh project item-add PROJECT_NUMBER --owner OWNER --url ISSUE_URL\n\n# Update field value\ngh project item-edit --project-id PROJECT_ID --field-id FIELD_ID --value \"In Progress\"\n```\n\n**Claude Code Integration**:\n- Slash commands could auto-add issues to project\n- Automated field updates when creating issues\n- Status synchronization with PR workflow\n- Sprint assignment during issue creation\n\n## Trade-offs Analysis\n\n### Benefits ‚úÖ\n\n1. **Visual Workflow**: Clear representation of work in progress\n2. **Sprint Planning**: Structured iteration planning with roadmap\n3. **Quick Wins**: Easy filtering for priority/complexity combinations\n4. **Agent Coordination**: Visual tracking of parallel work streams\n5. **Progress Tracking**: Charts and insights for velocity metrics\n6. **Automation**: Reduces manual status updates\n7. **Stakeholder Communication**: Multiple views for different audiences\n8. **Single Source of Truth**: Bidirectional sync with issues\n\n### Costs/Considerations ‚ö†Ô∏è\n\n1. **Learning Curve**: Team needs to understand project structure\n2. **Maintenance Overhead**: Fields need to be kept in sync with labels\n3. **CLI Complexity**: Additional commands for project management\n4. **Potential Duplication**: Custom fields duplicate label information\n5. **Setup Effort**: Initial configuration and automation setup\n6. **Cognitive Load**: Another tool to manage alongside issues\n\n### Mitigation Strategies\n\n1. **Automation First**: Use auto-add and auto-update to minimize manual work\n2. **Documentation**: Clear README in project explaining views and usage\n3. **Gradual Adoption**: Start with basic board view, add complexity over time\n4. **Label as Source**: Keep labels as primary source, fields as enhancement\n5. **ADR Documentation**: Document decision rationale and usage patterns\n\n## Implementation Steps\n\n### Phase 1: Setup and Configuration\n1. Create new GitHub Project in repository\n2. Configure custom fields (Priority, Complexity, Category, Status, Agent, Sprint)\n3. Set up auto-add workflow for all open issues\n4. Configure automation rules (status updates, archiving)\n\n### Phase 2: View Creation\n5. Create Board view (Status columns, Priority grouping)\n6. Create Sprint Planning view (Table, Sprint grouping)\n7. Create Quick Wins view (Filtered board)\n8. Create Roadmap view (Timeline visualization)\n9. Create Agent Workload view (Agent grouping)\n\n### Phase 3: Initial Population\n10. Bulk add existing open issues to project\n11. Populate custom fields from labels (manual or script)\n12. Verify field mappings and automation\n\n### Phase 4: Documentation\n13. **Create ADR**: Document GitHub Projects adoption decision\n14. Update \\`docs/development/project-management.md\\` with Projects usage\n15. Create project README with view descriptions\n16. Update CLAUDE.md with project management references\n\n### Phase 5: Workflow Integration\n17. Test CLI integration (\\`gh project\\` commands)\n18. Document slash command enhancements (if applicable)\n19. Validate automation workflows\n20. Train on new project management workflow\n\n### Phase 6: Evaluation\n21. Use project for 2-3 sprints\n22. Gather feedback on effectiveness\n23. Adjust views and automation based on experience\n24. Document lessons learned\n\n## Success Criteria\n\n**Implementation Success**:\n- [ ] Project created with all custom fields configured\n- [ ] 5 views created (Board, Sprint, Quick Wins, Roadmap, Agent)\n- [ ] Automation workflows active and functioning\n- [ ] All open issues added to project\n- [ ] ADR created documenting decision\n- [ ] Documentation updated in relevant files\n\n**Usage Success** (after 2-3 sprints):\n- [ ] Board view actively used for daily workflow\n- [ ] Sprint planning view used for iteration planning\n- [ ] Quick wins identified and completed via filtered view\n- [ ] Agent coordination improved with visual tracking\n- [ ] Automation reduces manual status updates by 80%+\n- [ ] Team consensus on value vs. overhead\n\n## Research Sources\n\n- [GitHub Docs: About Projects](https://docs.github.com/en/issues/planning-and-tracking-with-projects/learning-about-projects/about-projects)\n- [GitHub Docs: Built-in Automations](https://docs.github.com/en/issues/planning-and-tracking-with-projects/automating-your-project/using-the-built-in-automations)\n- [GitHub Docs: Customizing Board Layout](https://docs.github.com/en/issues/planning-and-tracking-with-projects/customizing-views-in-your-project/customizing-the-board-layout)\n- [GitHub Docs: Adding Items to Projects](https://docs.github.com/en/issues/planning-and-tracking-with-projects/managing-items-in-your-project/adding-items-to-your-project)\n- [GitHub Docs: Best Practices](https://docs.github.com/en/issues/planning-and-tracking-with-projects/learning-about-projects/best-practices-for-projects)\n\n## Decision Framework\n\n### Recommended Approach: **Pilot Implementation**\n\n**Rationale**:\n1. Low risk (doesn't replace existing labels)\n2. High potential value (visual workflow, sprint planning)\n3. Easy to abandon if overhead > benefit\n4. Complements instruction-only development philosophy\n\n**Next Steps**:\n1. Human review and approval of this issue\n2. Create ADR documenting decision and rationale\n3. Implement Phase 1 (Setup and Configuration)\n4. Evaluate after 2-3 sprints\n5. Decide on full adoption or abandonment based on data\n\n## Questions for Decision\n\n1. **Scope**: Start with basic board view only, or full multi-view setup?\n2. **Automation**: How aggressive should auto-add/auto-update be?\n3. **Field Duplication**: Keep labels + fields, or migrate to fields only?\n4. **CLI Integration**: Priority level for Claude Code slash command integration?\n5. **Timeline**: Immediate setup or wait until current sprint completes?\n\n---\n\n**Priority Rationale**: priority-2-high - Significant workflow improvement with measurable impact on planning and coordination\n\n**Complexity Rationale**: complexity-moderate - Multi-step setup, automation configuration, documentation updates, but well-defined scope\n\n**Category Rationale**: category-infrastructure + category-dx - DevOps tooling enhancement that improves developer experience",
        "number": 192,
        "repository": "mikiwiik/instructions-only-claude-coding",
        "title": "Infrastructure: Evaluate and implement GitHub Projects for enhanced project management",
        "type": "Issue",
        "url": "https://github.com/mikiwiik/instructions-only-claude-coding/issues/192"
      },
      "id": "PVTI_lAHOABVon84BF52zzggDPOs",
      "labels": [
        "priority-2-high",
        "complexity-moderate",
        "category-infrastructure",
        "category-dx"
      ],
      "lifecycle": "Done",
      "linked pull requests": [
        "https://github.com/mikiwiik/instructions-only-claude-coding/pull/208"
      ],
      "repository": "https://github.com/mikiwiik/instructions-only-claude-coding",
      "status": "Done",
      "title": "Infrastructure: Evaluate and implement GitHub Projects for enhanced project management"
    },
    {
      "content": {
        "body": "## Context\n\nDependabot is proposing updates to React 19.2.0 (from 18.3.1). Before accepting these updates, we need to investigate compatibility with our current codebase and dependencies.\n\n## Related\n\n- Blocked by Dependabot configuration issue (see related issue about grouping React dependencies)\n- Once Dependabot creates a proper grouped PR, we need to assess compatibility\n\n## Investigation Tasks\n\n### 1. Review React 19 Breaking Changes\n- [ ] Review official React 19 migration guide\n- [ ] Identify breaking changes that affect our codebase\n- [ ] Check for deprecated APIs we're currently using\n\n### 2. Dependency Compatibility\n- [ ] Check if `next` (14.2.33) is compatible with React 19\n- [ ] Verify `@dnd-kit/*` packages work with React 19\n- [ ] Check `react-markdown` compatibility\n- [ ] Review all other React-dependent packages\n\n### 3. Code Impact Assessment\n- [ ] Scan codebase for affected APIs\n- [ ] Identify components that may need updates\n- [ ] Review test suite compatibility\n- [ ] Check TypeScript type changes\n\n### 4. Testing Strategy\n- [ ] Plan test coverage for migration\n- [ ] Consider creating feature branch for testing\n- [ ] Document rollback plan if issues arise\n\n## Deliverables\n\n- Migration assessment report documenting:\n  - Breaking changes affecting our codebase\n  - Required code changes (if any)\n  - Dependency compatibility status\n  - Risk assessment\n  - Go/No-go recommendation\n  \n- If proceeding: Migration plan with step-by-step approach\n- If blocking: Document blockers and alternative approaches\n\n## References\n\n- React 19 release: https://react.dev/blog/2025/10/01/react-19-2\n- React 19 upgrade guide: https://react.dev/blog/2024/04/25/react-19-upgrade-guide",
        "number": 223,
        "repository": "mikiwiik/instructions-only-claude-coding",
        "title": "Investigate and plan React 19 migration compatibility",
        "type": "Issue",
        "url": "https://github.com/mikiwiik/instructions-only-claude-coding/issues/223"
      },
      "id": "PVTI_lAHOABVon84BF52zzggDPNM",
      "labels": [
        "priority-3-medium",
        "complexity-moderate",
        "category-infrastructure"
      ],
      "lifecycle": "Done",
      "linked pull requests": [
        "https://github.com/mikiwiik/instructions-only-claude-coding/pull/239",
        "https://github.com/mikiwiik/instructions-only-claude-coding/pull/246"
      ],
      "repository": "https://github.com/mikiwiik/instructions-only-claude-coding",
      "status": "Done",
      "title": "Investigate and plan React 19 migration compatibility"
    },
    {
      "content": {
        "body": "## Problem Statement\n\nThe `/work-on` command and development workflow should automatically update GitHub Projects when starting work on an issue. Currently, Status and Lifecycle fields must be manually updated via the web UI, which adds friction and doesn't align with the instruction-only development philosophy.\n\n## Desired Behavior\n\nWhen `/work-on <issue-number>` is called:\n1. Immediately set GitHub Projects **Status** field to \"In Progress\"\n2. Set **Lifecycle** field to \"Active\"\n3. Proceed with existing workflow (issue analysis, task planning, branch setup)\n\n## Implementation Plan\n\n### 1. Create Helper Script for Project Status Updates\n**File**: `.claude/scripts/update-project-status.sh`\n- Reusable bash script to update GitHub Projects fields\n- Parameters: issue number, status value, lifecycle value\n- Handles: project lookup, field ID resolution, item ID resolution\n- Error handling for missing projects, fields, or scope permissions\n- Returns clear success/error messages\n- Include check for `project` scope with helpful error if missing\n\n### 2. Update GitHub Projects Setup Guide - Security Model\n**File**: `docs/development/github-projects-setup.md` (after line 84)\n- Add new **\"Project Scope Security Model\"** section\n- Explicitly document that `project` scope grants capability, not automatic access\n- Clarify that per-project invitation is a security requirement, not optional\n- Explain that agent cannot access projects without explicit invitation\n- Reinforce principle of least privilege\n\n### 3. Update /work-on Slash Command\n**File**: `.claude/commands/work-on.md`\n- Add new step immediately after issue analysis (between steps 1-2)\n- Call helper script to set Status=\"In Progress\" and Lifecycle=\"Active\"\n- Document manual gh CLI alternative for reference\n- Include error handling guidance if project updates fail\n- Note prerequisite: `project` scope required (link to setup guide)\n\n### 4. Update Development Workflows Documentation\n**File**: `docs/core/workflows.md`\n- Update \"Issue Completion Workflow\" section (~lines 301-318)\n  - Add step for GitHub Projects status update at workflow start\n  - Document Status transitions: Todo ‚Üí In Progress ‚Üí Review ‚Üí Testing ‚Üí Done\n  - Document Lifecycle transitions: Icebox/Backlog ‚Üí Active ‚Üí Done\n- Update \"Feature Branch Workflow\" section to mention automatic project status\n- Ensure consistency with existing automation (PR merge ‚Üí Done)\n\n### 5. Update Project Management Documentation\n**File**: `docs/development/project-management.md`\n- Update \"Kanban-Style Continuous Delivery Workflow\" section (~lines 40-98)\n  - Document automatic status updates when `/work-on` is called\n  - Clarify that Status and Lifecycle are auto-updated at workflow start\n- Update \"Issue Lifecycle\" section (~lines 221-228)\n  - Add note about automatic Status=\"In Progress\" when work begins\n- Update \"Best Practices\" section (~lines 546-567)\n  - Reflect that Status/Lifecycle are now auto-updated via `/work-on`\n  - Manual updates only needed for status changes during development (Review, Testing, Blocked)\n\n### 6. Add CLI Reference Documentation\n**File**: `docs/development/github-projects-setup.md`\n- Add section documenting the helper script location and usage\n- Include manual command examples for reference\n- Document error scenarios and troubleshooting\n\n## Prerequisites to Document\n\n- Agent must have `project` scope: `gh auth refresh --hostname github.com --scopes project`\n- Agent must be invited to project with Write role (manual step via web UI)\n- Project must exist and have Status/Lifecycle fields configured\n\n## Files to Create/Modify\n\n- **NEW**: `.claude/scripts/update-project-status.sh` (helper script)\n- **EDIT**: `docs/development/github-projects-setup.md` (add security model section + CLI reference)\n- **EDIT**: `.claude/commands/work-on.md` (add project status update step)\n- **EDIT**: `docs/core/workflows.md` (document status transitions)\n- **EDIT**: `docs/development/project-management.md` (update workflow descriptions)\n\n## Technical Details\n\n### Helper Script Implementation\n- Use `gh project list --owner mikiwiik --format json | jq` to find project number\n- Use `gh project field-list PROJECT_NUMBER --owner mikiwiik --format json` to get field IDs\n- Use `gh project item-list PROJECT_NUMBER --owner mikiwiik --format json` to find item ID for issue\n- Use `gh project item-edit --project-id PROJECT_ID --id ITEM_ID --field-id FIELD_ID --single-select-option-id OPTION_ID`\n- Gracefully handle cases where project doesn't exist or agent lacks permissions\n\n### Error Handling\n- Missing `project` scope: Show helpful message with `gh auth refresh` command\n- Project not found: Suggest checking project setup or skip update gracefully\n- Issue not in project: Auto-add issue to project, then update fields\n- Field IDs not found: Clear error message with troubleshooting steps\n\n## Acceptance Criteria\n\n- [ ] Helper script created and executable\n- [ ] Helper script successfully updates Status=\"In Progress\" and Lifecycle=\"Active\"\n- [ ] Error handling works for all common failure scenarios\n- [ ] `/work-on` command updated to call helper script immediately after issue analysis\n- [ ] Security model section added to github-projects-setup.md\n- [ ] All five documentation files updated with workflow changes\n- [ ] Manual CLI commands documented for reference\n- [ ] Testing: Run `/work-on` on a test issue and verify project fields update correctly\n\n## Priority and Complexity Assessment\n\n**Priority: High** (priority-2-high)\n- Improves developer workflow efficiency\n- Reduces manual overhead in project management\n- Aligns with instruction-only development philosophy\n\n**Complexity: Moderate** (complexity-moderate)\n- Multiple files to update (5 edits + 1 new script)\n- Requires GitHub Projects API integration via gh CLI\n- Error handling for multiple scenarios\n- Documentation changes across workflow and setup guides\n- Estimated effort: 3-5 hours\n\n**Category: DX** (category-dx)\n- Improves developer experience and workflow automation\n- Enhances Claude Code workflow integration",
        "number": 247,
        "repository": "mikiwiik/instructions-only-claude-coding",
        "title": "Integrate GitHub Projects status updates into /work-on workflow",
        "type": "Issue",
        "url": "https://github.com/mikiwiik/instructions-only-claude-coding/issues/247"
      },
      "id": "PVTI_lAHOABVon84BF52zzggDhWI",
      "labels": ["priority-2-high", "complexity-moderate", "category-dx"],
      "lifecycle": "Done",
      "linked pull requests": [
        "https://github.com/mikiwiik/instructions-only-claude-coding/pull/249"
      ],
      "repository": "https://github.com/mikiwiik/instructions-only-claude-coding",
      "status": "Done",
      "title": "Integrate GitHub Projects status updates into /work-on workflow"
    },
    {
      "content": {
        "body": "## Description\n\nTwo test files use `Object.defineProperty` to mock `window.localStorage` but don't restore the original value after tests complete. This can cause test isolation issues where one test file's mocks leak into other test files.\n\nAdditionally, we need to document this pattern in our test code conventions to prevent this issue in the future.\n\n## Affected Files\n\n1. **app/__tests__/integration/timestamp-lifecycle.test.tsx** (line 10)\n   - Mocks `window.localStorage`\n   - No `afterAll()` cleanup\n\n2. **app/__tests__/hooks/useTodos.softdelete.test.ts** (line 7)\n   - Mocks `window.localStorage`  \n   - No `afterAll()` cleanup\n\n## Problem\n\n```typescript\n// Current code (no cleanup)\nObject.defineProperty(window, 'localStorage', {\n  value: mockStorage,\n});\n```\n\nWhen tests complete, the mocked `localStorage` remains in the global scope and can affect other test files, violating test isolation principles.\n\n## Solution\n\n### Part 1: Fix Existing Test Files\n\nAdd `afterAll()` hooks to restore the original `localStorage`, similar to the pattern used in `useSharedTodos.test.ts`:\n\n```typescript\n// Save original before mocking\nconst originalLocalStorage = window.localStorage;\n\nObject.defineProperty(window, 'localStorage', {\n  value: mockStorage,\n  writable: true,\n  configurable: true,\n});\n\n// Restore in afterAll\nafterAll(() => {\n  if (originalLocalStorage) {\n    Object.defineProperty(window, 'localStorage', {\n      value: originalLocalStorage,\n      writable: true,\n      configurable: true,\n    });\n  } else {\n    delete (window as { localStorage?: Storage }).localStorage;\n  }\n});\n```\n\n### Part 2: Update Test Code Conventions\n\nDocument this pattern in test conventions (likely in a new or existing test guidelines document):\n\n**Convention**: Always restore mocked global objects\n\nWhen using `Object.defineProperty` to mock global objects (window, global, etc.), you MUST:\n\n1. **Save the original** before mocking\n2. **Mark as configurable** to allow restoration\n3. **Restore in afterAll()** to maintain test isolation\n\n**Good Example**:\n```typescript\nconst originalCrypto = global.crypto;\n\nObject.defineProperty(global, 'crypto', {\n  value: { randomUUID: mockFn },\n  writable: true,\n  configurable: true, // ‚Üê Required for restoration\n});\n\nafterAll(() => {\n  if (originalCrypto) {\n    Object.defineProperty(global, 'crypto', {\n      value: originalCrypto,\n      writable: true,\n      configurable: true,\n    });\n  } else {\n    delete (global as { crypto?: Crypto }).crypto;\n  }\n});\n```\n\n**Bad Example**:\n```typescript\n// ‚ùå No cleanup - leaks to other tests\nObject.defineProperty(window, 'localStorage', {\n  value: mockStorage,\n});\n```\n\n## Reference\n\n- See `app/__tests__/hooks/useSharedTodos.test.ts` lines 53-90 for the correct pattern\n- Discovered during PR #256 (issue #194)\n\n## Acceptance Criteria\n\n**Fixes**:\n- [ ] Add `afterAll()` hook to `timestamp-lifecycle.test.tsx`\n- [ ] Add `afterAll()` hook to `useTodos.softdelete.test.ts`\n- [ ] Ensure mocks are `configurable: true` to allow restoration\n- [ ] All tests continue to pass\n- [ ] No test isolation issues\n\n**Documentation**:\n- [ ] Create or update test conventions document\n- [ ] Document the pattern for mocking global objects\n- [ ] Include good/bad examples\n- [ ] Add to Definition of Done checklist for test-related PRs\n\n## Suggested Location for Documentation\n\nConsider adding to one of:\n- `docs/guidelines/testing-standards.md` (new file)\n- `docs/guidelines/typescript-standards.md` (add testing section)\n- Update `docs/core/workflows.md` quality gates section\n\n## Labels\n\n- category-infrastructure\n- category-documentation\n- priority-3-medium  \n- complexity-minimal",
        "number": 257,
        "repository": "mikiwiik/instructions-only-claude-coding",
        "title": "Add cleanup hooks for Object.defineProperty mocks and update test conventions",
        "type": "Issue",
        "url": "https://github.com/mikiwiik/instructions-only-claude-coding/issues/257"
      },
      "id": "PVTI_lAHOABVon84BF52zzggDs5k",
      "labels": ["priority-3-medium", "complexity-minimal", "category-testing"],
      "lifecycle": "Done",
      "linked pull requests": [
        "https://github.com/mikiwiik/instructions-only-claude-coding/pull/268"
      ],
      "repository": "https://github.com/mikiwiik/instructions-only-claude-coding",
      "status": "Done",
      "title": "Add cleanup hooks for Object.defineProperty mocks and update test conventions"
    },
    {
      "content": {
        "body": "## Description\n\nThe current category label system lacks a dedicated label for test-related work. Tests are currently categorized under `category-infrastructure` (line 98 of `docs/reference/labels-and-priorities.md`), but this creates ambiguity and makes it difficult to filter and track test-specific work.\n\n## Problem\n\n**Current State**:\n- Testing is mentioned under `category-infrastructure`: \"Testing infrastructure and automation\"\n- Ambiguous whether this means:\n  - Test setup/tooling (Jest config, test runners)\n  - Test code itself (writing unit tests, fixing tests)\n  - Test conventions and standards\n  - All of the above?\n\n**Real-World Impact**:\n- Issue #257 had to use BOTH `category-infrastructure` AND `category-documentation` because it spans test code fixes and test convention documentation\n- No clear way to filter for \"all test-related issues\"\n- Test quality work gets mixed with DevOps/CI/CD work in issue tracking\n\n## Proposed Solution\n\nAdd a new category label: **`category-testing` üß™**\n\n### Scope\n\nIssues labeled with `category-testing` would include:\n\n**Test Code**:\n- Writing new tests (unit, integration, E2E)\n- Fixing failing or flaky tests\n- Improving test coverage\n- Test refactoring and cleanup\n\n**Test Infrastructure**:\n- Jest/testing library configuration\n- Test utilities and helpers\n- Mock setup and teardown\n- Test performance optimization\n\n**Test Standards**:\n- Test conventions and best practices\n- Code review standards for tests\n- Test documentation\n- Definition of Done for testing\n\n**Test Tooling**:\n- Coverage reporting setup\n- Test runners and watch mode\n- Snapshot testing configuration\n- Accessibility testing tools\n\n### Updated Category Labels\n\n```markdown\n### category-testing üß™\n\n- **Test code** (unit, integration, E2E tests)\n- **Testing infrastructure** (Jest, testing libraries, runners)\n- **Test standards** and conventions\n- **Test utilities** and mocking setup\n- **Coverage and quality** tooling\n```\n\n## Implementation Tasks\n\n- [ ] Create `category-testing` label in GitHub repository\n- [ ] Update `docs/reference/labels-and-priorities.md` to add category-testing section\n- [ ] Update examples in labels-and-priorities.md to include testing examples\n- [ ] Add testing category to issue creation checklist\n- [ ] Relabel existing test-related issues (starting with #257)\n\n## Updated Category System\n\nAfter this change, the four main categories would be:\n\n1. **category-feature** üü¶ - User-facing functionality\n2. **category-infrastructure** üüß - DevOps, CI/CD, backend architecture (excluding tests)\n3. **category-testing** üß™ - All test-related work\n4. **category-documentation** üü© - Documentation and ADRs\n5. **category-dx** üü™ - Developer experience and tooling\n\n## Benefits\n\n‚úÖ **Clarity**: Unambiguous categorization for test work\n‚úÖ **Filtering**: Easy to find all test-related issues (`label:category-testing`)\n‚úÖ **Tracking**: Better visibility into test quality efforts\n‚úÖ **Reporting**: Can measure test coverage improvement over time\n‚úÖ **Prioritization**: Test debt is visible and trackable\n\n## Related Issues\n\n- **#257** - Add cleanup hooks for Object.defineProperty mocks and update test conventions\n  - Currently labeled: `category-infrastructure,category-documentation`\n  - Should be: `category-testing` (once available)\n  - This issue motivated the need for a dedicated testing category\n\n## Example Issues for `category-testing`\n\n- Fix flaky tests in real-time sync\n- Add unit tests for new authentication feature\n- Update test conventions for mock cleanup\n- Improve test coverage for edge cases\n- Configure snapshot testing for UI components\n\n## Acceptance Criteria\n\n- [ ] `category-testing` label created in GitHub\n- [ ] Documentation updated in `docs/reference/labels-and-priorities.md`\n- [ ] Category examples include testing scenarios\n- [ ] Issue #257 relabeled with `category-testing`\n- [ ] All existing test-related issues reviewed and relabeled\n\n## Labels\n\n- category-dx (using DX for now since this is about improving the labeling system)\n- category-documentation (needs doc updates)\n- priority-3-medium\n- complexity-minimal",
        "number": 258,
        "repository": "mikiwiik/instructions-only-claude-coding",
        "title": "Add category-testing label for test-related work",
        "type": "Issue",
        "url": "https://github.com/mikiwiik/instructions-only-claude-coding/issues/258"
      },
      "id": "PVTI_lAHOABVon84BF52zzggDtU8",
      "labels": [
        "priority-3-medium",
        "complexity-minimal",
        "category-documentation",
        "category-dx"
      ],
      "lifecycle": "Done",
      "linked pull requests": [
        "https://github.com/mikiwiik/instructions-only-claude-coding/pull/266"
      ],
      "repository": "https://github.com/mikiwiik/instructions-only-claude-coding",
      "status": "Done",
      "title": "Add category-testing label for test-related work"
    },
    {
      "content": {
        "body": "## Overview\n\nConfigure SonarCloud rule S1135 (\"Track uses of TODO tags\") to exclude false positives caused by our domain language using \"todo\" as a core concept throughout the codebase.\n\n**Related to**: #259 (SonarCloud code quality improvements)\n\n## Problem Statement\n\nSonarCloud rule `typescript:S1135` is flagging **36 INFO-level issues** across the codebase. Analysis reveals that ~95% are **false positives** where \"todo\" appears as legitimate domain terminology:\n\n**False Positive Categories:**\n- **Domain type references** (~30): Comments describing \"todo items\", \"todo lists\", \"todos\" as application entities\n  - Example: `app/types/todo.ts:3` - `// ==================== BASE TODO TYPES ====================`\n  - Example: `app/types/todo.ts:38` - `* Extended todo item for shared lists`\n  - Example: `app/types/shared-todos.ts:6` - `* Shared todo item`\n- **Test markers** (~5): `// TODO: After implementation` in test files for pending scenarios\n- **Legitimate markers** (1): `app/lib/kv-store.ts:16` - `TODO: Replace with actual Vercel KV when deployed`\n\n**Root Cause**: In a todo application, \"todo\" is ubiquitous language (DDD principle). Rule S1135 treats all \"TODO\" occurrences as code smell markers for incomplete work.\n\n**Domain Model Impact**: \n- **1,795 occurrences** of \"todo\" across 54 files\n- Core types: `Todo`, `SharedTodo`, `TodoState`, `TodoFilter`\n- User-facing brand: \"TODO\" app title, UI text, documentation\n\n## Decision: Preserve Domain Language\n\n**Alternative considered and rejected**: Rename domain concept to \"Task\" or \"TodoItem\"\n- ‚ùå Violates DDD ubiquitous language principle\n- ‚ùå Massive refactoring (1,795 changes, 54 files)\n- ‚ùå Breaks brand consistency (\"Todo App\" with \"Task\" entities)\n- ‚ùå Tools should serve the domain, not dictate it\n\n**Chosen approach**: Configure SonarCloud to understand our domain context\n\n## Proposed Solution\n\n### 1. SonarCloud Configuration\n\nAdd to `sonar-project.properties`:\n\n```properties\n# Exclude S1135 from test files - TODO: markers acceptable for pending implementations\nsonar.issue.ignore.multicriteria=e1,e2\nsonar.issue.ignore.multicriteria.e1.ruleKey=typescript:S1135\nsonar.issue.ignore.multicriteria.e1.resourceKey=**/__tests__/**\n\n# Exclude S1135 from type definitions - \"todo\" is core domain language\nsonar.issue.ignore.multicriteria.e2.ruleKey=typescript:S1135\nsonar.issue.ignore.multicriteria.e2.resourceKey=app/types/**\n```\n\n### 2. Minor Comment Refactoring\n\nRefactor uppercase section headers to mixed case (reduces noise):\n- `// ==================== BASE TODO TYPES ====================`\n- Change to: `// ==================== Todo Type Definitions ====================`\n\nSimilar updates for other ALL-CAPS \"TODO\" section headers.\n\n### 3. Address Legitimate TODO\n\nKeep or resolve the one legitimate TODO marker:\n- `app/lib/kv-store.ts:16` - Document whether Vercel KV migration is planned or if in-memory store is permanent\n\n## Scope\n\n### Configuration Changes\n- Update `sonar-project.properties` with multi-criteria exclusions\n- Verify exclusions work on next SonarCloud scan\n\n### Code Changes\n- Refactor ~3-5 section header comments (app/types/*.ts)\n- Document or resolve kv-store.ts TODO marker\n\n### Documentation\n- Optional ADR if this becomes a pattern for other domain terms\n\n## Success Criteria\n\n- [ ] SonarCloud S1135 issues reduced from 36 to 0-1 (only if legitimate TODOs remain)\n- [ ] Test files excluded from S1135 scanning\n- [ ] Type definition files excluded from S1135 scanning\n- [ ] Domain language \"todo\" remains unchanged throughout codebase\n- [ ] SonarCloud scan passes with new configuration\n\n## Implementation Notes\n\n- No specialized agents needed - straightforward configuration\n- Single commit for sonar-project.properties update\n- Optional follow-up commit for comment refactoring\n- Test with SonarCloud scan after changes\n\n## Labels\n\n- `priority-4-low` - Quality-of-life improvement, not blocking\n- `complexity-minimal` - Single file configuration change\n- `category-infrastructure` - Build/CI/quality tooling\n\n## Estimated Effort\n\n- Configuration: 10 minutes\n- Comment refactoring: 10 minutes\n- Verification: 5 minutes\n- **Total: ~25 minutes**\n\n## References\n\n- SonarCloud Rule S1135: \"Track uses of TODO tags\"\n- Related analysis: Issue research documented in conversation\n- DDD Ubiquitous Language: https://martinfowler.com/bliki/UbiquitousLanguage.html",
        "number": 264,
        "repository": "mikiwiik/instructions-only-claude-coding",
        "title": "Configure SonarCloud S1135 to Handle 'Todo' Domain Language",
        "type": "Issue",
        "url": "https://github.com/mikiwiik/instructions-only-claude-coding/issues/264"
      },
      "id": "PVTI_lAHOABVon84BF52zzggFD7Y",
      "labels": [
        "priority-4-low",
        "complexity-minimal",
        "category-infrastructure"
      ],
      "lifecycle": "Done",
      "repository": "https://github.com/mikiwiik/instructions-only-claude-coding",
      "status": "Done",
      "title": "Configure SonarCloud S1135 to Handle 'Todo' Domain Language"
    },
    {
      "content": {
        "body": "## Overview\n\nAddress all 5 high severity code complexity issues from SonarCloud and establish comprehensive code complexity standards to prevent future violations. Includes analysis and reporting on medium/low severity issues for future prioritization.\n\n## Problem Statement\n\nSonarCloud has identified 5 high severity maintainability issues (90 minutes technical debt) related to code complexity:\n- **useSharedTodoSync.ts**: 3 violations (function nesting >4 levels)\n- **TodoItem.tsx**: 1 violation (cognitive complexity 19, limit 15)\n- **ConfirmationDialog.tsx**: 1 violation (cognitive complexity 31, limit 15)\n\nAdditionally, there are 43 medium severity and 90 low severity issues that need analysis and prioritization.\n\n## Scope\n\n### 1. Architecture & Standards Documentation\n\n**ADR: Code Complexity Standards** (`docs/adr/0XX-code-complexity-standards.md`)\n- Cognitive complexity limit: 15 (aligned with SonarCloud)\n- Function nesting limit: 4 levels (aligned with SonarCloud)\n- Cyclomatic complexity limit for ESLint\n- Rationale for standards\n- Enforcement mechanisms (ESLint + SonarCloud)\n- Refactoring patterns and best practices\n\n**Coding Guidelines** (`docs/guidelines/code-complexity-guidelines.md`)\n- Practical refactoring patterns\n- When to extract helper functions/hooks\n- Component decomposition strategies\n- Examples from this refactoring\n- Integration with existing TypeScript standards\n\n### 2. ESLint Configuration Updates\n\nUpdate `eslint.config.mjs`:\n- `complexity`: Cyclomatic complexity limit\n- `max-depth`: Maximum nesting depth (4 levels)\n- `max-lines-per-function`: Consider function size limits\n- Verify rules catch the issues without breaking existing code\n\n### 3. Code Refactoring\n\n#### 3a. useSharedTodoSync.ts (3 violations - lines 51, 62, 74)\n**Issue**: Deep nesting (>4 levels) in BroadcastChannel event listeners\n\n**Strategy**:\n- Extract event handler functions to module level\n- Create typed handler interfaces\n- Simplify useEffect dependency management\n- Consider splitting into multiple focused hooks\n- Write comprehensive unit tests\n\n#### 3b. TodoItem.tsx (1 violation - line 106, complexity 19)\n**Issue**: Cognitive complexity 19 in main component function\n\n**Strategy**:\n- Extract gesture handling logic to custom hooks\n- Split rendering logic into sub-components\n- Separate deleted/active todo rendering paths\n- Extract action button groups to dedicated components\n- Simplify conditional rendering logic\n- Write tests for extracted logic\n\n#### 3c. ConfirmationDialog.tsx (1 violation - line 65, complexity 31)\n**Issue**: Cognitive complexity 31 in keyboard handler\n\n**Strategy**:\n- Extract keyboard navigation to custom hook\n- Simplify focus trap logic with helper functions\n- Extract variant styling logic\n- Break down complex switch/case logic\n- Consider using a keyboard navigation library\n- Write comprehensive tests\n\n### 4. Testing Strategy\n\n- **Unit Tests**: All refactored functions and hooks\n- **Integration Tests**: Component behavior unchanged\n- **Regression Tests**: Existing tests continue to pass\n- **Coverage**: Maintain 90%+ threshold\n- **TDD Approach**: Write tests first for extracted logic\n\n### 5. Documentation Updates\n\n- Update `CLAUDE.md` to reference new complexity standards\n- Update `docs/core/framework.md` with quality gates\n- Link new guidelines from `docs/guidelines/typescript-standards.md`\n- Update user flow diagrams if component structure changes significantly\n\n### 6. Issue Analysis Report\n\nCreate comprehensive analysis report (`docs/quality/sonarcloud-issue-analysis.md` or similar):\n- Detailed breakdown of 43 medium severity issues\n- Detailed breakdown of 90 low severity issues\n- Categorization by type, impact, and effort\n- Recommendations for prioritization\n- Identify high-impact medium severity items for follow-up issues\n\n## Deliverables\n\n- [x] ADR document defining complexity standards\n- [x] Coding guidelines with practical examples\n- [x] ESLint configuration with complexity rules\n- [x] Refactored useSharedTodoSync.ts with tests\n- [x] Refactored TodoItem.tsx with tests\n- [x] Refactored ConfirmationDialog.tsx with tests\n- [x] Updated documentation\n- [x] Medium/low severity issue analysis report\n- [x] SonarCloud verification (all 5 high severity issues resolved)\n\n## SonarCloud Issue Summary\n\n### High Severity (5 issues - 90 min)\nAll are code complexity related:\n1. useSharedTodoSync.ts:51 - Function nesting >4 levels (S2004) - 20min\n2. useSharedTodoSync.ts:62 - Function nesting >4 levels (S2004) - 20min\n3. useSharedTodoSync.ts:74 - Function nesting >4 levels (S2004) - 20min\n4. TodoItem.tsx:106 - Cognitive complexity 19/15 (S3776) - 9min\n5. ConfirmationDialog.tsx:65 - Cognitive complexity 31/15 (S3776) - 21min\n\n### Medium Severity (43 issues - 283 min)\n- 22 issues: Ignored/skipped tests (S1607)\n- 7 issues: React best practices (S6479, S6819)\n- 2 issues: TypeScript type safety (S2933)\n- 12 issues: Miscellaneous\n\n### Low Severity (90 issues - 432 min)\n- Props type safety (S6759)\n- Modern JavaScript conventions (S7781, S7773, S7758, S7728)\n- Code readability (S7735, S7755)\n- Miscellaneous style improvements\n\n## Success Criteria\n\n- [ ] Zero high severity code complexity issues in SonarCloud\n- [ ] ESLint complexity rules enforced and passing\n- [ ] All tests passing with 90%+ coverage\n- [ ] Build succeeds\n- [ ] Comprehensive documentation in place\n- [ ] Medium/low severity analysis report created for future work\n\n## Labels\n\n- `priority-3-medium` - Important code quality improvement\n- `complexity-complex` - Full redesign, ADR, tooling changes\n- `category-infrastructure` - Code quality standards affect entire codebase\n\n## Estimated Effort\n\n- SonarCloud fixes: 90 minutes\n- ADR + Guidelines: 60 minutes\n- ESLint configuration: 30 minutes\n- Testing: 90 minutes\n- Documentation + Analysis: 60 minutes\n- **Total: ~5.5 hours**\n\n## Implementation Notes\n\n- Follow TDD approach for all refactoring\n- Ensure zero regression in functionality\n- All commits should follow atomic commit strategy with AI attribution\n- Use specialized agents (frontend-specialist, testing-specialist, quality-assurance, documentation-agent)\n- Create feature branch and PR following standard workflow",
        "number": 259,
        "repository": "mikiwiik/instructions-only-claude-coding",
        "title": "Fix SonarCloud High Severity Code Complexity Issues + Establish Standards",
        "type": "Issue",
        "url": "https://github.com/mikiwiik/instructions-only-claude-coding/issues/259"
      },
      "id": "PVTI_lAHOABVon84BF52zzggDtWU",
      "labels": [
        "priority-3-medium",
        "complexity-complex",
        "category-infrastructure"
      ],
      "lifecycle": "Done",
      "linked pull requests": [
        "https://github.com/mikiwiik/instructions-only-claude-coding/pull/278"
      ],
      "repository": "https://github.com/mikiwiik/instructions-only-claude-coding",
      "status": "Done",
      "title": "Fix SonarCloud High Severity Code Complexity Issues + Establish Standards"
    },
    {
      "content": {
        "body": "## Overview\nImplement SonarCloud configuration improvements based on TypeScript/JavaScript best practices analysis.\n\n## Current Status\n‚úÖ SonarCloud integration is working correctly\n‚úÖ Quality gate checks passing on all PRs\n‚úÖ PR comments and coverage integration functional\n\n## Improvements to Implement\n\n### 1. Add TypeScript TSConfig Paths Parameter\n**File**: `sonar-project.properties`\n\nAdd explicit TSConfig paths configuration:\n```properties\nsonar.typescript.tsconfigPaths=tsconfig.json\n```\n\n**Rationale**: The scanner expects comma-separated TSConfig path patterns. Explicit configuration is more reliable than auto-detection.\n\n### 2. Add Source Encoding (UTF-8)\n**File**: `sonar-project.properties`\n\nAdd encoding specification:\n```properties\nsonar.sourceEncoding=UTF-8\n```\n\n**Rationale**: Best practice for JavaScript/TypeScript analysis. Ensures consistent file encoding.\n\n### 3. Import ESLint Reports to SonarCloud\n**Files**: \n- `.github/workflows/build.yml`\n- `sonar-project.properties`\n\n**Workflow changes** (add before SonarCloud Analysis step):\n```yaml\n- name: Generate ESLint Report\n  run: npm run lint -- --format json --output-file eslint-report.json || true\n  if: matrix.os == 'ubuntu-latest' && matrix.node-version == '22.x'\n```\n\n**SonarCloud config addition**:\n```properties\nsonar.eslint.reportPaths=eslint-report.json\n```\n\n**Rationale**: Consolidates all code quality issues in SonarCloud dashboard for unified reporting.\n\n### 4. Align Coverage Exclusions\n**File**: `sonar-project.properties`\n\nUpdate coverage exclusions to match Jest configuration:\n```properties\nsonar.coverage.exclusions=**/*.test.ts,**/*.test.tsx,**/*.spec.ts,**/*.spec.tsx,**/*.config.js,**/*.config.ts,**/*.d.ts,**/layout.tsx,**/page.tsx,app/api/**/*,app/hooks/useSharedTodoSync.ts,app/hooks/useSharedTodos.ts,app/lib/sync-queue.ts\n```\n\n**Additions**: `**/*.d.ts`, `**/layout.tsx`, `**/page.tsx`\n\n**Rationale**: Ensures coverage metrics are consistent between Jest and SonarCloud reports.\n\n### 5. Update Documentation\n**File**: `docs/setup/sonarcloud-setup.md`\n\n- Update line 114: Document use of SHA-pinned action version\n- Add section on TypeScript best practices being followed\n- Document the ESLint integration if implemented\n\n## Definition of Done\n- [ ] All configuration changes applied to `sonar-project.properties`\n- [ ] ESLint report generation added to GitHub Actions workflow\n- [ ] Coverage exclusions aligned between Jest and SonarCloud\n- [ ] Documentation updated with best practices\n- [ ] PR created with all changes\n- [ ] SonarCloud analysis passes on the PR\n- [ ] Verify ESLint issues appear in SonarCloud dashboard (if applicable)\n\n## Priority & Complexity\n**Priority**: Low (optimization, not bug fix)\n**Complexity**: Simple (configuration changes only)\n\n## References\n- SonarCloud TypeScript/JavaScript Best Practices: https://docs.sonarsource.com/sonarqube-cloud/advanced-setup/languages/javascript-typescript-css\n- Current setup: `sonar-project.properties`\n- Current workflow: `.github/workflows/build.yml`",
        "number": 238,
        "repository": "mikiwiik/instructions-only-claude-coding",
        "title": "Optimize SonarCloud configuration with TypeScript best practices",
        "type": "Issue",
        "url": "https://github.com/mikiwiik/instructions-only-claude-coding/issues/238"
      },
      "id": "PVTI_lAHOABVon84BF52zzggDQNY",
      "labels": [
        "priority-4-low",
        "complexity-simple",
        "category-infrastructure"
      ],
      "lifecycle": "Done",
      "linked pull requests": [
        "https://github.com/mikiwiik/instructions-only-claude-coding/pull/273"
      ],
      "repository": "https://github.com/mikiwiik/instructions-only-claude-coding",
      "status": "Done",
      "title": "Optimize SonarCloud configuration with TypeScript best practices"
    },
    {
      "content": {
        "body": "## Problem\n\nWith Dependabot configured to ignore certain major version updates (e.g., React 19 until Next.js 15 is compatible, see #232), we need an automated way to stay aware of available major version updates across **all** dependencies, not just React.\n\nWithout this monitoring, we risk:\n- Missing important major version releases\n- Falling behind on framework updates\n- Not knowing when upgrade paths become available\n\n## Proposed Solution\n\nCreate a GitHub Action workflow that:\n\n### 1. Runs Monthly (Scheduled)\n```yaml\nschedule:\n  - cron: \"0 9 1 * *\"  # 9:00 AM UTC on 1st of each month\nworkflow_dispatch:     # Allow manual trigger\n```\n\n### 2. Checks All Outdated Packages\n- Run `npm outdated --json` to get ALL available updates\n- Filter for major version bumps across all dependencies\n- Compare against current `package.json` versions\n\n### 3. Creates Notification Issue\nWhen major versions are found:\n- Create a GitHub issue with findings\n- List all packages with available major versions\n- Include current version ‚Üí available version for each\n- Add relevant labels: `dependencies`, `category-infrastructure`, `priority-3-medium`\n- Close previous monitoring issues to avoid clutter\n\n### 4. Smart Filtering (Optional Enhancement)\n- Check if major versions have compatible peer dependencies\n- Flag breaking changes or compatibility concerns\n- Prioritize security-related updates\n\n## Benefits\n\n- **Automated Awareness**: No need to remember manual quarterly checks\n- **Comprehensive Coverage**: Monitors ALL dependencies, not just React\n- **Actionable**: Creates trackable issues in our workflow\n- **Transparent**: Workflow runs visible in Actions tab\n- **Flexible**: Can adjust frequency as needed\n\n## Implementation Tasks\n\n- [ ] Create `.github/workflows/dependency-version-check.yml`\n- [ ] Implement `npm outdated --json` parsing\n- [ ] Add logic to create GitHub issues with findings\n- [ ] Test workflow with manual trigger (`workflow_dispatch`)\n- [ ] Document workflow in project README or ADR\n- [ ] Verify monthly schedule works correctly\n\n## Example Output\n\nWhen the workflow runs and finds outdated major versions:\n\n**Issue Title**: \"Monthly Dependency Check: 5 major version updates available (2025-11)\"\n\n**Issue Body**:\n```markdown\n## Available Major Version Updates (2025-11-01)\n\nThe following packages have major version updates available:\n\n### Framework Dependencies\n- `react`: 18.3.1 ‚Üí **19.2.0** (blocked by Next.js 14, see #232)\n- `next`: 14.2.33 ‚Üí **15.1.0** (upgrade path available, see #191)\n\n### Development Dependencies\n- `eslint`: 9.0.0 ‚Üí **10.1.0**\n- `typescript`: 5.7.3 ‚Üí **6.0.0**\n\n### Action Items\n- Review each major version update\n- Check compatibility and breaking changes\n- Plan upgrade sequence (frameworks first, then tooling)\n- Update ignore rules if needed\n\n---\nGenerated by: `.github/workflows/dependency-version-check.yml`\n```\n\n## Related Issues\n\n- **#232**: Configure Dependabot to prevent incompatible React 19 upgrade\n  - This issue created the need for alternative monitoring\n- **#191**: Infrastructure: Evaluate additional dependency updates (React 19, Next.js 15, etc.)\n  - This workflow will help identify when upgrades become viable\n\n## Acceptance Criteria\n\n- [ ] GitHub Action workflow created and tested\n- [ ] Runs monthly on schedule (1st of month)\n- [ ] Parses `npm outdated` output correctly\n- [ ] Creates issues with clear, actionable information\n- [ ] Can be manually triggered via `workflow_dispatch`\n- [ ] Documentation updated\n\n## Labels\n\npriority-3-medium, complexity-simple, category-infrastructure",
        "number": 235,
        "repository": "mikiwiik/instructions-only-claude-coding",
        "title": "Add monthly GitHub Action to monitor all outdated major versions",
        "type": "Issue",
        "url": "https://github.com/mikiwiik/instructions-only-claude-coding/issues/235"
      },
      "id": "PVTI_lAHOABVon84BF52zzggDPNE",
      "labels": [
        "priority-3-medium",
        "complexity-simple",
        "category-infrastructure"
      ],
      "lifecycle": "Icebox",
      "repository": "https://github.com/mikiwiik/instructions-only-claude-coding",
      "title": "Add monthly GitHub Action to monitor all outdated major versions"
    },
    {
      "content": {
        "body": "## Overview\n\nCreate comprehensive project-wide security documentation to complement existing feature-specific security assessments and document the complete security posture of the project.\n\n## Context\n\nCurrently, security documentation is fragmented across multiple locations:\n\n- `docs/security/shared-lists-security-assessment.md` - Feature-specific security assessment\n- `docs/architecture/overview.md` - High-level security considerations (outdated)\n- `docs/adr/011-github-actions-ci-cd.md` - CI/CD security scanning documentation\n- **Missing**: Root-level `SECURITY.md` for vulnerability reporting\n- **Missing**: Comprehensive security overview in README\n- **Missing**: Central documentation of security tools and practices\n\n## Related Issues\n\n- #154 - Enable CodeQL code scanning with workflow configuration (implements source code security layer)\n- #148 - Create security vulnerability reporting process and documentation\n- #146 - Add automated npm audit security scanning (dependency security layer)\n\n## Proposed Implementation\n\n### 1. Create `SECURITY.md` (Root Level)\n\nGitHub standard file for vulnerability reporting and security practices:\n\n- **Vulnerability Reporting Process**\n  - How to report security vulnerabilities\n  - Expected response timeline\n  - Responsible disclosure policy\n  - Contact information for security issues\n\n- **Security Practices Overview**\n  - Automated security scanning (CodeQL, npm audit, SonarCloud)\n  - Dependency management and updates\n  - Security update process\n  - Code review requirements\n\n- **Supported Versions**\n  - Current security support status\n  - Update policy\n\n**Template Structure:**\n```markdown\n# Security Policy\n\n## Reporting a Vulnerability\n\n[Process for reporting security issues]\n\n## Security Scanning\n\nThis project uses multiple automated security scanning tools:\n- **CodeQL** (#154): Source code vulnerability detection\n- **npm audit** (#146): Dependency vulnerability scanning\n- **SonarCloud**: Code quality and security analysis\n\n## Security Updates\n\n[Update process and timeline]\n```\n\n### 2. Update `docs/architecture/overview.md`\n\nExpand \"Security Considerations\" section (currently lines 256-271) with:\n\n**Add Defense-in-Depth Strategy:**\n```markdown\n### Defense-in-Depth Security Strategy\n\n#### Layer 1: Dependency Security\n- **npm audit** (#146): Weekly automated dependency vulnerability scanning\n- **Dependabot** (#147): Automated dependency updates\n- **Pinned Dependencies**: Exact versions for reproducible builds\n\n#### Layer 2: Source Code Security\n- **CodeQL** (#154): Automated source code vulnerability detection\n  - JavaScript/TypeScript scanning\n  - Security-and-quality query suite\n  - OWASP Top 10 coverage\n- **SonarCloud**: Static code analysis for quality and security\n  - Code smells and security hotspots\n  - Technical debt tracking\n\n#### Layer 3: Infrastructure Security\n- **HTTPS**: Automatic SSL/TLS encryption via Vercel\n- **Secure Headers**: CSP, HSTS, X-Frame-Options\n- **No Server Secrets**: Client-side architecture minimizes attack surface\n```\n\n**Add Security Scanning Tools:**\n```markdown\n### Automated Security Scanning\n\n#### CodeQL Code Scanning (#154)\n- **Purpose**: Detect source code vulnerabilities\n- **Coverage**: Injection, XSS, authentication flaws, path traversal\n- **Schedule**: Push to main, all PRs, weekly scans\n- **Integration**: GitHub Security tab, PR checks\n\n#### npm audit (#146)\n- **Purpose**: Dependency vulnerability detection\n- **Coverage**: Known CVEs in npm packages\n- **Schedule**: Weekly automated scans, PR checks\n- **Process**: Automated issue creation on vulnerabilities found\n\n#### SonarCloud Analysis\n- **Purpose**: Code quality and security analysis\n- **Coverage**: Code smells, bugs, security hotspots\n- **Integration**: PR quality gates, trend analysis\n```\n\n### 3. Update `README.md`\n\nAdd \"Security\" section after \"Features\" (around line 192):\n\n```markdown\n## Security\n\nThis project implements a defense-in-depth security strategy with multiple layers of automated scanning:\n\n- **Source Code Security**: CodeQL scanning for vulnerabilities (#154)\n- **Dependency Security**: npm audit for known CVEs (#146)\n- **Code Quality**: SonarCloud for static analysis\n- **Infrastructure**: HTTPS encryption, secure headers\n\n**Reporting Vulnerabilities**: See [SECURITY.md](SECURITY.md) for our security policy and vulnerability reporting process.\n\n**Detailed Security Documentation**:\n- [Security Assessment](docs/security/shared-lists-security-assessment.md) - Threat model and controls for shared lists\n- [Architecture Security](docs/architecture/overview.md#security-considerations) - Technical security architecture\n```\n\n## Benefits\n\n### Improved Security Posture\n- Clear vulnerability reporting process\n- Comprehensive documentation of security tools\n- Central reference for security practices\n- Better visibility of security measures\n\n### Developer Experience\n- Clear security guidelines for contributors\n- Understanding of automated security checks\n- Reference for security best practices\n- Integration with existing workflow\n\n### Compliance and Transparency\n- GitHub standard SECURITY.md file\n- Industry-standard vulnerability disclosure\n- Clear security update process\n- Public documentation of security practices\n\n## Implementation Checklist\n\n- [ ] Create `SECURITY.md` with vulnerability reporting process\n- [ ] Expand `docs/architecture/overview.md` security section with:\n  - [ ] Defense-in-Depth Strategy subsection\n  - [ ] Security Scanning Tools subsection\n  - [ ] References to CodeQL (#154), npm audit (#146), SonarCloud\n- [ ] Add Security section to `README.md` with:\n  - [ ] High-level security overview\n  - [ ] Links to SECURITY.md and detailed docs\n  - [ ] Brief mention of automated scanning\n- [ ] Ensure all security docs cross-reference correctly\n- [ ] Follow documentation standards (docs/guidelines/documentation-standards.md)\n\n## Success Criteria\n\n- ‚úÖ Root-level SECURITY.md file exists with vulnerability reporting process\n- ‚úÖ Architecture overview has comprehensive security section referencing CodeQL (#154)\n- ‚úÖ README has security section linking to detailed docs\n- ‚úÖ All security documentation cross-references consistently\n- ‚úÖ CodeQL implementation (#154) is properly documented\n- ‚úÖ Documentation follows project standards\n\n## References\n\n- GitHub Security Best Practices: https://docs.github.com/en/code-security\n- OWASP Documentation: https://owasp.org/www-project-top-ten/\n- Related ADRs: docs/adr/011-github-actions-ci-cd.md",
        "number": 220,
        "repository": "mikiwiik/instructions-only-claude-coding",
        "title": "Create comprehensive project-wide security documentation",
        "type": "Issue",
        "url": "https://github.com/mikiwiik/instructions-only-claude-coding/issues/220"
      },
      "id": "PVTI_lAHOABVon84BF52zzggDPNc",
      "labels": [
        "priority-3-medium",
        "complexity-simple",
        "category-documentation"
      ],
      "lifecycle": "Icebox",
      "repository": "https://github.com/mikiwiik/instructions-only-claude-coding",
      "title": "Create comprehensive project-wide security documentation"
    },
    {
      "content": {
        "body": "## Summary\n\nResearch and evaluate logging aggregation services beyond Vercel's built-in logging to determine the best long-term solution for production monitoring, GDPR compliance, and advanced log analysis.\n\n## Context\n\n**Current State:**\n- No external logging service (will use Vercel built-in via #197)\n- System logging will be implemented with Pino (#197)\n- Audit logging planned with GDPR compliance (#199)\n- Need to evaluate if additional services provide value\n\n**Timing:**\n- This is a **research issue only** - no implementation\n- Implementation decision deferred until production needs are clearer\n- Evaluation informs future ADR if service adoption recommended\n\n**Dependencies:**\n- Related to #197 (System logging with Pino)\n- Related to #199 (Audit logging)\n- No blocking dependencies\n\n## Research Objectives\n\n### Primary Questions\n1. What logging aggregation services are best suited for Next.js/Vercel?\n2. Which services provide GDPR-compliant log management?\n3. What are the cost implications at various scales?\n4. How do services integrate with Pino and Vercel?\n5. What advanced features justify moving beyond Vercel's built-in logging?\n\n### Services to Evaluate\n\n#### 1. Datadog\n- **Overview**: Comprehensive observability platform\n- **Strengths**: Full-stack monitoring, APM, metrics, logs\n- **Weaknesses**: Expensive, complex setup\n- **Next.js Support**: Excellent integration\n- **GDPR**: Compliant with data residency options\n\n#### 2. Logtail (Better Stack)\n- **Overview**: Modern log management focused on developer experience\n- **Strengths**: Affordable, good Next.js support, live tailing\n- **Weaknesses**: Fewer features than Datadog\n- **Next.js Support**: Native Vercel integration\n- **GDPR**: EU data centers available\n\n#### 3. LogDNA / Mezmo\n- **Overview**: Log aggregation and analysis platform\n- **Strengths**: Good querying, alerts, retention policies\n- **Weaknesses**: Less comprehensive than Datadog\n- **Next.js Support**: Standard log ingestion\n- **GDPR**: GDPR-focused features, EU hosting\n\n#### 4. Papertrail\n- **Overview**: Simple cloud-hosted log management\n- **Strengths**: Easy setup, affordable for small scale\n- **Weaknesses**: Limited advanced features\n- **Next.js Support**: Standard syslog integration\n- **GDPR**: Basic compliance\n\n#### 5. New Relic\n- **Overview**: Full observability platform with logs\n- **Strengths**: Comprehensive monitoring, good UI\n- **Weaknesses**: Expensive, complex\n- **Next.js Support**: Good integration\n- **GDPR**: Compliant with data residency\n\n#### 6. Vercel Built-In Logging (Baseline)\n- **Overview**: Native Vercel log aggregation\n- **Strengths**: Free (up to limits), zero setup, integrated\n- **Weaknesses**: Limited retention, basic search, no advanced analytics\n- **Next.js Support**: Perfect (native)\n- **GDPR**: Covered by Vercel's compliance\n\n## Evaluation Criteria\n\n### 1. Next.js/Vercel Integration\n- [ ] How easy is setup with Vercel deployment?\n- [ ] Does it support Edge Runtime logs?\n- [ ] Can it capture both server and client logs?\n- [ ] Integration with Vercel's observability?\n- [ ] Performance impact on application?\n\n### 2. GDPR Compliance\n- [ ] Data residency options (EU hosting)?\n- [ ] Data retention controls?\n- [ ] Data encryption (at rest, in transit)?\n- [ ] Data deletion capabilities (right to erasure)?\n- [ ] Audit log retention for compliance?\n- [ ] GDPR-specific features (anonymization, etc.)?\n\n### 3. Features\n- [ ] Log search and filtering capabilities\n- [ ] Real-time log streaming (live tail)\n- [ ] Alerts and notifications\n- [ ] Log retention period (configurable)\n- [ ] Query language power\n- [ ] Visualization and dashboards\n- [ ] Anomaly detection\n- [ ] Log parsing and structuring\n- [ ] Integration with other tools (Slack, PagerDuty, etc.)\n\n### 4. Cost Analysis\n- [ ] Free tier availability and limits\n- [ ] Pricing model (per GB, per user, per month)\n- [ ] Cost at 1GB/month (small scale)\n- [ ] Cost at 10GB/month (medium scale)\n- [ ] Cost at 100GB/month (large scale)\n- [ ] Hidden costs (egress, retention, seats)\n\n### 5. Developer Experience\n- [ ] Setup complexity\n- [ ] UI/UX quality\n- [ ] Query interface usability\n- [ ] Documentation quality\n- [ ] Community support\n- [ ] API availability for programmatic access\n\n### 6. Performance\n- [ ] Log ingestion latency\n- [ ] Query performance\n- [ ] Search speed\n- [ ] Dashboard load times\n- [ ] Impact on application performance\n\n## Research Methodology\n\n### Phase 1: Documentation Review\n- [ ] Review official documentation for each service\n- [ ] Check Next.js/Vercel integration guides\n- [ ] Review GDPR compliance documentation\n- [ ] Compare pricing pages\n\n### Phase 2: Community Research\n- [ ] Search for Next.js + [service] integration experiences\n- [ ] Review Reddit, HackerNews discussions\n- [ ] Check GitHub issues and discussions\n- [ ] Read comparison blog posts (2024-2025)\n\n### Phase 3: Hands-On Evaluation (Optional)\n- [ ] Sign up for free tiers of top 2-3 candidates\n- [ ] Test basic log ingestion from test Vercel project\n- [ ] Evaluate query and search capabilities\n- [ ] Test alert configuration\n- [ ] Assess UI/UX\n\n### Phase 4: Cost-Benefit Analysis\n- [ ] Calculate cost for projected usage\n- [ ] Identify features worth paying for\n- [ ] Compare against Vercel built-in limitations\n- [ ] Determine breakeven point for external service\n\n## Deliverables\n\n### Research Summary (Comment on This Issue)\n\n**Comparison Matrix:**\n| Service | Next.js Integration | GDPR | Key Features | Cost (1GB/mo) | Cost (10GB/mo) | Recommendation |\n|---------|-------------------|------|--------------|---------------|----------------|----------------|\n| Vercel  | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | ‚úÖ | Basic | Free | Free (limited) | Baseline |\n| Datadog | ‚≠ê‚≠ê‚≠ê‚≠ê | ‚úÖ | Full observability | $$$$ | $$$$ | Enterprise |\n| Logtail | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | ‚úÖ | Dev-focused | $$ | $$ | Developer |\n| LogDNA  | ‚≠ê‚≠ê‚≠ê | ‚úÖ | GDPR-focused | $$ | $$$ | Compliance |\n| ... | ... | ... | ... | ... | ... | ... |\n\n**Key Findings:**\n- Summary of integration ease\n- GDPR compliance comparison\n- Feature gaps in Vercel built-in\n- Cost at various scales\n- Performance considerations\n\n**Recommendation:**\n- Stay with Vercel built-in OR\n- Adopt [Service] because [rationale]\n- Timeline for adoption (if recommended)\n\n### Architecture Decision Record (If Adoption Recommended)\n\n**ADR-029: Logging Aggregation Service Selection** (only if external service recommended)\n- Requirements driving external service need\n- Services evaluated\n- Evaluation criteria and results\n- Cost-benefit analysis\n- Selection rationale\n- Implementation timeline\n- Migration plan from Vercel built-in\n\n**Note:** ADR only created if research recommends moving beyond Vercel's built-in logging\n\n## Decision Criteria\n\n**Stay with Vercel Built-In If:**\n- Vercel's retention (7 days) is sufficient for needs\n- Basic search/filtering meets requirements\n- Cost is primary concern\n- Application is in early/MVP stage\n- Log volume is low (<1GB/month)\n\n**Adopt External Service If:**\n- Need >7 day retention (compliance, debugging)\n- Need advanced search/query capabilities\n- Need real-time alerts and monitoring\n- Need log analytics and visualization\n- Need GDPR-specific features (EU data residency)\n- Need integration with other monitoring tools\n- Log volume justifies cost (>5GB/month)\n\n## Success Criteria\n\n- [ ] All 6 services evaluated against criteria\n- [ ] Comparison matrix completed\n- [ ] Cost analysis for 1GB, 10GB, 100GB usage\n- [ ] GDPR compliance comparison documented\n- [ ] Next.js/Vercel integration ease assessed\n- [ ] Clear recommendation with rationale\n- [ ] If external service recommended: ADR drafted\n- [ ] If staying with Vercel: Rationale documented\n\n## Timeline\n\n**Research Duration:** 2-4 hours\n**Implementation (if recommended):** Separate issue to be created\n\n## References\n\n### Service Documentation\n- [Datadog Next.js Integration](https://docs.datadoghq.com/logs/log_collection/javascript/)\n- [Logtail Vercel Integration](https://betterstack.com/docs/logs/vercel/)\n- [LogDNA/Mezmo Documentation](https://docs.mezmo.com/)\n- [Papertrail Documentation](https://www.papertrail.com/help/)\n- [New Relic Next.js](https://docs.newrelic.com/docs/apm/agents/nodejs-agent/)\n- [Vercel Logging](https://vercel.com/docs/observability/runtime-logs)\n\n### Comparison Resources\n- [Better Stack: Node.js Logging Libraries](https://betterstack.com/community/guides/logging/best-nodejs-logging-libraries/)\n- [Last9: Node.js Logging Libraries](https://last9.io/blog/node-js-logging-libraries/)\n- [LogRocket: Best Node.js Logging Libraries](https://blog.logrocket.com/best-node-js-logging-libraries-aggregators/)\n\n## Notes\n\n**No Implementation:** This issue is research only. If an external service is recommended, a new implementation issue will be created with detailed migration plan.\n\n**Cost Sensitivity:** Given this is a demonstration/educational project, free or low-cost options are preferred unless specific features justify expense.\n\n**Educational Value:** Document the evaluation process to demonstrate proper technology selection methodology for instruction-only development.\n\n## Priority Rationale\n\n**priority-4-low**: Research and planning for future enhancement. Not blocking any current development. Vercel's built-in logging sufficient for near-term needs.\n\n## Complexity Rationale\n\n**complexity-minimal**: Research and documentation task requiring no implementation. Primarily involves reading documentation and comparing features in a structured manner.\n\n---\n\nü§ñ Generated with AI Agent\n\nCo-Authored-By: Claude <noreply@anthropic.com>",
        "number": 200,
        "repository": "mikiwiik/instructions-only-claude-coding",
        "title": "Infrastructure: Research additional logging aggregation services",
        "type": "Issue",
        "url": "https://github.com/mikiwiik/instructions-only-claude-coding/issues/200"
      },
      "id": "PVTI_lAHOABVon84BF52zzggDPNg",
      "labels": [
        "priority-4-low",
        "complexity-minimal",
        "category-infrastructure"
      ],
      "lifecycle": "Icebox",
      "repository": "https://github.com/mikiwiik/instructions-only-claude-coding",
      "title": "Infrastructure: Research additional logging aggregation services"
    },
    {
      "content": {
        "body": "## Summary\n\nImplement comprehensive GDPR-compliant audit logging to track data access, modifications, and user actions with encrypted storage, automated retention policies, and privacy-by-design principles.\n\n## Context\n\n**Current State:**\n- No audit trail for data access or modifications\n- No compliance logging for GDPR requirements\n- Activity logging limited to UI display (see #198)\n- No persistent record of data processing activities\n\n**GDPR Requirements:**\n- Track all personal data processing activities\n- Maintain audit trail for supervisory authority\n- Demonstrate compliance with data protection principles\n- Support data subject access requests (DSAR)\n- Provide accountability and transparency\n\n**Dependencies:**\n- **Blocked by**: #128 (Authentication) - Audit logging requires user identity\n- **Related**: #197 (System logging with Pino)\n- **Related**: #198 (Collaborator activity logging)\n\n## GDPR Audit Logging Requirements\n\n### What Must Be Logged\n\n**Data Access Events:**\n- Who accessed data (user ID, participant ID)\n- When data was accessed (timestamp)\n- What data was accessed (list ID, todo ID)\n- Purpose of access (view, edit, share)\n- Access method (web UI, API)\n\n**Data Modification Events:**\n- Who made the change (user ID)\n- When change was made (timestamp)\n- What was changed (before/after state)\n- Why change was made (user action, system action)\n- Change type (create, update, delete, restore)\n\n**GDPR-Specific Events:**\n- Consent obtained/withdrawn\n- Data subject access request (DSAR)\n- Data export requested\n- Data deletion requested\n- Privacy settings changed\n- Account created/deleted\n\n**Participant Actions:**\n- List sharing (who shared with whom)\n- Participant added/removed\n- Permission changes\n- Access token generation\n\n### What Must NOT Be Logged\n\n**Personal Identifiable Information (minimize):**\n- ‚ùå Full IP addresses (anonymize: `192.168.1.xxx`)\n- ‚ùå Full email addresses (hash or use user ID only)\n- ‚ùå Passwords or authentication tokens\n- ‚ùå Full todo content (use ID references)\n- ‚ùå Participant names (use anonymous IDs)\n\n## Implementation Steps\n\n### Phase 1: Audit Event Schema Design\n- [ ] Design GDPR-compliant audit event structure:\n  ```typescript\n  interface AuditEvent {\n    eventId: string;              // UUID\n    timestamp: Date;\n    eventType: 'DATA_ACCESS' | 'DATA_MODIFY' | 'PARTICIPANT_ACTION' | 'CONSENT' | 'GDPR_REQUEST';\n    userId: string;               // Authenticated user ID (from #128)\n    participantId?: string;       // For anonymous participants\n    listId?: string;\n    todoId?: string;\n    action: string;               // 'list.view', 'todo.create', 'consent.withdraw', etc.\n    metadata: {\n      ipAddress?: string;         // Anonymized (last octet masked)\n      userAgent?: string;         // Browser/device info\n      changes?: {                 // Before/after for modifications\n        before?: unknown;\n        after?: unknown;\n      };\n      reason?: string;            // Context for the action\n    };\n    gdprCategory: 'access' | 'modification' | 'consent' | 'deletion' | 'export';\n    severity: 'info' | 'warn' | 'critical';\n  }\n  ```\n- [ ] Create Zod validation schemas\n- [ ] Document audit event taxonomy\n\n### Phase 2: Audit Logger Service\n- [ ] Create `app/lib/audit-logger.ts`:\n  - `logDataAccess(userId, listId, action)` - Log data access\n  - `logDataModification(userId, changes, action)` - Log modifications\n  - `logConsentAction(userId, consentType, status)` - Log consent\n  - `logGDPRRequest(userId, requestType)` - Log DSAR, export, delete\n  - `logParticipantAction(userId, participantId, action)` - Log sharing\n- [ ] Use Pino (from #197) as underlying log transport\n- [ ] Add structured context to all audit logs\n- [ ] Implement IP anonymization utility\n\n### Phase 3: Encrypted Audit Storage\n- [ ] Design separate audit log storage (not in main KV store)\n  - Option 1: Vercel KV namespace for audit logs\n  - Option 2: Vercel Postgres audit table\n  - Option 3: External audit log service\n- [ ] Implement encryption at rest:\n  - Use Vercel environment variables for encryption keys\n  - Encrypt sensitive metadata fields\n  - Store encrypted logs with rotation support\n- [ ] Implement secure access controls:\n  - Admin-only access to audit logs\n  - Separate authentication for audit viewer\n  - Rate limiting on audit queries\n\n### Phase 4: Automated Retention Policy\n- [ ] Implement configurable retention periods:\n  ```typescript\n  const AUDIT_RETENTION = {\n    DATA_ACCESS: 365,        // 1 year (minimum)\n    DATA_MODIFY: 730,        // 2 years\n    GDPR_REQUEST: 2555,      // 7 years (legal requirement)\n    PARTICIPANT_ACTION: 365, // 1 year\n  };\n  ```\n- [ ] Create cleanup job for expired audit logs\n- [ ] Schedule periodic retention cleanup (Vercel Cron)\n- [ ] Implement soft delete with grace period\n- [ ] Add audit log archival before deletion (optional)\n\n### Phase 5: Integration with Application\n- [ ] Integrate with authentication system (#128):\n  - Log user registration\n  - Log user login/logout\n  - Log authentication failures\n  - Log session creation/expiration\n- [ ] Integrate with shared list operations:\n  - Log list creation (owner recorded)\n  - Log list sharing (participants recorded)\n  - Log list access (who viewed when)\n  - Log list deletion (data removal)\n- [ ] Integrate with todo operations:\n  - Log todo creation (author recorded)\n  - Log todo updates (modifier + changes)\n  - Log todo deletion (deleter + reason)\n  - Log todo restoration (restorer)\n- [ ] Integrate with permission changes:\n  - Log role assignments\n  - Log access revocation\n  - Log permission modifications\n\n### Phase 6: Admin Audit Log Viewer\n- [ ] Create admin-only audit log viewer:\n  - `/admin/audit-logs` route (protected)\n  - Filter by user, date range, event type\n  - Search by list ID, todo ID, action\n  - Export audit logs (CSV, JSON)\n  - Pagination for large result sets\n- [ ] Implement access controls:\n  - Admin role verification\n  - Session validation\n  - Rate limiting\n  - Audit logging of audit access (meta-audit)\n\n### Phase 7: GDPR Compliance Features\n- [ ] Implement data subject access request (DSAR):\n  - Export all audit logs for a user\n  - Include all data processing activities\n  - Machine-readable format (JSON)\n  - Human-readable format (PDF)\n- [ ] Implement right to erasure:\n  - Mark user audit logs for deletion\n  - Preserve legal retention requirements\n  - Anonymize user data in audit logs\n- [ ] Implement right to rectification:\n  - Log data corrections\n  - Track correction history\n- [ ] Create GDPR compliance report generator\n\n### Phase 8: Testing\n- [ ] Unit tests for audit event generation\n- [ ] Unit tests for IP anonymization\n- [ ] Unit tests for encryption/decryption\n- [ ] Integration tests for audit storage\n- [ ] Integration tests for retention cleanup\n- [ ] Security tests for access controls\n- [ ] GDPR compliance validation tests\n- [ ] Performance tests for audit queries\n\n### Phase 9: Documentation\n- [ ] Create **ADR-028: GDPR-Compliant Audit Logging Architecture**\n  - GDPR requirements analysis\n  - Audit event schema design\n  - Storage and encryption strategy\n  - Retention policy rationale\n  - Privacy-by-design implementation\n  - Compliance validation approach\n- [ ] Create GDPR compliance documentation\n- [ ] Document audit event taxonomy\n- [ ] Document retention policies\n- [ ] Update privacy policy with audit logging\n\n## Audit Event Taxonomy\n\n### Data Access Events\n- `list.view` - User viewed a shared list\n- `list.search` - User searched across lists\n- `todo.view` - User viewed todo details\n- `participant.view` - User viewed participant list\n\n### Data Modification Events\n- `list.create` - User created new list\n- `list.update` - User modified list settings\n- `list.delete` - User deleted list\n- `list.share` - User shared list with participant\n- `todo.create` - User created new todo\n- `todo.update` - User modified todo text/status\n- `todo.delete` - User deleted todo\n- `todo.restore` - User restored deleted todo\n- `todo.reorder` - User reordered todos\n\n### Participant Actions\n- `participant.add` - User added participant to list\n- `participant.remove` - User removed participant from list\n- `participant.join` - Participant joined via share link\n- `participant.leave` - Participant left list\n- `permission.grant` - User granted permission\n- `permission.revoke` - User revoked permission\n\n### Consent Events\n- `consent.share` - User consented to list sharing\n- `consent.withdraw` - User withdrew sharing consent\n- `privacy.update` - User updated privacy settings\n\n### GDPR Request Events\n- `gdpr.dsar` - Data subject access request\n- `gdpr.export` - Data export requested\n- `gdpr.delete` - Data deletion requested\n- `gdpr.rectify` - Data correction requested\n\n## Security Considerations\n\n### Encryption\n- **At Rest**: Encrypt sensitive metadata fields before storage\n- **In Transit**: HTTPS for all audit log transmission\n- **Key Management**: Use Vercel environment variables for keys\n- **Key Rotation**: Support key rotation without data loss\n\n### Access Control\n- **Authentication**: Require admin authentication\n- **Authorization**: Role-based access control (admin only)\n- **Session Management**: Secure session handling\n- **Rate Limiting**: Prevent audit log enumeration\n- **IP Allowlisting**: Optional admin IP restrictions\n\n### Audit of Audits (Meta-Auditing)\n- Log all access to audit logs\n- Track audit log exports\n- Monitor unusual audit query patterns\n- Alert on suspicious audit access\n\n### Privacy Protection\n- Anonymize IP addresses (last octet: `192.168.1.xxx`)\n- Hash email addresses in audit logs\n- Use user IDs instead of names\n- Minimize PII in audit metadata\n- Automatic data minimization\n\n## Retention Policy\n\n**Minimum Retention (GDPR Compliance):**\n- Data access logs: 12 months\n- Data modification logs: 24 months\n- GDPR request logs: 7 years (legal requirement)\n- Consent logs: Duration of processing + 3 years\n\n**Automated Cleanup:**\n- Daily cleanup job (Vercel Cron)\n- Soft delete with 30-day grace period\n- Archive before permanent deletion (optional)\n- Audit log of cleanup operations\n\n**Configurable via Environment:**\n```bash\nAUDIT_RETENTION_ACCESS_DAYS=365\nAUDIT_RETENTION_MODIFY_DAYS=730\nAUDIT_RETENTION_GDPR_DAYS=2555\nAUDIT_RETENTION_CONSENT_DAYS=1095\n```\n\n## Acceptance Criteria\n\n- [ ] Audit event schema designed and validated\n- [ ] Audit logger service implemented with all event types\n- [ ] Encrypted audit storage configured (separate from main data)\n- [ ] IP anonymization implemented and tested\n- [ ] Automated retention policy with cleanup job\n- [ ] Integration with authentication system (#128)\n- [ ] Integration with all data operations (list, todo, participant)\n- [ ] Admin audit log viewer implemented\n- [ ] DSAR export functionality implemented\n- [ ] Right to erasure functionality implemented\n- [ ] All security controls implemented and tested\n- [ ] Meta-auditing (audit of audits) implemented\n- [ ] All tests pass with >90% coverage\n- [ ] Security audit completed\n- [ ] ADR-028 created and merged\n- [ ] GDPR compliance documentation complete\n- [ ] Privacy policy updated\n\n## Storage Options Analysis\n\n### Option 1: Vercel KV (Separate Namespace)\n**Pros:** Simple integration, same infrastructure\n**Cons:** Limited query capabilities, no native encryption\n\n### Option 2: Vercel Postgres\n**Pros:** Full SQL querying, better for audit queries, native encryption\n**Cons:** Additional service, cost implications\n\n### Option 3: External Audit Service (e.g., Logtail, Datadog)\n**Pros:** Purpose-built for audit logs, compliance features\n**Cons:** External dependency, cost, data transfer\n\n**Recommendation:** Start with Vercel Postgres for audit logs (separate from main data)\n\n## Future Enhancements\n\n- Real-time audit log streaming (admin dashboard)\n- Anomaly detection in audit patterns\n- Automated compliance reporting\n- Integration with SIEM tools\n- Audit log analytics and visualization\n- Blockchain-based audit trail (tamper-proof)\n\n## References\n\n- [GDPR Logging Best Practices](https://www.cookieyes.com/blog/gdpr-logging-and-monitoring/)\n- [GDPR Log Management Guide](https://last9.io/blog/gdpr-log-management/)\n- [Audit Log Best Practices](https://www.zengrc.com/blog/audit-log-best-practices-for-information-security/)\n- [Security Log Retention Guide](https://auditboard.com/blog/security-log-retention-best-practices-guide/)\n\n## Priority Rationale\n\n**priority-3-medium**: Important for compliance and transparency, but blocked by authentication implementation (#128). Not immediately critical for current anonymous sharing.\n\n## Complexity Rationale\n\n**complexity-complex**: Requires significant architecture work including encrypted storage, GDPR compliance, retention policies, security controls, and integration with authentication system. Touches many parts of the application with strict privacy requirements.\n\n---\n\nü§ñ Generated with AI Agent\n\nCo-Authored-By: Claude <noreply@anthropic.com>",
        "number": 199,
        "repository": "mikiwiik/instructions-only-claude-coding",
        "title": "Infrastructure: Implement GDPR-compliant audit logging",
        "type": "Issue",
        "url": "https://github.com/mikiwiik/instructions-only-claude-coding/issues/199"
      },
      "id": "PVTI_lAHOABVon84BF52zzggDPNo",
      "labels": [
        "priority-3-medium",
        "complexity-complex",
        "category-infrastructure"
      ],
      "lifecycle": "Icebox",
      "repository": "https://github.com/mikiwiik/instructions-only-claude-coding",
      "title": "Infrastructure: Implement GDPR-compliant audit logging"
    },
    {
      "content": {
        "body": "## Summary\n\nEnhance the existing activity tracking system to provide persistent, real-time activity logging for shared todo lists, enabling collaborators to see who did what and when with color-coded participant attribution.\n\n## Context\n\n**Current State:**\n- `app/utils/activity.ts` generates activity events from todo timestamps\n- Activities only used for UI display, not persisted\n- No participant attribution (anonymous sharing)\n- No real-time broadcast of activities to collaborators\n- No activity history beyond what's inferred from current todo state\n\n**User Value:**\n- **Transparency**: See all collaborator actions in real-time\n- **Trust**: Clear attribution of changes to participants\n- **Coordination**: Understand what others are working on\n- **History**: Review past activity even after todos are deleted\n\n**Foundation:**\n- Existing `ActivityEvent` type in `app/types/todo.ts`\n- SSE infrastructure for real-time updates\n- KV store for persistence\n- Participant system with color coding\n\n## Implementation Steps\n\n### Phase 1: Enhanced Type Definitions\n- [ ] Extend `ActivityEvent` type with participant information:\n  ```typescript\n  interface CollaboratorActivity extends ActivityEvent {\n    listId: string;\n    participantId: string;     // Who did it\n    participantColor: string;  // For UI attribution\n    syncVersion: number;       // For ordering/deduplication\n  }\n  ```\n- [ ] Add activity action types: 'joined', 'left' (in addition to existing)\n- [ ] Create activity storage types for KV store\n- [ ] Update Zod schemas for validation\n\n### Phase 2: Activity Persistence Layer\n- [ ] Create `app/lib/activity-store.ts`:\n  - `addActivity(listId, activity)` - Add new activity\n  - `getActivities(listId, limit?)` - Retrieve activity history\n  - `cleanupOldActivities(listId)` - Maintain size limits\n- [ ] Extend KV store to include activity list per shared list\n- [ ] Implement circular buffer (100 most recent activities)\n- [ ] Add activity indexing for efficient retrieval\n\n### Phase 3: Activity Generation\n- [ ] Enhance `app/utils/activity.ts`:\n  - Add `createActivity(action, todo, participantId, participantColor)`\n  - Generate activities with participant attribution\n  - Include syncVersion for ordering\n- [ ] Integrate with existing todo operations:\n  - Create todo ‚Üí log 'created' activity\n  - Update todo ‚Üí log 'edited' activity\n  - Complete todo ‚Üí log 'completed' activity\n  - Delete todo ‚Üí log 'deleted' activity\n  - Restore todo ‚Üí log 'restored' activity\n  - Reorder todos ‚Üí log 'reordered' activity (optional)\n- [ ] Add participant lifecycle activities:\n  - Join list ‚Üí log 'joined' activity\n  - Leave list ‚Üí log 'left' activity\n\n### Phase 4: Real-Time Activity Broadcast\n- [ ] Extend SSE sync to include activity events:\n  ```typescript\n  type SyncEvent = {\n    type: 'sync' | 'activity';\n    data: SyncData | CollaboratorActivity;\n  }\n  ```\n- [ ] Broadcast activities via `app/api/shared/[listId]/subscribe/route.ts`\n- [ ] Update `useSharedTodoSync` to handle activity events\n- [ ] Deduplicate activities (don't show own actions)\n\n### Phase 5: Activity Feed UI Component\n- [ ] Create `app/components/ActivityFeed.tsx`:\n  - List of recent activities\n  - Color-coded participant attribution\n  - Activity icons (existing `getActivityIcon`)\n  - Relative timestamps\n  - Auto-scroll to latest\n  - Expandable/collapsible design\n- [ ] Add activity filter option to shared list view\n- [ ] Integrate with existing filter system (new filter: 'activity')\n- [ ] Handle empty state (\"No recent activity\")\n\n### Phase 6: Activity Notifications\n- [ ] Add activity notification badge to UI\n- [ ] Show count of new activities since last view\n- [ ] Optional: Toast notifications for important activities\n- [ ] Mark activities as \"read\" when viewed\n\n### Phase 7: Testing\n- [ ] Unit tests for activity generation functions\n- [ ] Unit tests for activity storage operations\n- [ ] Integration tests for activity persistence\n- [ ] Integration tests for SSE activity broadcast\n- [ ] Component tests for ActivityFeed UI\n- [ ] E2E tests for collaborator activity flow\n- [ ] Test activity cleanup and size limits\n\n### Phase 8: Documentation\n- [ ] Create **ADR-027: Activity Logging Architecture for Shared Lists**\n  - Architecture design decisions\n  - Storage strategy and size limits\n  - Privacy considerations\n  - Real-time broadcast approach\n- [ ] Update shared lists documentation\n- [ ] Document activity event types\n- [ ] Add UX guidelines for activity feed\n\n## Activity Event Types\n\n**Todo Operations:**\n- `created` - Todo was created\n- `edited` - Todo text was modified\n- `completed` - Todo was marked complete\n- `restored` - Todo was restored from deleted\n- `deleted` - Todo was soft-deleted\n- `reordered` - Todo position changed (optional, may be noisy)\n\n**Participant Operations:**\n- `joined` - Participant joined the shared list\n- `left` - Participant left the shared list\n\n## Storage Strategy\n\n**Per-List Activity Buffer:**\n- Store last 100 activities per shared list\n- Circular buffer with FIFO eviction\n- Stored in KV as array: `shared:list:{listId}:activities`\n- Activities ordered by syncVersion (descending)\n\n**Activity Structure:**\n```typescript\n{\n  id: 'uuid',\n  listId: 'uuid',\n  todoId: 'uuid | null',\n  todoText: 'Buy milk' | null,\n  participantId: 'uuid',\n  participantColor: '#3B82F6',\n  action: 'created',\n  timestamp: Date,\n  syncVersion: 42,\n  details?: 'Optional context'\n}\n```\n\n**Size Management:**\n- Automatic cleanup when buffer exceeds 100 items\n- Optional: Periodic cleanup job\n- Activities deleted when list is deleted\n\n## Privacy Considerations\n\n**What to Log:**\n- ‚úÖ Participant ID (anonymous, color-coded)\n- ‚úÖ Todo ID (for linking)\n- ‚úÖ Todo text (truncated to 50 chars for display)\n- ‚úÖ Action type and timestamp\n- ‚úÖ Participant color for attribution\n\n**What NOT to Log:**\n- ‚ùå IP addresses\n- ‚ùå Device information\n- ‚ùå Full todo content (if sensitive)\n- ‚ùå Cross-list activities\n\n**List Scope:**\n- Activities scoped to individual shared lists\n- No cross-list activity tracking\n- Activities deleted with list\n\n## UI/UX Design\n\n**Activity Feed Location:**\n- New filter option: \"Activity\" (alongside All, Active, Completed, Deleted)\n- Displays when activity filter selected\n- Scrollable list with most recent at top\n\n**Activity Item Display:**\n```\nüîµ [Participant Dot] Created \"Buy milk\" - 2 minutes ago\nüü¢ [Participant Dot] Completed \"Walk the dog\" - 5 minutes ago\nüî¥ [Participant Dot] Joined the list - 10 minutes ago\n```\n\n**Real-Time Updates:**\n- New activities appear at top with subtle animation\n- Badge shows count of new activities\n- Auto-scroll option (user preference)\n\n## Acceptance Criteria\n\n- [ ] `CollaboratorActivity` type defined with participant attribution\n- [ ] Activity persistence in KV store with 100-item limit\n- [ ] Activities generated for all todo operations\n- [ ] Participant join/leave activities logged\n- [ ] SSE broadcasts activity events in real-time\n- [ ] ActivityFeed component displays activities with color coding\n- [ ] Activity filter integrated with existing filter system\n- [ ] Notification badge shows new activity count\n- [ ] Activities cleaned up when exceeding limit\n- [ ] Activities deleted when list is deleted\n- [ ] All tests pass with >90% coverage\n- [ ] ADR-027 created and merged\n- [ ] Documentation updated\n- [ ] WCAG 2.2 AA compliance for activity feed UI\n\n## Future Enhancements\n\n- Activity search/filtering\n- Activity export\n- Detailed activity view (show full changes)\n- Activity reactions (emoji responses)\n- Activity mentions (@participant)\n\n## References\n\n- Existing: `app/utils/activity.ts` (current activity system)\n- Existing: `app/types/todo.ts` (ActivityEvent type)\n- Related: #122 (Real-time sync architecture)\n- Related: ADR-018 (Real-time sync)\n- Related: ADR-019 (Conflict resolution)\n\n## Priority Rationale\n\n**priority-2-high**: Critical for shared list UX and transparency. Users need to understand who is making changes in collaborative environments.\n\n## Complexity Rationale\n\n**complexity-moderate**: Extends existing systems (activity utils, SSE, KV store) with new persistence layer, UI component, and real-time broadcast integration.\n\n---\n\nü§ñ Generated with AI Agent\n\nCo-Authored-By: Claude <noreply@anthropic.com>",
        "number": 198,
        "repository": "mikiwiik/instructions-only-claude-coding",
        "title": "Feature: Implement collaborator activity logging for shared lists",
        "type": "Issue",
        "url": "https://github.com/mikiwiik/instructions-only-claude-coding/issues/198"
      },
      "id": "PVTI_lAHOABVon84BF52zzggDPNw",
      "labels": ["priority-2-high", "complexity-moderate", "category-feature"],
      "lifecycle": "Backlog",
      "repository": "https://github.com/mikiwiik/instructions-only-claude-coding",
      "title": "Feature: Implement collaborator activity logging for shared lists"
    },
    {
      "content": {
        "body": "## Summary\n\nImplement structured system logging using Pino to replace all `console.*` usage, providing production-ready logging with proper log levels, JSON formatting, and Vercel integration.\n\n## Context\n\n**Current State:**\n- Minimal logging: only `console.error` in 3 locations (sync-queue.ts:83, sync/route.ts:74, 101)\n- No structured logging framework\n- No log aggregation or monitoring\n- No development/production log differentiation\n\n**Why Pino:**\n- **Performance**: 5-10x faster than alternatives (Winston, Bunyan)\n- **Next.js Compatible**: Works client-side (unlike Winston which requires 'fs')\n- **Structured JSON**: Native JSON output for log aggregation\n- **Low Overhead**: Minimal CPU usage, async operations\n- **Active Maintenance**: Well-supported in 2025\n- **Browser Support**: Handles both server and client environments\n\n## Implementation Steps\n\n### Phase 1: Pino Installation and Configuration\n- [ ] Install dependencies: `pino@9.6.0`, `pino-pretty@13.0.0` (dev)\n- [ ] Create `app/lib/logger.ts` with environment-based configuration\n  ```typescript\n  import pino from 'pino';\n\n  export const logger = pino({\n    level: process.env.LOG_LEVEL || 'info',\n    browser: {\n      asObject: true\n    },\n    formatters: {\n      level: (label) => ({ level: label })\n    }\n  });\n  ```\n- [ ] Configure development pretty-printing\n- [ ] Set up environment variables (LOG_LEVEL)\n\n### Phase 2: Replace Console Usage\n- [ ] Replace `console.error` in `app/lib/sync-queue.ts:83`\n- [ ] Replace `console.error` in `app/api/shared/[listId]/sync/route.ts:74`\n- [ ] Replace `console.error` in `app/api/shared/[listId]/sync/route.ts:101`\n- [ ] Search and replace any remaining `console.log`, `console.warn`, `console.info`\n- [ ] Add structured context to all log calls\n\n### Phase 3: API Route Logging\n- [ ] Add request logging to all API routes\n- [ ] Add response logging with status codes\n- [ ] Log performance metrics (request duration)\n- [ ] Add error context (stack traces, request details)\n\n### Phase 4: Client-Side Logging\n- [ ] Configure browser logging\n- [ ] Add error boundary logging\n- [ ] Log user actions (errors only, not PII)\n- [ ] Configure different log levels for dev/prod\n\n### Phase 5: ESLint Rule Configuration\n- [ ] Add ESLint rule: `no-console` with error level\n- [ ] Configure exceptions for development scripts (if needed)\n- [ ] Update `.eslintrc.json` configuration\n- [ ] Run `npm run lint:fix` to verify\n\n### Phase 6: Documentation\n- [ ] Create **ADR-026: System Logging Strategy and Pino Selection**\n  - Document Pino vs Winston vs Bunyan comparison\n  - Rationale for Pino selection\n  - Configuration strategy\n  - Vercel integration approach\n- [ ] Update development documentation with logging guidelines\n- [ ] Document log levels and when to use each\n- [ ] Document Vercel log viewing process\n\n## Log Level Guidelines\n\n**Error** (`logger.error`):\n- API route failures\n- Sync operation failures\n- Unhandled exceptions\n- Data integrity issues\n\n**Warn** (`logger.warn`):\n- Retry attempts\n- Deprecated feature usage\n- Recoverable errors\n- Performance degradation\n\n**Info** (`logger.info`):\n- API route requests (production)\n- Sync operations\n- State changes\n- User actions (non-PII)\n\n**Debug** (`logger.debug`):\n- Detailed operation flow\n- State transitions\n- Development debugging\n- Function entry/exit\n\n## What to Log\n\n### System Events\n- API route errors and performance\n- Sync queue operations and retries\n- SSE connection lifecycle\n- KV store operations\n- Client-side errors and warnings\n\n### Context to Include\n- Request ID (generate for tracing)\n- User/Participant ID (anonymized)\n- List ID\n- Operation type\n- Timestamp (automatic)\n- Error stack traces\n\n### What NOT to Log\n- Passwords or authentication tokens\n- Full todo text content (log IDs only)\n- Full IP addresses (anonymize)\n- Email addresses\n- Participant names (use IDs)\n\n## Vercel Integration\n\n**Built-in Logging:**\n- Vercel automatically captures all console output\n- Logs accessible via Vercel dashboard ‚Üí Project ‚Üí Logs\n- Real-time log streaming during development\n- Structured JSON logs for production\n\n**Configuration:**\n```bash\n# .env.local (development)\nLOG_LEVEL=debug\n\n# .env.production (Vercel)\nLOG_LEVEL=info\n```\n\n## Testing Strategy\n\n### Unit Tests\n- [ ] Test logger initialization\n- [ ] Verify log level filtering\n- [ ] Test browser/server configuration\n- [ ] Mock logger in existing tests\n\n### Integration Tests\n- [ ] Verify API route logging\n- [ ] Test error logging with stack traces\n- [ ] Validate JSON output format\n- [ ] Test environment-based configuration\n\n### Quality Checks\n- [ ] No `console.*` usage in codebase (ESLint enforcement)\n- [ ] All critical paths have appropriate logging\n- [ ] Log output is properly formatted JSON\n- [ ] No PII in log output\n\n## Acceptance Criteria\n\n- [ ] Pino installed and configured for both client and server\n- [ ] All `console.*` calls replaced with `logger.*`\n- [ ] ESLint rule prevents future `console.*` usage\n- [ ] API routes have request/response logging\n- [ ] Error logging includes proper context and stack traces\n- [ ] Development logs are pretty-printed\n- [ ] Production logs are JSON formatted\n- [ ] Environment-based log level configuration works\n- [ ] ADR-026 created and merged\n- [ ] Documentation updated\n- [ ] All tests pass\n- [ ] ESLint shows no violations\n- [ ] Logs visible in Vercel dashboard\n\n## References\n\n- [Pino Documentation](https://getpino.io/)\n- [Pino vs Winston vs Bunyan Comparison](https://medium.com/@muhammedshibilin/node-js-logging-pino-vs-winston-vs-bunyan-complete-guide-99fe3cc59ed9)\n- [Better Stack: Node.js Logging Libraries](https://betterstack.com/community/guides/logging/best-nodejs-logging-libraries/)\n- [Vercel Logs Documentation](https://vercel.com/docs/observability/runtime-logs)\n\n## Priority Rationale\n\n**priority-2-high**: Production monitoring and debugging capabilities are critical for maintaining application reliability and troubleshooting issues.\n\n## Complexity Rationale\n\n**complexity-moderate**: Requires library integration, refactoring existing console usage, ESLint configuration, and comprehensive testing across client/server environments.\n\n---\n\nü§ñ Generated with AI Agent\n\nCo-Authored-By: Claude <noreply@anthropic.com>",
        "number": 197,
        "repository": "mikiwiik/instructions-only-claude-coding",
        "title": "Infrastructure: Implement system logging with Pino",
        "type": "Issue",
        "url": "https://github.com/mikiwiik/instructions-only-claude-coding/issues/197"
      },
      "id": "PVTI_lAHOABVon84BF52zzggDPOI",
      "labels": [
        "priority-2-high",
        "complexity-moderate",
        "category-infrastructure"
      ],
      "lifecycle": "Backlog",
      "repository": "https://github.com/mikiwiik/instructions-only-claude-coding",
      "title": "Infrastructure: Implement system logging with Pino"
    },
    {
      "content": {
        "body": "## Description\nSet up Playwright MCP (Model Context Protocol) server to enable Claude Code to write and debug E2E tests interactively during local development, while maintaining standard Playwright execution in CI/CD.\n\n## Context\nThis issue implements the **development tooling** aspect of E2E testing, while issue #29 covers the broader E2E testing framework research and implementation. Playwright MCP allows Claude Code to control browsers directly through natural language, making it ideal for instruction-only development approach.\n\n## Relationship to Issue #29\n**üîó Blocked by:** #29 (requires E2E framework decision)\n**üìã Dependency:** This is implemented AFTER #29's ADR selects Playwright\n\nIf #29 selects a different E2E framework, this issue should be closed/reconsidered.\n\n## Benefits of Playwright MCP for This Project\n\n### Aligns with Project Principles\n- ‚úÖ **Instruction-only development** - Claude writes tests via natural language\n- ‚úÖ **Agent-centric workflow** - Enables test-writing agents\n- ‚úÖ **Accessibility focus** - Uses accessibility tree (aligns with WCAG 2.2 AA requirements)\n- ‚úÖ **Professional standards** - Interactive debugging and validation\n\n### Development Advantages\n- **Visible browser** - Watch Claude control the browser in real-time\n- **Easy authentication** - Manually handle logins while Claude automates the rest\n- **Fast iteration** - Write and debug tests interactively\n- **Natural language** - \"Test the todo creation flow\" ‚Üí working test\n\n## Implementation Plan\n\n### Phase 1: MCP Setup (Local Development)\n- [ ] Install Playwright MCP server using `claude mcp add`\n- [ ] Configure `.claude/config.json` for project\n- [ ] Verify Claude Code can control browser\n- [ ] Document setup process\n\n### Phase 2: Development Workflow Integration\n- [ ] Create example: Claude writes E2E test via MCP\n- [ ] Verify tests work with standard Playwright runner\n- [ ] Document MCP vs CI/CD execution differences\n- [ ] Add to development guidelines\n\n### Phase 3: Testing Agent Enhancement\n- [ ] Evaluate creating `testing-e2e-specialist` agent\n- [ ] Configure agent to use Playwright MCP tools\n- [ ] Document agent usage patterns\n- [ ] Add to agent coordination patterns\n\n## Architecture Decision\n\n### Development Environment\n```\nClaude Code ‚Üí Playwright MCP ‚Üí Visible Browser\n                ‚Üì\n            Writes standard .spec.ts files\n```\n\n### CI/CD Environment\n```\nGitHub Actions ‚Üí @playwright/test ‚Üí Headless Browser\n                    ‚Üì\n            Runs same .spec.ts files\n```\n\n**Key Insight:** MCP is a development tool for Claude to create tests, but resulting tests are standard Playwright tests that run anywhere.\n\n## Technical Implementation\n\n### MCP Server Installation\n```bash\n# Project-specific installation\nclaude mcp add\n# Select: microsoft/playwright-mcp\n```\n\n### Configuration Location\n- `.claude/config.json` (project-specific, gitignored)\n- Document in README for team setup\n\n### Test File Format\nStandard Playwright tests - no MCP-specific code:\n```typescript\n// tests/e2e/todos.spec.ts\nimport { test, expect } from '@playwright/test';\n\ntest('should create a new todo', async ({ page }) => {\n  // Standard Playwright test\n});\n```\n\n## Documentation Updates\n- [ ] Update README.md with MCP setup instructions\n- [ ] Add \"Local E2E Development with MCP\" section\n- [ ] Document differences between MCP and CI/CD execution\n- [ ] Update CLAUDE.md with MCP workflow guidance\n\n## Acceptance Criteria\n- [ ] Playwright MCP installed and configured locally\n- [ ] Claude Code can write E2E tests via natural language\n- [ ] Tests written via MCP run with standard Playwright\n- [ ] Setup process documented for team members\n- [ ] Development workflow integrated with existing practices\n- [ ] Optional: E2E testing agent configured\n\n## Dependencies\n- **Blocks:** None (this is development tooling)\n- **Blocked by:** #29 (E2E framework decision)\n- **Related:** Issue #29 for overall E2E testing strategy\n\n## Priority\nüü° Medium - Enhances development workflow but not blocking\n\n## Resources\n- [Microsoft Playwright MCP](https://github.com/microsoft/playwright-mcp)\n- [Simon Willison's Guide](https://til.simonwillison.net/claude-code/playwright-mcp-claude-code)\n- [MCP Documentation](https://docs.claude.com/en/docs/claude-code/mcp)\n\n## Labels\ndevelopment, tooling, mcp, playwright, e2e, agent-workflow",
        "number": 196,
        "repository": "mikiwiik/instructions-only-claude-coding",
        "title": "üîå Development: Integrate Playwright MCP for AI-Assisted E2E Test Development",
        "type": "Issue",
        "url": "https://github.com/mikiwiik/instructions-only-claude-coding/issues/196"
      },
      "id": "PVTI_lAHOABVon84BF52zzggDPOM",
      "labels": [
        "priority-3-medium",
        "complexity-moderate",
        "category-testing"
      ],
      "lifecycle": "Icebox",
      "repository": "https://github.com/mikiwiik/instructions-only-claude-coding",
      "title": "üîå Development: Integrate Playwright MCP for AI-Assisted E2E Test Development"
    },
    {
      "content": {
        "body": "## Description\n\nResearch and evaluate integrating Claude Code with VS Code devcontainers to provide enhanced security isolation and development environment consistency. This investigation builds on Docker infrastructure (#11) but focuses specifically on running Claude Code itself inside a containerized development environment.\n\n## Context\n\nThis issue was split from #11 to separate concerns:\n- **#11**: Running the Next.js application, tests, and build processes in Docker\n- **This issue**: Running Claude Code CLI/agent inside a devcontainer\n\n## Research Findings\n\n### Claude Code Official Devcontainer Support\n\nClaude Code provides official devcontainer support with:\n- Reference devcontainer implementation\n- Built on Node.js 20 with development dependencies\n- Custom firewall restricting network access (security isolation)\n- Seamless VS Code integration (macOS, Windows, Linux)\n- Support for `--dangerously-skip-permissions` for unattended operation\n\n### Integration Pattern\n\n**VS Code Devcontainer Approach:**\n1. Claude Code runs **inside** the devcontainer alongside the project\n2. All commands execute within container context\n3. File access is direct (no bind mount complexity)\n4. Git hooks work naturally inside container\n5. Security sandbox isolates Claude from host system\n\n### Benefits\n\n**Security Enhancements:**\n- Container isolation prevents Claude from accessing host secrets (SSH keys, etc.)\n- Default-deny network policy with allowlist for specific domains\n- Sandboxed environment limits blast radius of AI actions\n- Firewall rules validated on container startup\n\n**Development Consistency:**\n- Same environment for all developers (human and AI)\n- Eliminates \"works on my machine\" issues\n- Consistent with CI/CD Linux environment\n- Per-project isolation with separate containers\n\n**Git Hooks Compatibility:**\n- Git runs inside container\n- Husky hooks execute in container context\n- `npx lint-staged` works without modification\n- No wrapper scripts needed\n\n### Performance Considerations\n\n**Better than External Docker:**\n- No bind mount performance penalty on macOS\n- Direct filesystem access inside container\n- Hot reload works efficiently\n- Natural file watching (no polling required)\n\n**Devcontainer Overhead:**\n- Container startup: ~5-10 seconds\n- Hot reload: ~1-2 seconds (acceptable)\n- Overall DX: Good (‚≠ê‚≠ê‚≠ê‚≠ê vs native ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê)\n\n## Community Solutions\n\nSeveral community projects demonstrate this approach:\n- **ClaudeBox**: Containerized Claude Code with development profiles\n- **claude-docker**: Full AI agent setup with MCP servers\n- **Individual implementations**: Developers running Claude in VSCode devcontainers\n\n## Investigation Tasks\n\n### Technical Evaluation\n- [ ] Set up Claude Code reference devcontainer implementation\n- [ ] Test Claude Code execution inside devcontainer\n- [ ] Validate git hooks work correctly (Husky + lint-staged)\n- [ ] Measure performance impact vs native development\n- [ ] Test hot reload and file watching functionality\n- [ ] Validate all npm scripts work in devcontainer context\n\n### Security Assessment\n- [ ] Review default firewall rules and network restrictions\n- [ ] Evaluate isolation benefits vs complexity trade-offs\n- [ ] Test MCP integration with containerized Claude\n- [ ] Document security boundaries and limitations\n\n### Integration with #11\n- [ ] Ensure compatibility with application Docker setup\n- [ ] Determine if devcontainer and app container should be same/separate\n- [ ] Test nested Docker scenarios (Docker-in-Docker if needed)\n- [ ] Validate CI/CD pipeline compatibility\n\n### Documentation Requirements\n- [ ] Create devcontainer setup guide\n- [ ] Document VS Code + Remote Containers installation\n- [ ] Update CLAUDE.md with devcontainer instructions\n- [ ] Add troubleshooting guide for common issues\n- [ ] Document security benefits and limitations\n\n### Developer Experience\n- [ ] Compare DX with native Claude Code CLI\n- [ ] Evaluate onboarding complexity for new developers\n- [ ] Test workflow with multiple projects/containers\n- [ ] Gather team feedback on devcontainer approach\n\n## Open Questions\n\n### Critical Questions\n1. **Is VS Code requirement acceptable?** Devcontainer requires VS Code + Remote Containers extension\n2. **Performance acceptable on macOS?** ~5-10s startup + ~1s hot reload vs instant native\n3. **How to handle Claude Code CLI users?** Some developers may prefer CLI over VS Code integration\n4. **Docker-in-Docker needed?** If app runs in Docker and Claude in devcontainer, how do they interact?\n\n### Implementation Questions\n5. **Single vs separate containers?** Should Claude Code and app share container or run separately?\n6. **Network configuration?** How should devcontainer access app container services?\n7. **Volume mounting strategy?** How to handle node_modules and .next directories?\n8. **Environment variables?** How to manage secrets and config in containerized Claude?\n\n### Team Questions\n9. **Mandatory vs optional?** Should devcontainer be required or recommended?\n10. **Transition strategy?** How to migrate existing workflows to devcontainer approach?\n\n## Success Criteria\n\n- [ ] Devcontainer setup works on macOS, Windows, Linux\n- [ ] Claude Code executes successfully inside container\n- [ ] All development commands work (dev, test, lint, build)\n- [ ] Git hooks (Husky + lint-staged) function correctly\n- [ ] Performance is acceptable for daily development\n- [ ] Security isolation benefits are documented and validated\n- [ ] Integration with #11 Docker setup is clear\n- [ ] Documentation enables team adoption\n- [ ] Trade-offs are clearly understood and accepted\n\n## Related Issues\n\n- **#11**: Infrastructure: Run Locally in Docker (application containers)\n- **#23**: Security scanning in CI/CD pipeline\n- **#162**: CI/CD Pipeline Optimization\n\n## References\n\n- [Claude Code Devcontainer Documentation](https://docs.claude.com/en/docs/claude-code/devcontainer)\n- [VS Code Dev Containers](https://code.visualstudio.com/docs/devcontainers/containers)\n- [ClaudeBox Project](https://github.com/RchGrav/claudebox)\n- Research findings from investigation (2025-10-02)\n\n## Priority\n\nüü° **Medium** - Enhances security and consistency but not blocking current development\n\n## Complexity\n\nüî∏ **Moderate** - Well-documented approach but requires evaluation and testing\n\n## Labels\n\ncategory-dx, category-infrastructure, complexity-moderate, priority-3-medium, claude-workflow",
        "number": 168,
        "repository": "mikiwiik/instructions-only-claude-coding",
        "title": "ü§ñ DX: Investigate Claude Code devcontainer integration for enhanced security and consistency",
        "type": "Issue",
        "url": "https://github.com/mikiwiik/instructions-only-claude-coding/issues/168"
      },
      "id": "PVTI_lAHOABVon84BF52zzggDPOw",
      "labels": [
        "priority-3-medium",
        "complexity-moderate",
        "claude-workflow",
        "category-infrastructure",
        "category-dx"
      ],
      "lifecycle": "Icebox",
      "repository": "https://github.com/mikiwiik/instructions-only-claude-coding",
      "title": "ü§ñ DX: Investigate Claude Code devcontainer integration for enhanced security and consistency"
    },
    {
      "content": {
        "body": "## Context\n\nFollowing best practice analysis of our GitHub Actions CI/CD pipeline, **6 critical inefficiencies** have been identified that impact build performance, resource usage, and platform alignment with our Vercel deployment environment.\n\n### Current Issues\n\n1. **Platform Mismatch**: Building on `macos-latest` when Vercel uses Linux\n2. **Sequential Execution**: All checks run sequentially in monolithic job (~5-10min)\n3. **Wasteful Artifact Storage**: Uploads `.next/` but never consumed\n4. **Security Audit Overhead**: Runs on every build (should be weekly only)\n5. **Suboptimal Caching**: Only caches npm, not Next.js build cache\n6. **No CI/CD Separation**: Verification gates mixed with deployment concerns\n\n### Expected Impact\n\n- **60-70% faster CI feedback** (5-10min ‚Üí 2-3min)\n- **50% reduction in compute minutes** (remove macOS)\n- **Better developer experience** (parallel jobs, faster feedback)\n- **Platform consistency** (match Vercel Linux environment)\n\n### Dependencies and Sequencing\n\n**üö® PREREQUISITE**: Issue #11 (Docker infrastructure) should be completed first to establish Docker-based development environment. This optimization builds on that foundation.\n\n**INTEGRATION**: Security workflows from #23 should be considered when restructuring parallel jobs.\n\n### Integration with Related Issues\n\n- **#11 (Docker Development)**: When Docker standardization is implemented, the macOS concern becomes moot as all development will be containerized. This optimization aligns with that future direction while providing immediate benefits.\n- **#23 (Security Scanning)**: Security workflows (CodeQL, secrets detection, SARIF reporting) should integrate with the parallel job structure defined in this optimization.\n- **#63 (CLOSED)**: Environment alignment concerns merged into this issue and #11.\n\n---\n\n## Implementation Tasks\n\n### Task 1: Create ADR-016\n\n**File**: `docs/adr/016-ci-cd-pipeline-optimization.md`\n\nSee full content in comment below (too large for issue body)\n\n---\n\n### Task 2: Optimize build.yml Workflow\n\n**File**: `.github/workflows/build.yml`\n\nSee optimized workflow in comment below\n\n---\n\n### Task 3: Update ADR-011\n\n**File**: `docs/adr/011-github-actions-ci-cd.md`\n\nAdd before References section:\n\n```markdown\n## Superseded By\n\nParts of this ADR regarding **workflow structure and matrix strategy** have been superseded by **ADR-016: CI/CD Pipeline Optimization Strategy**, which optimizes the pipeline for performance and platform alignment.\n\nThe core decision to use **GitHub Actions as the CI/CD platform** remains valid and unchanged.\n```\n\n---\n\n### Task 4: Update ADR Index\n\n**File**: `docs/adr/README.md`\n\nAdd to table:\n\n```markdown\n| 016 | [CI/CD Pipeline Optimization Strategy](016-ci-cd-pipeline-optimization.md) | Optimize GitHub Actions pipeline for performance, remove platform matrix, parallelize jobs | Proposed |\n```\n\n---\n\n## Acceptance Criteria\n\n### Functional Requirements\n- [ ] ADR-016 created with complete content following template structure\n- [ ] build.yml refactored with parallel jobs (lint, type-check, test, build)\n- [ ] macOS removed from matrix (ubuntu-latest only)\n- [ ] Enhanced caching implemented (npm + Next.js build cache)\n- [ ] npm audit removed from build.yml (weekly scan remains)\n- [ ] Unused artifact uploads removed\n- [ ] ADR-011 updated with superseded note\n- [ ] ADR index updated with ADR-016 entry\n- [ ] Security workflows (#23) integrated with parallel job structure\n\n### Performance Requirements\n- [ ] CI pipeline completes in <3 minutes on subsequent runs (cache hit)\n- [ ] First run completes in <5 minutes (cache miss)\n- [ ] Jobs run in parallel (verify workflow visualization)\n- [ ] Cache hit rate >90% on subsequent runs\n\n### Quality Requirements\n- [ ] All existing tests pass\n- [ ] Coverage threshold (90%) maintained\n- [ ] ESLint warnings zero\n- [ ] TypeScript compilation successful\n- [ ] SonarCloud analysis completes\n\n---\n\n## Priority Assessment\n\n**Priority**: `priority-2-high` üü† - Important infrastructure improvement with significant performance gains\n\n**Complexity**: `complexity-moderate` üü° - Multiple file changes, workflow restructuring (3-8 hours)\n\n**Category**: `category-infrastructure` üüß - CI/CD pipeline optimization\n\n---\n\n## Related Issues\n\n- **Builds on #11**: Docker infrastructure foundation (PREREQUISITE)\n- **Integrates with #23**: Security scanning strategy and workflows\n- **Supersedes #63**: Environment alignment (closed as duplicate)",
        "number": 162,
        "repository": "mikiwiik/instructions-only-claude-coding",
        "title": "‚ö° Infrastructure: Optimize CI/CD Pipeline for Performance and Platform Alignment",
        "type": "Issue",
        "url": "https://github.com/mikiwiik/instructions-only-claude-coding/issues/162"
      },
      "id": "PVTI_lAHOABVon84BF52zzggDPO4",
      "labels": [
        "priority-2-high",
        "complexity-moderate",
        "category-infrastructure"
      ],
      "lifecycle": "Icebox",
      "repository": "https://github.com/mikiwiik/instructions-only-claude-coding",
      "title": "‚ö° Infrastructure: Optimize CI/CD Pipeline for Performance and Platform Alignment"
    },
    {
      "content": {
        "body": "## Summary\n\nCreate a unified SARIF (Static Analysis Results Interchange Format) report that aggregates findings from all security scanning tools into a single comprehensive security report per commit/PR.\n\n## Current State\n\n**Existing security tools (separate reports):**\n- ‚úÖ npm audit - dependency scanning (#146, DONE)\n- ‚úÖ SonarCloud - static analysis (active)\n- üîÑ CodeQL - source code scanning (#154, planned)\n- üîÑ Copilot Autofix - AI remediation (#155, planned)\n- üîÑ Secrets detection - credential scanning (#23, planned)\n- üîÑ Custom security rules (#23, planned)\n\n**Current behavior:**\n- Each tool produces its own SARIF report independently\n- GitHub automatically aggregates them in the Security tab\n- No deduplication of overlapping findings\n- Multiple artifacts per commit/PR\n- No single comprehensive security report artifact\n\n## Problem\n\n**Fragmented reporting creates challenges:**\n1. **No single source of truth** - Must check multiple tool outputs\n2. **Duplicate findings** - Same vulnerability reported by multiple tools\n3. **Artifact sprawl** - Multiple SARIF files per run\n4. **Audit complexity** - Compliance reporting requires manual aggregation\n5. **Historical tracking** - Difficult to track overall security posture over time\n\n## Proposed Solution\n\n### Unified SARIF Aggregation Workflow\n\nCreate new GitHub Actions job that:\n1. **Orchestrates all security tools** in coordinated execution\n2. **Collects individual SARIF outputs** from each tool\n3. **Merges SARIF files** into single unified report\n4. **Deduplicates findings** across tools\n5. **Uploads unified report** to GitHub Security tab\n6. **Stores artifact** for compliance/audit purposes\n\n### Architecture\n\n```\n‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n‚îÇ     Unified SARIF Aggregation Workflow          ‚îÇ\n‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§\n‚îÇ                                                  ‚îÇ\n‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê      ‚îÇ\n‚îÇ  ‚îÇnpm audit ‚îÇ  ‚îÇ CodeQL   ‚îÇ  ‚îÇSonarCloud‚îÇ      ‚îÇ\n‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò      ‚îÇ\n‚îÇ       ‚îÇ             ‚îÇ             ‚îÇ             ‚îÇ\n‚îÇ       ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄSARIF‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄSARIF‚îÄ‚îÄ‚î§             ‚îÇ\n‚îÇ       ‚îÇ             ‚îÇ             ‚îÇ             ‚îÇ\n‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê      ‚îÇ\n‚îÇ  ‚îÇ      SARIF Merging & Deduplication    ‚îÇ      ‚îÇ\n‚îÇ  ‚îÇ         (sarif-multitool)             ‚îÇ      ‚îÇ\n‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò      ‚îÇ\n‚îÇ                   ‚îÇ                              ‚îÇ\n‚îÇ         ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                   ‚îÇ\n‚îÇ         ‚îÇ Unified SARIF     ‚îÇ                   ‚îÇ\n‚îÇ         ‚îÇ Report            ‚îÇ                   ‚îÇ\n‚îÇ         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                   ‚îÇ\n‚îÇ                   ‚îÇ                              ‚îÇ\n‚îÇ         ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                   ‚îÇ\n‚îÇ         ‚îÇ GitHub Security   ‚îÇ                   ‚îÇ\n‚îÇ         ‚îÇ Tab Upload        ‚îÇ                   ‚îÇ\n‚îÇ         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                   ‚îÇ\n‚îÇ                                                  ‚îÇ\n‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n```\n\n## Implementation Plan\n\n### Phase 1: Research & Design\n\n- [ ] Research SARIF merging tools\n  - [sarif-multitool](https://github.com/microsoft/sarif-sdk) (Microsoft official)\n  - Alternative tools/libraries\n  - GitHub Actions available\n- [ ] Design deduplication strategy\n  - Matching criteria (file, line, rule ID)\n  - Prioritization when tools disagree\n  - Metadata preservation\n- [ ] Define workflow orchestration approach\n  - Sequential vs parallel tool execution\n  - Error handling strategy\n  - Performance optimization\n\n### Phase 2: Implementation\n\n- [ ] Create `.github/workflows/unified-security-scan.yml`\n- [ ] Implement tool orchestration logic\n- [ ] Configure SARIF output for each tool\n- [ ] Implement SARIF merging step\n- [ ] Add deduplication logic\n- [ ] Configure unified report upload\n- [ ] Add artifact storage for compliance\n\n### Phase 3: Testing & Validation\n\n- [ ] Test with known vulnerabilities across multiple tools\n- [ ] Verify deduplication works correctly\n- [ ] Validate merged SARIF format compliance\n- [ ] Confirm GitHub Security tab integration\n- [ ] Test artifact download and inspection\n- [ ] Performance benchmark vs separate workflows\n\n### Phase 4: Documentation\n\n- [ ] Document unified security workflow\n- [ ] Create troubleshooting guide\n- [ ] Update security process documentation\n- [ ] Document deduplication logic\n- [ ] Add compliance reporting instructions\n\n## Technical Approach\n\n### SARIF Merging with sarif-multitool\n\n```yaml\n- name: Merge SARIF reports\n  run: |\n    # Install sarif-multitool\n    dotnet tool install --global Microsoft.CodeAnalysis.Sarif.Multitool\n    \n    # Merge all SARIF files\n    sarif merge \\\n      npm-audit.sarif \\\n      codeql.sarif \\\n      sonarcloud.sarif \\\n      secrets-scan.sarif \\\n      --output-file unified-security-report.sarif \\\n      --merge-runs\n\n- name: Upload unified SARIF to GitHub Security\n  uses: github/codeql-action/upload-sarif@v3\n  with:\n    sarif_file: unified-security-report.sarif\n    category: unified-security-scan\n\n- name: Archive unified report\n  uses: actions/upload-artifact@v4\n  with:\n    name: unified-security-report\n    path: unified-security-report.sarif\n```\n\n### Deduplication Strategy\n\n**Matching criteria (in priority order):**\n1. File path + line number + column + rule ID\n2. File path + line number + message fingerprint\n3. File path + rule ID + message similarity\n\n**Prioritization when duplicate found:**\n1. Keep finding with highest severity\n2. Merge tool names in metadata\n3. Preserve all unique remediation suggestions\n\n## Benefits\n\n### 1. Single Source of Truth\n- One definitive security report per commit/PR\n- Clearer security status visibility\n- Simplified decision-making for merge/block\n\n### 2. Better Deduplication\n- Eliminate redundant findings across tools\n- Clearer understanding of unique vulnerabilities\n- Reduced alert fatigue\n\n### 3. Compliance & Audit\n- Single artifact for compliance reporting\n- Historical tracking simplified\n- Easier to generate security metrics\n\n### 4. Improved Workflow\n- One PR check instead of multiple\n- Faster feedback loop\n- Cleaner CI/CD pipeline\n\n### 5. Cost Efficiency\n- Reduced GitHub Actions minutes (parallel + merge vs separate)\n- Less storage for artifacts\n- Faster scans overall\n\n## Acceptance Criteria\n\n- [ ] Unified security workflow created and functional\n- [ ] All security tools output merged into single SARIF report\n- [ ] Deduplication logic working correctly\n- [ ] Unified report uploaded to GitHub Security tab\n- [ ] Artifact stored for each workflow run\n- [ ] No duplicate findings in unified report\n- [ ] Performance meets or exceeds separate workflows\n- [ ] Documentation complete\n- [ ] Testing validates correctness across tool combinations\n\n## Dependencies\n\n**Blocked by:**\n- #23 - Security scanning strategy & ADR (must complete first)\n- #154 - CodeQL configuration (needs CodeQL SARIF output)\n- #155 - Copilot Autofix evaluation (optional, can integrate later)\n- #146 - npm audit (DONE, already has SARIF output)\n\n**Related:**\n- #147 - Dependabot (dependency updates)\n- #148 - Security vulnerability reporting process\n\n## Files to Create\n\n1. `.github/workflows/unified-security-scan.yml` - Main orchestration workflow\n2. `docs/security/unified-sarif-reporting.md` - Documentation\n3. `docs/security/sarif-deduplication-logic.md` - Deduplication strategy docs\n\n## Success Metrics\n\n- **Single report** per commit/PR\n- **Deduplication rate** > 20% (expect overlap between tools)\n- **Performance** < 10% slower than current separate workflows\n- **Compliance ready** - Report suitable for audit without manual aggregation\n\n## Priority\n\nüü° Medium - Improves workflow efficiency but not blocking security coverage\n\n## Complexity\n\nüü° Moderate - Requires workflow orchestration, SARIF manipulation, testing across tools\n\n## Labels\n\ncategory-infrastructure, complexity-moderate, priority-3-medium, security, ci-cd, sarif\n\n## References\n\n- [SARIF specification](https://docs.oasis-open.org/sarif/sarif/v2.1.0/sarif-v2.1.0.html)\n- [sarif-multitool documentation](https://github.com/microsoft/sarif-sdk/blob/main/docs/multitool-usage.md)\n- [GitHub SARIF upload action](https://github.com/github/codeql-action/tree/main/upload-sarif)\n- [SARIF Tutorials](https://github.com/microsoft/sarif-tutorials)",
        "number": 160,
        "repository": "mikiwiik/instructions-only-claude-coding",
        "title": "Create unified SARIF security report aggregating all scanning tools",
        "type": "Issue",
        "url": "https://github.com/mikiwiik/instructions-only-claude-coding/issues/160"
      },
      "id": "PVTI_lAHOABVon84BF52zzggDPO8",
      "labels": [
        "priority-3-medium",
        "complexity-moderate",
        "category-infrastructure"
      ],
      "lifecycle": "Icebox",
      "repository": "https://github.com/mikiwiik/instructions-only-claude-coding",
      "title": "Create unified SARIF security report aggregating all scanning tools"
    },
    {
      "content": {
        "body": "## Context\n\nFollowing implementation of touch gestures in #20, analysis shows that gestures are **not self-evident** to users. The current `GestureHint` component provides necessary first-time instructions, but several UX enhancements could improve gesture discoverability and user experience.\n\n## Current State\n\n‚úÖ **Working Well:**\n- GestureHint component shows instructions on first visit (1 second delay)\n- Clear descriptions of all 3 gestures (swipe right/left, long press)\n- Dismissible with localStorage persistence\n- Accessible with ARIA attributes\n- Notes button alternatives for accessibility\n\n‚ùå **Gap:**\n- Once dismissed, users cannot re-access gesture instructions\n- No visual feedback during gesture interactions\n- No progressive education through use\n- No user preference controls for gestures\n\n## Why Gestures Need Better Discoverability\n\n1. **Mobile conventions vary** - Swipe directions differ across apps\n2. **No visual affordances** - Unlike native iOS swipe-to-delete with red indicator\n3. **Conflicting patterns** - Apps use swipe left/right inconsistently\n4. **Long press not universal** - Users may not discover this interaction\n\n## Enhancement Suggestions to Evaluate\n\n### 1. Persistent Help Button\n**Priority: Medium | Complexity: Minimal**\n\nAdd \"?\" or \"info\" icon that allows users to re-view gesture instructions after dismissal.\n\n**Benefits:**\n- Users can refresh their memory\n- New device users can learn gestures\n- Low implementation cost\n\n**Implementation:**\n- Add icon button near filter tabs or in header\n- Re-displays GestureHint component on click\n- Could also link to full gesture documentation\n\n---\n\n### 2. Visual Feedback During Gestures\n**Priority: Medium | Complexity: Simple**\n\nShow icon overlays and color feedback as user performs gestures.\n\n**Examples:**\n- Swipe right ‚Üí Green tint + checkmark icon fades in\n- Swipe left ‚Üí Red tint + trash icon fades in\n- Long press ‚Üí Blue outline or pulsing effect\n\n**Benefits:**\n- Confirms user action before completion\n- Makes gestures more discoverable through experimentation\n- Follows iOS/Android patterns\n\n**Implementation:**\n- Track touch position in useSwipeGesture\n- Show overlay based on swipe distance/direction\n- Animate opacity based on gesture threshold\n\n---\n\n### 3. Settings Toggle for Gestures\n**Priority: Low | Complexity: Moderate**\n\nAllow users to enable/disable gesture interactions.\n\n**Benefits:**\n- Accommodates user preferences\n- Useful for users with motor impairments\n- Reduces accidental gesture triggers\n\n**Implementation:**\n- Add settings/preferences section\n- Store preference in localStorage\n- Conditionally apply gesture handlers\n- Default: enabled\n\n---\n\n### 4. Progressive Gesture Education\n**Priority: Low | Complexity: Moderate**\n\nTeach gestures gradually through contextual tips during button usage.\n\n**Examples:**\n- After 3 button-based completions: \"Tip: Swipe right to complete faster!\"\n- After 5 button-based deletes: \"Tip: Swipe left to delete\"\n- After 5 edit button clicks: \"Tip: Long press to edit\"\n\n**Benefits:**\n- Non-intrusive learning\n- Reinforces gesture availability\n- Gradually builds user confidence\n\n**Implementation:**\n- Track action counts in localStorage\n- Show tooltip/toast after threshold\n- Dismiss permanently after gesture use\n\n---\n\n## Recommended Approach\n\n1. **Evaluate** which enhancements provide most value vs implementation cost\n2. **Prioritize** based on user feedback and analytics (if available)\n3. **Split** into separate implementation issues for approved enhancements\n4. **Consider** starting with #1 (help button) as lowest-cost, immediate-value win\n\n## Open Questions\n\n- Should gesture hints be more prominent/persistent?\n- Are there analytics to show button vs gesture usage?\n- Have users reported confusion about gestures?\n- Should gestures be disabled by default on desktop?\n\n## Related\n\n- #20 - Original touch gesture implementation\n- docs/features/touch-gestures.md - Full gesture documentation\n- WCAG 2.2 SC 2.5.7 - All gestures have button alternatives (already compliant)\n\n---\n\n**Note**: This is a planning/evaluation issue. Individual enhancements should be split into separate issues after discussion and prioritization.",
        "number": 159,
        "repository": "mikiwiik/instructions-only-claude-coding",
        "title": "Evaluate gesture UX enhancements for improved discoverability",
        "type": "Issue",
        "url": "https://github.com/mikiwiik/instructions-only-claude-coding/issues/159"
      },
      "id": "PVTI_lAHOABVon84BF52zzggDPPA",
      "labels": [
        "priority-3-medium",
        "complexity-moderate",
        "category-feature"
      ],
      "lifecycle": "Icebox",
      "repository": "https://github.com/mikiwiik/instructions-only-claude-coding",
      "title": "Evaluate gesture UX enhancements for improved discoverability"
    },
    {
      "content": {
        "body": "## Overview\n\nEvaluate and enable GitHub Copilot security features, particularly Copilot Autofix, to provide AI-powered vulnerability remediation for security findings from CodeQL and other scanning tools.\n\n## Current State\n\n- ‚úÖ GitHub Copilot available (if enabled at org/user level)\n- ‚ùå Copilot Autofix not evaluated for this repository\n- ‚ùå No documentation on Copilot security feature usage\n- ‚ùå Integration with CodeQL findings not configured\n\n## Why Copilot Security Features?\n\n**Copilot Autofix Benefits:**\n- **AI-powered remediation**: Automatically generates fixes for security vulnerabilities\n- **Free for public repositories**: Available at no cost for open source projects\n- **CodeQL integration**: Works with CodeQL findings to suggest fixes\n- **PR integration**: Provides fix suggestions directly in pull requests\n- **Learning opportunity**: Demonstrates AI-assisted security practices\n\n**Use Cases:**\n- Automatic vulnerability fix suggestions on PRs\n- Historical vulnerability remediation in codebase\n- Security best practice recommendations\n- Faster security issue resolution\n\n## Proposed Investigation\n\n### Phase 1: Research and Evaluation\n\n1. **Availability Assessment**\n   - Verify Copilot Autofix availability for public repositories\n   - Check current GitHub subscription/plan capabilities\n   - Review access requirements and permissions\n\n2. **Feature Analysis**\n   - Document Copilot Autofix capabilities\n   - Identify supported vulnerability types\n   - Understand integration points with CodeQL\n   - Evaluate AI suggestion quality and accuracy\n\n3. **Cost/Benefit Analysis**\n   - Time savings on vulnerability remediation\n   - False positive rate and suggestion quality\n   - Impact on developer workflow\n   - Educational value for AI-assisted development\n\n### Phase 2: Configuration Planning\n\nIf evaluation is positive, plan configuration:\n\n1. **Enable Copilot Autofix**\n   - Repository settings configuration\n   - Team access and permissions\n   - Integration with CodeQL workflow\n\n2. **Usage Guidelines**\n   - When to use Autofix suggestions\n   - How to review AI-generated fixes\n   - Security validation requirements\n   - Documentation standards for AI fixes\n\n3. **Documentation Updates**\n   - Add Copilot usage to security workflow docs\n   - Update AI attribution guidelines (ADR-015)\n   - Create troubleshooting guide\n   - Add to developer onboarding\n\n### Phase 3: Pilot Testing (if approved)\n\n1. **Limited Rollout**\n   - Test on non-critical vulnerabilities first\n   - Monitor suggestion quality\n   - Gather feedback from initial usage\n\n2. **Process Refinement**\n   - Iterate on usage guidelines\n   - Update documentation based on learnings\n   - Establish best practices\n\n## Research Questions\n\n1. Is Copilot Autofix currently available for this repository?\n2. What are the prerequisites for enabling it?\n3. Which vulnerability types does it support?\n4. How does it integrate with existing CodeQL workflow?\n5. What are the AI attribution requirements for Autofix commits?\n6. Are there any privacy/security concerns with AI-generated fixes?\n7. What is the approval process for enabling it?\n\n## Files to Create/Update (if enabled)\n\n1. `docs/reference/copilot-security-features.md` - Usage guide\n2. `docs/core/workflows.md` - Add Copilot workflow integration\n3. `docs/adr/015-ai-agent-attribution-strategy.md` - Update for Copilot Autofix\n4. Security workflow documentation - Include Copilot usage\n\n## Success Criteria\n\n### Phase 1 (Research)\n- ‚úÖ Copilot Autofix availability confirmed\n- ‚úÖ Feature capabilities documented\n- ‚úÖ Cost/benefit analysis completed\n- ‚úÖ Recommendation provided (enable or defer)\n\n### Phase 2 (Configuration - if approved)\n- ‚úÖ Copilot Autofix enabled in repository\n- ‚úÖ Integration with CodeQL confirmed working\n- ‚úÖ Usage guidelines documented\n- ‚úÖ Team trained on usage\n\n### Phase 3 (Pilot - if approved)\n- ‚úÖ Test fixes generated and reviewed\n- ‚úÖ Quality assessment completed\n- ‚úÖ Process documentation finalized\n\n## Related Issues\n\n- #154 - Enable CodeQL code scanning (provides findings for Autofix)\n- #146 - npm audit security scanning (complementary tool)\n- #148 - Security vulnerability reporting process\n\n## References\n\n- [Copilot Autofix announcement](https://github.blog/changelog/2024-09-17-now-available-for-free-on-all-public-repositories-copilot-autofix-for-codeql-code-scanning-alerts/)\n- [GitHub Advanced Security features](https://docs.github.com/en/get-started/learning-about-github/about-github-advanced-security)\n- [AI attribution strategy](docs/adr/015-ai-agent-attribution-strategy.md)\n- [Instruction-only development guide](CLAUDE.md)\n\n## Notes\n\n- This is an **evaluation issue**, not an implementation issue\n- Decision to enable depends on research findings\n- Aligns with project's \"instruction-only AI development\" philosophy\n- May require organizational approval if subscription changes needed",
        "number": 155,
        "repository": "mikiwiik/instructions-only-claude-coding",
        "title": "Evaluate and enable GitHub Copilot security features",
        "type": "Issue",
        "url": "https://github.com/mikiwiik/instructions-only-claude-coding/issues/155"
      },
      "id": "PVTI_lAHOABVon84BF52zzggDPPE",
      "labels": [
        "priority-3-medium",
        "complexity-simple",
        "category-infrastructure"
      ],
      "lifecycle": "Icebox",
      "repository": "https://github.com/mikiwiik/instructions-only-claude-coding",
      "title": "Evaluate and enable GitHub Copilot security features"
    },
    {
      "content": {
        "body": "## Overview\n\nEstablish a formal security vulnerability reporting process with clear documentation for responsible disclosure and security incident handling.\n\n## Current State\n\n- ‚úÖ Security assessment documentation exists (`docs/security/shared-lists-security-assessment.md`)\n- ‚úÖ XSS prevention implemented and tested\n- ‚ùå No `SECURITY.md` file in repository root\n- ‚ùå No documented vulnerability reporting process\n- ‚ùå No security contact information\n- ‚ùå No security badge or section in README\n\n## Proposed Implementation\n\n### 1. Create `SECURITY.md` (Repository Root)\n\nStandard GitHub security policy file containing:\n\n- **Vulnerability Reporting**: How to report security issues\n  - Preferred contact method (GitHub Security Advisories, email, etc.)\n  - What information to include in reports\n  - Expected response timeline\n- **Supported Versions**: Which versions receive security updates\n- **Security Response Process**: How vulnerabilities are handled\n  - Acknowledgment timeline (e.g., 48 hours)\n  - Fix timeline by severity (critical: 7 days, high: 30 days, etc.)\n  - Disclosure policy\n- **Out of Scope**: What's not considered a security issue\n- **Recognition**: Security researcher acknowledgment policy\n\n### 2. Create `docs/reference/security-workflow.md`\n\nInternal team documentation for:\n\n- **Security Incident Response**: Step-by-step handling procedures\n- **Triage Process**: How to assess and prioritize vulnerabilities\n- **Fix and Release Process**: Coordinated disclosure workflow\n- **Communication Templates**: Draft responses for reporters\n- **Escalation Paths**: When to involve maintainers/leadership\n- **Post-Incident**: Documentation and lessons learned\n\n### 3. Update `README.md`\n\nAdd security section with:\n\n- Security badge (optional, if using security scanning services)\n- Link to `SECURITY.md`\n- Brief mention of security practices\n- Link to security assessment documentation\n\n### 4. Update `CLAUDE.md`\n\nAdd security workflow guidance:\n\n- When to create security issues vs. regular issues\n- How AI agents should handle potential vulnerabilities\n- Link to security documentation\n- Escalation process for security concerns\n\n## Template Structure\n\n### SECURITY.md Example Structure\n\n```markdown\n# Security Policy\n\n## Supported Versions\n\nCurrently supported versions receiving security updates...\n\n## Reporting a Vulnerability\n\n**Please do not report security vulnerabilities through public GitHub issues.**\n\n### How to Report\n- Use GitHub Security Advisories (preferred)\n- Email: [security contact]\n- Include: description, steps to reproduce, impact assessment\n\n### Response Timeline\n- Acknowledgment: 48 hours\n- Initial assessment: 7 days\n- Fix timeline: Based on severity\n\n## Security Response Process\n\nOur commitment to security...\n\n## Out of Scope\n\nThe following are not considered security issues...\n\n## Recognition\n\nWe thank security researchers...\n```\n\n## Benefits\n\n- **Clear Process**: Reduces confusion for security researchers\n- **Faster Response**: Structured workflow improves handling time\n- **Professional Image**: Shows commitment to security\n- **Community Trust**: Transparent security practices\n- **GitHub Integration**: SECURITY.md appears in Security tab\n\n## Files to Create/Modify\n\n1. `SECURITY.md` - New file (root)\n2. `docs/reference/security-workflow.md` - New file\n3. `README.md` - Add security section\n4. `CLAUDE.md` - Add security workflow guidance\n\n## Success Criteria\n\n- ‚úÖ `SECURITY.md` visible in GitHub Security tab\n- ‚úÖ Clear vulnerability reporting instructions\n- ‚úÖ Documented response timelines\n- ‚úÖ Internal workflow documentation complete\n- ‚úÖ README.md includes security section\n- ‚úÖ Security contact information defined\n\n## Related Issues\n\n- #146 - Add automated npm audit security scanning to CI/CD pipeline\n- #147 - Configure Dependabot for automated dependency updates\n\n## References\n\n- [GitHub SECURITY.md guidance](https://docs.github.com/en/code-security/getting-started/adding-a-security-policy-to-your-repository)\n- [Security assessment](docs/security/shared-lists-security-assessment.md)\n- [OWASP Vulnerability Disclosure Cheat Sheet](https://cheatsheetseries.owasp.org/cheatsheets/Vulnerability_Disclosure_Cheat_Sheet.html)\n\n- #151 - Adopt pinned dependency versions for enhanced security",
        "number": 148,
        "repository": "mikiwiik/instructions-only-claude-coding",
        "title": "Create security vulnerability reporting process and documentation",
        "type": "Issue",
        "url": "https://github.com/mikiwiik/instructions-only-claude-coding/issues/148"
      },
      "id": "PVTI_lAHOABVon84BF52zzggDPPI",
      "labels": [
        "priority-3-medium",
        "complexity-minimal",
        "category-documentation"
      ],
      "lifecycle": "Backlog",
      "repository": "https://github.com/mikiwiik/instructions-only-claude-coding",
      "title": "Create security vulnerability reporting process and documentation"
    },
    {
      "content": {
        "body": "## Summary\n\nAdd Lighthouse CI to the GitHub Actions workflow to provide automated performance monitoring and establish baseline metrics for future performance gates.\n\n## Goals\n\n1. Use a well-known tool (Lighthouse) to analyze common performance issues\n2. Set a trackable baseline for performance metrics\n3. Provide visibility into performance changes on PRs\n\n## Implementation Approach\n\n### Phase 1: Informational Mode (This Issue)\n\n- Add Lighthouse CI to `.github/workflows/build.yml`\n- Run audits on all PRs targeting main branch\n- Post results as PR comments showing scores across 5 categories:\n  - Performance\n  - Accessibility\n  - Best Practices\n  - SEO\n  - Progressive Web App\n- **Informational only** - never fail CI, just provide visibility\n\n### Phase 2: Performance Gates (Future)\n\nOnce baseline is established, tighten thresholds to act as safeguards against performance regressions.\n\n## Technical Details\n\n- Audit built Next.js app after `npm run build` step\n- Run 3-5 audits per PR for consistency\n- Create `lighthouserc.json` configuration file\n- Add Lighthouse CI step to build workflow (Ubuntu only to avoid duplication)\n- Estimated CI time increase: 2-3 minutes per run\n\n## Acceptance Criteria\n\n- [ ] Lighthouse CI runs on all PRs targeting main\n- [ ] Results posted as PR comments with score breakdown\n- [ ] Configuration file documents thresholds and audit settings\n- [ ] CI never fails due to Lighthouse scores (informational mode)\n- [ ] Documentation updated to explain Lighthouse CI integration\n\n## References\n\n- [Lighthouse CI Documentation](https://github.com/GoogleChrome/lighthouse-ci)\n- Current CI workflow: `.github/workflows/build.yml`",
        "number": 144,
        "repository": "mikiwiik/instructions-only-claude-coding",
        "title": "Integrate Lighthouse CI for automated performance monitoring",
        "type": "Issue",
        "url": "https://github.com/mikiwiik/instructions-only-claude-coding/issues/144"
      },
      "id": "PVTI_lAHOABVon84BF52zzggDPPY",
      "labels": [
        "priority-2-high",
        "complexity-moderate",
        "category-infrastructure"
      ],
      "lifecycle": "Backlog",
      "repository": "https://github.com/mikiwiik/instructions-only-claude-coding",
      "title": "Integrate Lighthouse CI for automated performance monitoring"
    },
    {
      "content": {
        "body": "## Summary\n\nScope and plan user management and authentication architecture for future implementation, building on the anonymous sharing foundation established in the initial shared lists feature.\n\n## Context\n\nThe shared lists feature (#85) was initially implemented with anonymous sharing to focus on core collaboration functionality while avoiding authentication complexity. This issue scopes the future implementation of proper user accounts and authentication to enable advanced features and better user experience.\n\n## Problem Statement\n\nWhile anonymous sharing serves immediate needs, user authentication would enable:\n- **Persistent User Identity**: Users can access their lists across sessions and devices\n- **Personal Todo Management**: Private lists associated with user accounts\n- **Enhanced Collaboration**: User-based permissions and access control\n- **Advanced Features**: User preferences, activity history, notifications\n- **Data Ownership**: Clear data ownership and privacy controls\n\n## Scope Definition Requirements\n\nThis issue focuses on **scoping and architecture planning** for user authentication. The scope document should define:\n\n### 1. Authentication Strategy Options\n- [ ] **Social Login Integration**: Google, GitHub, Apple, Microsoft providers\n- [ ] **Email/Password Authentication**: Traditional registration and login\n- [ ] **Magic Link Authentication**: Passwordless email-based authentication\n- [ ] **Multi-Factor Authentication**: 2FA/MFA for enhanced security\n- [ ] **Enterprise SSO**: SAML/OIDC for organizational use\n\n### 2. User Identity Management\n- [ ] **User Profile System**: Basic profile information and preferences\n- [ ] **Account Lifecycle**: Registration, verification, deactivation, deletion\n- [ ] **Session Management**: Secure session handling and token management\n- [ ] **Cross-Device Identity**: Syncing user identity across devices\n- [ ] **Anonymous to Authenticated Migration**: Claiming anonymous lists\n\n### 3. Permission and Access Control\n- [ ] **List Ownership Model**: User-owned vs shared vs public lists\n- [ ] **Collaboration Permissions**: Owner, editor, viewer, commenter roles\n- [ ] **Sharing Controls**: Who can share, invite, and modify permissions\n- [ ] **Organization Support**: Team accounts and workspace management\n- [ ] **Privacy Controls**: Public, private, and shared visibility levels\n\n### 4. Data Architecture Evolution\n- [ ] **User Data Model**: Profile, preferences, and metadata\n- [ ] **List Association**: Linking lists to user accounts\n- [ ] **Permission Storage**: Role-based access control data structures\n- [ ] **Activity Logging**: User action tracking and audit trails\n- [ ] **Data Migration**: Anonymous to authenticated data migration\n\n### 5. Integration with Existing Architecture\n- [ ] **Backward Compatibility**: Anonymous sharing continues to work\n- [ ] **Gradual Migration**: Optional upgrade path for anonymous users\n- [ ] **API Evolution**: Extending existing APIs for authenticated users\n- [ ] **State Management**: Extending useTodos hook for user context\n- [ ] **UI Evolution**: Authentication-aware user interface\n\n## Authentication Provider Evaluation\n\n### Option 1: NextAuth.js (Recommended)\n```typescript\n// NextAuth.js configuration\nexport default NextAuth({\n  providers: [\n    GoogleProvider({\n      clientId: process.env.GOOGLE_CLIENT_ID,\n      clientSecret: process.env.GOOGLE_CLIENT_SECRET,\n    }),\n    GitHubProvider({\n      clientId: process.env.GITHUB_ID,\n      clientSecret: process.env.GITHUB_SECRET,\n    }),\n    EmailProvider({\n      server: process.env.EMAIL_SERVER,\n      from: process.env.EMAIL_FROM,\n    }),\n  ],\n  database: process.env.DATABASE_URL,\n  session: { strategy: 'jwt' },\n  callbacks: {\n    session: async ({ session, token }) => ({\n      ...session,\n      user: { ...session.user, id: token.sub }\n    })\n  }\n});\n```\n\n**Pros:**\n- Industry standard for Next.js applications\n- Multiple provider support built-in\n- Secure by default with best practices\n- Extensive documentation and community support\n- Flexible configuration options\n\n**Cons:**\n- Additional complexity in application architecture\n- Database requirements for user sessions\n- Email provider setup for magic links\n- CORS and domain configuration requirements\n\n### Option 2: Clerk Authentication\n```typescript\n// Clerk integration\nimport { ClerkProvider, SignedIn, SignedOut } from '@clerk/nextjs';\n\nexport default function App() {\n  return (\n    <ClerkProvider>\n      <SignedIn>\n        <AuthenticatedApp />\n      </SignedIn>\n      <SignedOut>\n        <AnonymousApp />\n      </SignedOut>\n    </ClerkProvider>\n  );\n}\n```\n\n**Pros:**\n- Beautiful pre-built UI components\n- Comprehensive user management features\n- Modern developer experience\n- Built-in security best practices\n- No database setup required\n\n**Cons:**\n- Monthly subscription costs ($25+/month)\n- External service dependency\n- Less customization flexibility\n- Vendor lock-in considerations\n\n### Option 3: Supabase Auth\n```typescript\n// Supabase Auth integration\nconst { data, error } = await supabase.auth.signInWithOAuth({\n  provider: 'google',\n  options: {\n    redirectTo: `${window.location.origin}/auth/callback`\n  }\n});\n\n// Row Level Security\ncreate policy \"Users can access their own lists\"\n  on lists for all\n  using (auth.uid() = user_id);\n```\n\n**Pros:**\n- Integrated with database solution\n- Row Level Security for data access\n- Real-time subscriptions with user context\n- Open source foundation\n- Competitive pricing\n\n**Cons:**\n- Additional service dependency\n- PostgreSQL requirement\n- Learning curve for RLS configuration\n- Migration from current Vercel KV storage\n\n## User Data Model Design\n\n### Core User Entity\n```typescript\ninterface User {\n  id: string;                    // Primary identifier\n  email: string;                 // Primary contact\n  name?: string;                 // Display name\n  avatar?: string;               // Profile image URL\n  createdAt: Date;              // Account creation\n  updatedAt: Date;              // Last profile update\n  lastSeenAt: Date;             // Last activity\n  emailVerified: boolean;       // Email verification status\n  preferences: UserPreferences; // User settings\n}\n\ninterface UserPreferences {\n  theme: 'light' | 'dark' | 'system';\n  notifications: NotificationSettings;\n  privacy: PrivacySettings;\n  defaultListVisibility: 'private' | 'shared';\n  markdownEnabled: boolean;\n}\n```\n\n### List Ownership Model\n```typescript\ninterface AuthenticatedList extends SharedList {\n  ownerId: string;              // User who created the list\n  visibility: 'private' | 'shared' | 'public';\n  collaborators: Collaborator[];\n  permissions: ListPermissions;\n  createdBy: string;            // Original creator\n  isAnonymous: boolean;         // Migrated from anonymous\n}\n\ninterface Collaborator {\n  userId: string;\n  role: 'owner' | 'editor' | 'viewer';\n  addedAt: Date;\n  addedBy: string;\n  status: 'active' | 'pending' | 'removed';\n}\n```\n\n### Migration Model\n```typescript\ninterface AnonymousListClaim {\n  anonymousListId: string;      // Original shared list ID\n  userId: string;               // Claiming user\n  claimedAt: Date;              // When claimed\n  migrationMethod: 'claim' | 'import' | 'merge';\n  preserveAnonymousAccess: boolean;\n}\n```\n\n## Implementation Strategy\n\n### Phase 1: Authentication Foundation (Week 1-2)\n- [ ] Choose and integrate authentication provider\n- [ ] Implement user registration and login flows\n- [ ] Create user profile management interface\n- [ ] Set up session management and security\n- [ ] Design user data models and storage\n\n### Phase 2: List Ownership (Week 3-4)\n- [ ] Extend list data model for user ownership\n- [ ] Implement list creation with user association\n- [ ] Add privacy controls and visibility settings\n- [ ] Create user dashboard for list management\n- [ ] Implement list sharing with authenticated users\n\n### Phase 3: Migration and Compatibility (Week 5-6)\n- [ ] Build anonymous list claiming functionality\n- [ ] Create migration tools for existing anonymous lists\n- [ ] Implement hybrid anonymous/authenticated sharing\n- [ ] Add backward compatibility for existing share URLs\n- [ ] User onboarding and migration guidance\n\n### Phase 4: Advanced Features (Week 7-8)\n- [ ] Implement role-based collaboration permissions\n- [ ] Add user activity tracking and history\n- [ ] Create notification system for list updates\n- [ ] Build team/organization support\n- [ ] Advanced user preferences and customization\n\n## Security and Privacy Considerations\n\n### Authentication Security\n- [ ] **Secure Session Management**: JWT tokens with proper expiration\n- [ ] **Password Security**: Hashing, complexity requirements, breach detection\n- [ ] **OAuth Security**: Proper scope management and token handling\n- [ ] **Multi-Factor Authentication**: Optional 2FA for enhanced security\n- [ ] **Account Recovery**: Secure password reset and account recovery\n\n### Privacy Protection\n- [ ] **Data Minimization**: Collect only necessary user information\n- [ ] **GDPR Compliance**: Right to access, portability, erasure\n- [ ] **Privacy Controls**: User control over data sharing and visibility\n- [ ] **Consent Management**: Clear consent for data processing\n- [ ] **Data Retention**: Policies for user data retention and deletion\n\n### Access Control\n- [ ] **Principle of Least Privilege**: Minimal necessary permissions\n- [ ] **Role-Based Access**: Clear permission levels and inheritance\n- [ ] **Audit Logging**: Track user actions and permission changes\n- [ ] **Session Security**: Secure session invalidation and management\n- [ ] **API Security**: Authenticated API access and rate limiting\n\n## Migration Strategy\n\n### Anonymous to Authenticated Migration\n```typescript\ninterface MigrationFlow {\n  // Step 1: User creates account\n  registerUser(email: string, provider: string): Promise<User>;\n  \n  // Step 2: Discover claimable lists\n  discoverAnonymousLists(participantId: string): Promise<AnonymousList[]>;\n  \n  // Step 3: Claim anonymous lists\n  claimAnonymousList(listId: string, userId: string): Promise<AuthenticatedList>;\n  \n  // Step 4: Migrate sharing settings\n  migrateShareSettings(listId: string, newPermissions: Permissions): Promise<void>;\n}\n```\n\n### Backward Compatibility\n- **Anonymous sharing continues**: Existing URLs work unchanged\n- **Gradual migration**: Users choose when to create accounts\n- **Hybrid access**: Lists can have both anonymous and authenticated users\n- **No breaking changes**: Existing API endpoints remain functional\n\n## Research Questions\n\nThe scoping document should address:\n\n1. **Authentication Flow UX**: What provides the smoothest user experience?\n2. **Migration Complexity**: How complex is the anonymous to authenticated migration?\n3. **Performance Impact**: How does authentication affect application performance?\n4. **Cost Implications**: What are the costs of user management infrastructure?\n5. **Privacy Requirements**: What privacy regulations apply to user data?\n6. **Scalability**: How do different approaches handle user growth?\n\n## Deliverables\n\nThis scoping issue should produce:\n\n- [ ] **Authentication Provider Comparison**: Detailed analysis of auth options\n- [ ] **User Data Model Design**: Complete user and permission data structures\n- [ ] **Migration Strategy Document**: Plan for anonymous to authenticated transition\n- [ ] **Security Assessment**: Security considerations and implementation plan\n- [ ] **Privacy Impact Assessment**: GDPR and privacy compliance analysis\n- [ ] **Implementation Roadmap**: Phased implementation plan with milestones\n- [ ] **Cost Analysis**: Budget implications for authentication infrastructure\n\n## Architecture Decision Records Required\n\n- [ ] **ADR-025: Authentication Provider Selection**\n- [ ] **ADR-026: User Data Model and Permissions Architecture**\n- [ ] **ADR-027: Anonymous to Authenticated Migration Strategy**\n- [ ] **ADR-028: Privacy and Compliance Implementation**\n\n## Success Criteria\n\nThe scoping is complete when:\n- [ ] Authentication provider selected with clear rationale\n- [ ] User data models designed and validated\n- [ ] Migration strategy from anonymous to authenticated defined\n- [ ] Security and privacy requirements thoroughly addressed\n- [ ] Implementation phases defined with clear scope boundaries\n- [ ] Cost implications understood and budgeted\n- [ ] Integration plan with existing anonymous architecture complete\n\n## Related Issues\n\n- **Builds on**: #85 (Backend persistence and multi-device sync architecture)\n- **Depends on**: #120-#125 (Shared lists implementation)\n- **Enables**: Advanced collaboration features, user preferences, notifications\n- **Future**: Team management, organization support, enterprise features\n\n## Educational Value\n\nThis scoping exercise demonstrates:\n- **Authentication Architecture**: Professional user management patterns\n- **Security Best Practices**: Modern authentication and authorization\n- **Privacy Engineering**: GDPR compliance and privacy by design\n- **Migration Planning**: Evolving architecture without breaking changes\n- **User Experience Design**: Balancing security and usability\n\n## Priority and Complexity\n\n**Priority**: üü° **Medium** - Important for advanced features but not immediately blocking\n**Complexity**: üî¥ **Complex** - Significant architecture extension requiring careful planning\n**Category**: Future Enhancement, Authentication, Security\n\n**Timeline**: This scoping should be completed when anonymous sharing is stable and additional user features are needed.\n\n## Next Steps\n\n1. **Complete anonymous sharing implementation** (#120-#125)\n2. **Gather user feedback** on anonymous sharing experience\n3. **Assess demand** for user accounts and advanced features\n4. **Begin authentication scoping** when ready for next phase\n5. **Plan migration timeline** based on user adoption and feedback\n\n---\n\n*This issue provides the roadmap for evolving from anonymous sharing to a full user authentication system when the time is right.*",
        "number": 128,
        "repository": "mikiwiik/instructions-only-claude-coding",
        "title": "üîê Scope user management and authentication architecture (Future Enhancement)",
        "type": "Issue",
        "url": "https://github.com/mikiwiik/instructions-only-claude-coding/issues/128"
      },
      "id": "PVTI_lAHOABVon84BF52zzggDPPg",
      "labels": [
        "priority-3-medium",
        "complexity-complex",
        "category-infrastructure"
      ],
      "lifecycle": "Backlog",
      "repository": "https://github.com/mikiwiik/instructions-only-claude-coding",
      "title": "üîê Scope user management and authentication architecture (Future Enhancement)"
    },
    {
      "content": {
        "body": "## Summary\n\nExtend the existing `useTodos` hook to support shared todo lists while maintaining backward compatibility with local-only todos, implementing hybrid local/shared state management.\n\n## Problem Statement\n\nThe current `useTodos` hook is designed for local-only state management with localStorage. To support sharing, we need:\n- Hybrid state management (local + shared lists)\n- Real-time synchronization integration\n- Conflict resolution handling\n- Seamless switching between local and shared modes\n- Backward compatibility with existing usage\n\n## Hook Architecture Design\n\n### Enhanced Hook Interface\n\n```typescript\n// Extended hook interface\nexport function useTodos(listId?: string) {\n  // Existing interface remains unchanged for backward compatibility\n  // New shared functionality accessed via listId parameter\n}\n\n// Usage patterns:\nconst localTodos = useTodos(); // Existing local behavior\nconst sharedTodos = useTodos('shared-list-123'); // New shared behavior\n```\n\n### State Management Strategy\n\n```typescript\ninterface TodosState {\n  // Local state (existing)\n  todos: Todo[];\n  filter: TodoFilter;\n  \n  // Shared state (new)\n  isShared: boolean;\n  listId?: string;\n  participants: Participant[];\n  syncState: SyncState;\n  conflicts: Conflict[];\n  shareInfo?: ShareInfo;\n}\n\ninterface SyncState {\n  isConnected: boolean;\n  lastSyncAt: Date;\n  pendingOperations: SyncOperation[];\n  failedOperations: SyncOperation[];\n  isLoading: boolean;\n}\n```\n\n### Implementation Plan\n\n```typescript\n// Enhanced useTodos hook\nexport function useTodos(listId?: string) {\n  const [state, setState] = useState<TodosState>({\n    todos: [],\n    filter: 'active',\n    isShared: !!listId,\n    listId,\n    participants: [],\n    syncState: {\n      isConnected: false,\n      lastSyncAt: new Date(),\n      pendingOperations: [],\n      failedOperations: [],\n      isLoading: false\n    },\n    conflicts: [],\n    shareInfo: undefined\n  });\n\n  // Existing local storage logic (when !listId)\n  useEffect(() => {\n    if (!listId) {\n      loadFromLocalStorage();\n    }\n  }, [listId]);\n\n  // New shared state management (when listId)\n  useEffect(() => {\n    if (listId) {\n      initializeSharedList(listId);\n      setupRealTimeSync(listId);\n    }\n  }, [listId]);\n\n  // Real-time synchronization\n  const { subscribe, publish } = useRealTimeSync(listId);\n  \n  useEffect(() => {\n    if (!listId) return;\n    \n    const unsubscribe = subscribe((update: SharedListUpdate) => {\n      handleRealTimeUpdate(update);\n    });\n    \n    return unsubscribe;\n  }, [listId, subscribe]);\n\n  // Enhanced operations with sync support\n  const addTodo = useCallback(async (text: string) => {\n    const trimmedText = text.trim();\n    if (!trimmedText) return;\n\n    const newTodo = createTodo(trimmedText);\n    \n    // Optimistic update\n    setState(prev => ({\n      ...prev,\n      todos: [newTodo, ...prev.todos]\n    }));\n\n    if (listId) {\n      // Queue sync operation\n      const operation: SyncOperation = {\n        id: generateId(),\n        type: 'create',\n        todoId: newTodo.id,\n        data: newTodo,\n        timestamp: new Date(),\n        participantId: getParticipantId()\n      };\n      \n      await queueSyncOperation(operation);\n    } else {\n      // Local storage (existing behavior)\n      saveToLocalStorage([newTodo, ...state.todos]);\n    }\n  }, [listId, state.todos]);\n\n  // Enhanced toggle with conflict detection\n  const toggleTodo = useCallback(async (id: string) => {\n    const currentTodo = state.todos.find(todo => todo.id === id);\n    if (!currentTodo) return;\n\n    const updatedTodo = {\n      ...currentTodo,\n      completedAt: currentTodo.completedAt ? undefined : new Date(),\n      updatedAt: new Date()\n    };\n\n    // Optimistic update\n    setState(prev => ({\n      ...prev,\n      todos: prev.todos.map(todo => \n        todo.id === id ? updatedTodo : todo\n      )\n    }));\n\n    if (listId) {\n      const operation: SyncOperation = {\n        id: generateId(),\n        type: 'update',\n        todoId: id,\n        data: { completedAt: updatedTodo.completedAt },\n        timestamp: new Date(),\n        participantId: getParticipantId()\n      };\n      \n      await queueSyncOperation(operation);\n    } else {\n      saveToLocalStorage(state.todos.map(todo => \n        todo.id === id ? updatedTodo : todo\n      ));\n    }\n  }, [listId, state.todos]);\n\n  // Return enhanced interface\n  return {\n    // Existing interface (backward compatible)\n    todos: getFilteredTodos(),\n    allTodos: state.todos,\n    filter: state.filter,\n    addTodo,\n    toggleTodo,\n    restoreTodo,\n    deleteTodo,\n    permanentlyDeleteTodo,\n    restoreDeletedTodo,\n    editTodo,\n    reorderTodos,\n    moveUp,\n    moveDown,\n    setFilter,\n\n    // New shared functionality\n    isShared: state.isShared,\n    participants: state.participants,\n    syncState: state.syncState,\n    conflicts: state.conflicts,\n    shareInfo: state.shareInfo,\n    \n    // Shared list operations\n    createShareUrl: listId ? () => createShareUrl(listId) : undefined,\n    resolveConflict: listId ? resolveConflict : undefined,\n    retryFailedOperations: listId ? retryFailedOperations : undefined,\n    \n    // Conversion utilities\n    convertToShared: !listId ? convertLocalToShared : undefined,\n    exportToLocal: listId ? exportSharedToLocal : undefined\n  };\n}\n```\n\n## Implementation Tasks\n\n### Phase 1: Hook Extension Foundation\n- [ ] **Parameter Support**: Add optional `listId` parameter to useTodos\n- [ ] **State Structure**: Extend state interface for shared functionality\n- [ ] **Backward Compatibility**: Ensure existing usage patterns work unchanged\n- [ ] **Type Safety**: Update TypeScript interfaces and return types\n- [ ] **Hook Split**: Consider splitting into `useLocalTodos` and `useSharedTodos`\n\n### Phase 2: Sync Operation Queue\n- [ ] **Operation Queue**: Implement client-side operation queuing\n- [ ] **Optimistic Updates**: Immediate UI updates before sync\n- [ ] **Rollback Logic**: Revert failed operations\n- [ ] **Batch Processing**: Group operations for efficient syncing\n- [ ] **Persistence**: Store pending operations in localStorage\n\n### Phase 3: Real-Time Integration\n- [ ] **WebSocket/SSE Connection**: Integrate with real-time sync\n- [ ] **Event Handling**: Process incoming real-time updates\n- [ ] **Conflict Detection**: Identify conflicting operations\n- [ ] **State Reconciliation**: Merge remote changes with local state\n- [ ] **Connection Management**: Handle disconnections and reconnections\n\n### Phase 4: Conflict Resolution\n- [ ] **Conflict Types**: Define and handle different conflict scenarios\n- [ ] **Resolution Strategies**: Implement last-write-wins and merge logic\n- [ ] **User Choice**: Allow manual conflict resolution\n- [ ] **Conflict UI Integration**: Connect resolution to UI components\n- [ ] **Version Management**: Track operation versions for conflict detection\n\n### Phase 5: Advanced Features\n- [ ] **Participant Management**: Track and display participant state\n- [ ] **Activity Tracking**: Monitor and broadcast user actions\n- [ ] **Share Management**: Create and manage share URLs from hook\n- [ ] **Migration Utilities**: Convert between local and shared lists\n- [ ] **Performance Optimization**: Debouncing, memoization, cleanup\n\n## Hook Usage Examples\n\n### Basic Local Usage (Existing)\n```typescript\nfunction TodoApp() {\n  const {\n    todos,\n    addTodo,\n    toggleTodo,\n    filter,\n    setFilter\n  } = useTodos(); // No listId = local mode\n\n  // Existing component logic unchanged\n}\n```\n\n### Shared List Usage (New)\n```typescript\nfunction SharedTodoApp({ shareId }: { shareId: string }) {\n  const {\n    todos,\n    addTodo,\n    toggleTodo,\n    // New shared functionality\n    isShared,\n    participants,\n    syncState,\n    conflicts,\n    resolveConflict,\n    createShareUrl\n  } = useTodos(shareId);\n\n  // Enhanced component with collaboration features\n  return (\n    <div>\n      <SyncStatusBar syncState={syncState} />\n      <ParticipantIndicators participants={participants} />\n      {conflicts.length > 0 && (\n        <ConflictResolution \n          conflicts={conflicts} \n          onResolve={resolveConflict} \n        />\n      )}\n      <TodoList todos={todos} onToggle={toggleTodo} />\n    </div>\n  );\n}\n```\n\n### Hybrid Usage\n```typescript\nfunction TodoAppWithSharing() {\n  const [currentListId, setCurrentListId] = useState<string | undefined>();\n  \n  const {\n    todos,\n    addTodo,\n    isShared,\n    convertToShared,\n    shareInfo\n  } = useTodos(currentListId);\n\n  const handleCreateShare = async () => {\n    if (!isShared) {\n      const shareId = await convertToShared();\n      setCurrentListId(shareId);\n    }\n  };\n\n  return (\n    <div>\n      <button onClick={handleCreateShare}>\n        {isShared ? 'Share List' : 'Make Shareable'}\n      </button>\n      <TodoList todos={todos} onAdd={addTodo} />\n    </div>\n  );\n}\n```\n\n## Technical Considerations\n\n### Performance Optimization\n- **Memoization**: Memoize expensive computations and callbacks\n- **Debouncing**: Debounce rapid sync operations\n- **Cleanup**: Proper cleanup of real-time connections\n- **Memory Management**: Limit operation history and activity logs\n\n### Error Handling\n- **Network Failures**: Graceful handling of connection issues\n- **API Errors**: Proper error propagation and user feedback\n- **Data Corruption**: Validation and recovery strategies\n- **Rollback Logic**: Revert optimistic updates on failures\n\n### Testing Strategy\n- **Unit Tests**: Individual hook functions and state updates\n- **Integration Tests**: Real-time sync and conflict resolution\n- **Backward Compatibility**: Ensure existing tests still pass\n- **Performance Tests**: Memory usage and update frequency\n- **E2E Tests**: Multi-user collaboration scenarios\n\n## Acceptance Criteria\n\n- [ ] **Backward Compatibility**: Existing `useTodos()` usage works unchanged\n- [ ] **Shared Functionality**: `useTodos(listId)` enables sharing features\n- [ ] **Real-Time Sync**: Changes sync immediately across devices\n- [ ] **Conflict Resolution**: Conflicts detected and resolvable\n- [ ] **Optimistic Updates**: UI responds immediately to user actions\n- [ ] **Error Recovery**: Failed operations retry automatically\n- [ ] **Performance**: No performance regression for local usage\n- [ ] **Type Safety**: Full TypeScript support for all features\n- [ ] **Testing**: Comprehensive test coverage for new functionality\n\n## Migration Strategy\n\n### Existing Codebases\n1. **No Changes Required**: Existing `useTodos()` calls work as before\n2. **Opt-in Sharing**: Add `listId` parameter only when sharing needed\n3. **Gradual Enhancement**: Add collaborative features incrementally\n4. **Type-Safe Migration**: TypeScript guides feature adoption\n\n### Data Migration\n1. **Local to Shared**: Convert localStorage todos to shared format\n2. **Shared to Local**: Export shared todos back to localStorage\n3. **Format Compatibility**: Maintain Todo interface compatibility\n4. **Backup Strategy**: Always preserve local copy during conversion\n\n## Related Issues\n\n- Depends on: #120 (Data model design)\n- Depends on: #121 (Vercel backend infrastructure)\n- Integrates with: #122 (Real-time synchronization)\n- Enables: #124 (Collaborative UI/UX features)\n- Relates to: #123 (Share URL generation)\n\n## Priority and Complexity\n\n**Priority**: üü† **High** - Core integration point for sharing functionality\n**Complexity**: üî¥ **Complex** - State management, real-time integration, backward compatibility\n**Category**: Feature, Integration\n\nThis hook extension serves as the primary integration point between the existing local todo functionality and the new shared collaboration features.\n\n## Architecture Decision Records\n\n### Required ADRs for This Issue\n\n- [ ] **ADR-022: State Management Architecture Extension**\n  - Document the extension strategy for the existing useTodos hook\n  - Justify backward compatibility approach and migration strategy\n  - Record state management patterns for hybrid local/shared functionality\n  - Document hook interface design and API consistency\n\n- [ ] **ADR-023: Client-Side State Synchronization**\n  - Document client-side sync operation queue architecture\n  - Justify optimistic update strategy and rollback mechanisms\n  - Record state reconciliation approach for real-time updates\n  - Document memory management and performance optimization decisions\n\n### ADR Updates Required\n\n- [ ] **Update ADR-007: State Management with useTodos Hook**\n  - Extend existing ADR to cover shared state management\n  - Document new hook interface and backward compatibility\n  - Record integration points with real-time synchronization\n\n### ADR Integration Requirements\n\n- [ ] Create ADRs before hook extension implementation begins\n- [ ] Update existing state management ADRs for consistency\n- [ ] Document any changes to existing React patterns or conventions\n- [ ] Include performance impact analysis in ADR reasoning\n\n**ADR Location**: `docs/adr/ADR-022-state-management-extension.md`, `docs/adr/ADR-023-client-sync-architecture.md`, and updated `docs/adr/ADR-007-state-management.md`\n\n---\n\n*This issue extends core application architecture and requires updates to existing ADRs as well as new architectural documentation.*",
        "number": 125,
        "repository": "mikiwiik/instructions-only-claude-coding",
        "title": "üîß Extend useTodos hook for shared list state management",
        "type": "Issue",
        "url": "https://github.com/mikiwiik/instructions-only-claude-coding/issues/125"
      },
      "id": "PVTI_lAHOABVon84BF52zzggDPPk",
      "labels": ["priority-2-high", "complexity-complex", "category-feature"],
      "lifecycle": "Backlog",
      "repository": "https://github.com/mikiwiik/instructions-only-claude-coding",
      "title": "üîß Extend useTodos hook for shared list state management"
    },
    {
      "content": {
        "body": "## Summary\n\nDesign and implement user interface enhancements that provide visual feedback and collaborative features for shared todo lists, including participant presence, real-time cursors, and sync status indicators.\n\n## Problem Statement\n\nWhen multiple users collaborate on a shared todo list, they need:\n- Visual indication of other participants' presence and activity\n- Clear feedback about sync status and connectivity\n- Non-intrusive conflict resolution UI\n- Distinguishable participant actions (who did what)\n- Smooth transitions for real-time updates\n\n## Collaborative UI Features\n\n### 1. Participant Presence Indicators\n\n**Participant Avatars**:\n```typescript\ninterface ParticipantIndicator {\n  id: string;\n  color: string; // Generated based on participant ID\n  isActive: boolean;\n  lastSeenAt: Date;\n  currentlyEditing?: string; // Todo ID being edited\n}\n\n// Visual representation\n<div className=\"flex -space-x-2\">\n  {participants.map(participant => (\n    <div \n      key={participant.id}\n      className=\"w-8 h-8 rounded-full border-2 border-white\"\n      style={{ backgroundColor: participant.color }}\n      title={`Participant ${participant.id.slice(-4)}`}\n    >\n      {participant.isActive && (\n        <div className=\"w-2 h-2 bg-green-400 rounded-full absolute -top-1 -right-1\" />\n      )}\n    </div>\n  ))}\n</div>\n```\n\n**Real-Time Activity Feed**:\n```typescript\ninterface ActivityItem {\n  id: string;\n  participantId: string;\n  participantColor: string;\n  action: 'added' | 'completed' | 'edited' | 'deleted' | 'restored';\n  todoText: string;\n  timestamp: Date;\n}\n\n// Activity component\n<div className=\"text-xs text-muted-foreground space-y-1\">\n  {recentActivity.map(activity => (\n    <div key={activity.id} className=\"flex items-center gap-2\">\n      <div \n        className=\"w-2 h-2 rounded-full\" \n        style={{ backgroundColor: activity.participantColor }} \n      />\n      <span>\n        Someone {activity.action} \"{activity.todoText}\"\n      </span>\n      <span className=\"text-xs opacity-60\">\n        {formatTimeAgo(activity.timestamp)}\n      </span>\n    </div>\n  ))}\n</div>\n```\n\n### 2. Real-Time Editing Indicators\n\n**Active Editing Highlights**:\n```typescript\n// TodoItem component enhancement\nexport function TodoItem({ todo, isBeingEdited, editorColor }: TodoItemProps) {\n  return (\n    <div \n      className={cn(\n        \"todo-item\",\n        isBeingEdited && \"ring-2 ring-opacity-50 transition-all\",\n      )}\n      style={isBeingEdited ? { \n        '--ring-color': editorColor,\n        borderColor: editorColor \n      } : undefined}\n    >\n      {isBeingEdited && (\n        <div className=\"absolute -top-2 -right-2\">\n          <div \n            className=\"w-4 h-4 rounded-full border-2 border-white animate-pulse\"\n            style={{ backgroundColor: editorColor }}\n          />\n        </div>\n      )}\n      \n      {/* Existing todo content */}\n    </div>\n  );\n}\n```\n\n**Typing Indicators**:\n```typescript\n// Show when someone is typing in a todo\n<div className=\"flex items-center gap-2 text-xs text-muted-foreground\">\n  <div className=\"flex space-x-1\">\n    <div className=\"w-1 h-1 bg-gray-400 rounded-full animate-bounce\" style={{ animationDelay: '0ms' }} />\n    <div className=\"w-1 h-1 bg-gray-400 rounded-full animate-bounce\" style={{ animationDelay: '150ms' }} />\n    <div className=\"w-1 h-1 bg-gray-400 rounded-full animate-bounce\" style={{ animationDelay: '300ms' }} />\n  </div>\n  <span>Someone is typing...</span>\n</div>\n```\n\n### 3. Sync Status and Connection Indicators\n\n**Connection Status Bar**:\n```typescript\nexport function SyncStatusBar({ syncState }: { syncState: SyncState }) {\n  const getStatusColor = () => {\n    if (!syncState.isConnected) return 'bg-red-500';\n    if (syncState.pendingOperations.length > 0) return 'bg-yellow-500';\n    return 'bg-green-500';\n  };\n\n  const getStatusText = () => {\n    if (!syncState.isConnected) return 'Disconnected - Changes saved locally';\n    if (syncState.pendingOperations.length > 0) return `Syncing ${syncState.pendingOperations.length} changes...`;\n    return 'All changes synced';\n  };\n\n  return (\n    <div className=\"flex items-center gap-2 px-3 py-1 bg-muted rounded-full text-xs\">\n      <div className={`w-2 h-2 rounded-full ${getStatusColor()}`} />\n      <span>{getStatusText()}</span>\n      {syncState.lastSyncAt && (\n        <span className=\"opacity-60\">\n          Last sync: {formatTimeAgo(syncState.lastSyncAt)}\n        </span>\n      )}\n    </div>\n  );\n}\n```\n\n**Optimistic Update Indicators**:\n```typescript\n// Visual feedback for pending operations\n<TodoItem \n  todo={todo}\n  isPending={pendingOperations.includes(todo.id)}\n  className={cn(\n    isPending && \"opacity-60 animate-pulse\"\n  )}\n>\n  {isPending && (\n    <div className=\"absolute top-2 right-2\">\n      <Loader2 className=\"w-4 h-4 animate-spin text-muted-foreground\" />\n    </div>\n  )}\n</TodoItem>\n```\n\n### 4. Conflict Resolution UI\n\n**Conflict Notification**:\n```typescript\ninterface ConflictResolutionProps {\n  conflicts: Conflict[];\n  onResolve: (conflictId: string, resolution: ConflictResolution) => void;\n}\n\nexport function ConflictNotification({ conflicts, onResolve }: ConflictResolutionProps) {\n  return (\n    <div className=\"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-4\">\n      <div className=\"flex items-center gap-2 mb-2\">\n        <AlertTriangle className=\"w-4 h-4 text-yellow-600\" />\n        <h3 className=\"text-sm font-medium text-yellow-800\">\n          Conflicting Changes Detected\n        </h3>\n      </div>\n      \n      {conflicts.map(conflict => (\n        <div key={conflict.id} className=\"mb-3 last:mb-0\">\n          <p className=\"text-sm text-yellow-700 mb-2\">\n            Both you and another participant edited: \"{conflict.todoText}\"\n          </p>\n          \n          <div className=\"grid grid-cols-2 gap-2\">\n            <button \n              className=\"px-3 py-1 bg-white border border-yellow-300 rounded text-xs hover:bg-yellow-50\"\n              onClick={() => onResolve(conflict.id, 'keep-mine')}\n            >\n              Keep my version\n            </button>\n            <button \n              className=\"px-3 py-1 bg-white border border-yellow-300 rounded text-xs hover:bg-yellow-50\"\n              onClick={() => onResolve(conflict.id, 'keep-theirs')}\n            >\n              Keep their version\n            </button>\n          </div>\n        </div>\n      ))}\n    </div>\n  );\n}\n```\n\n### 5. Shared List Header\n\n**Enhanced Header with Collaboration Info**:\n```typescript\nexport function SharedListHeader({ sharedList, participants, shareUrl }: SharedListHeaderProps) {\n  return (\n    <div className=\"flex items-center justify-between mb-6\">\n      <div>\n        <h1 className=\"text-2xl font-bold flex items-center gap-2\">\n          <Users className=\"w-6 h-6 text-primary\" />\n          {sharedList.name}\n        </h1>\n        <p className=\"text-sm text-muted-foreground\">\n          Shared with {participants.length} participant{participants.length !== 1 ? 's' : ''}\n        </p>\n      </div>\n      \n      <div className=\"flex items-center gap-3\">\n        {/* Participant indicators */}\n        <ParticipantAvatars participants={participants} />\n        \n        {/* Share button */}\n        <Button variant=\"outline\" size=\"sm\" onClick={() => setShowShareDialog(true)}>\n          <Share2 className=\"w-4 h-4 mr-2\" />\n          Share\n        </Button>\n        \n        {/* Settings dropdown */}\n        <DropdownMenu>\n          <DropdownMenuTrigger asChild>\n            <Button variant=\"ghost\" size=\"sm\">\n              <MoreHorizontal className=\"w-4 h-4\" />\n            </Button>\n          </DropdownMenuTrigger>\n          <DropdownMenuContent>\n            <DropdownMenuItem onClick={() => setShowParticipants(true)}>\n              View participants\n            </DropdownMenuItem>\n            <DropdownMenuItem onClick={() => setShowActivity(true)}>\n              Activity log\n            </DropdownMenuItem>\n            <DropdownMenuSeparator />\n            <DropdownMenuItem onClick={() => copyShareUrl()}>\n              Copy share link\n            </DropdownMenuItem>\n          </DropdownMenuContent>\n        </DropdownMenu>\n      </div>\n    </div>\n  );\n}\n```\n\n## Implementation Tasks\n\n### Phase 1: Basic Participant Presence\n- [ ] **Participant Tracking**: Track and display active participants\n- [ ] **Color Assignment**: Assign consistent colors to participant IDs\n- [ ] **Presence Indicators**: Show online/offline status with avatars\n- [ ] **Activity Tracking**: Track and display recent participant actions\n- [ ] **Participant List**: Modal/sidebar showing all participants\n\n### Phase 2: Real-Time Visual Feedback\n- [ ] **Editing Indicators**: Show which todos are being edited\n- [ ] **Typing Indicators**: Display when someone is typing\n- [ ] **Optimistic Updates**: Visual feedback for pending changes\n- [ ] **Animation Timing**: Smooth transitions for real-time updates\n- [ ] **Color Coordination**: Consistent participant color usage\n\n### Phase 3: Sync Status & Connection\n- [ ] **Connection Indicator**: Show online/offline/syncing status\n- [ ] **Sync Progress**: Display pending operation count\n- [ ] **Error States**: Visual feedback for sync failures\n- [ ] **Retry Actions**: Manual retry buttons for failed operations\n- [ ] **Offline Mode**: Clear offline mode indicators\n\n### Phase 4: Conflict Resolution\n- [ ] **Conflict Detection UI**: Visual indication of conflicts\n- [ ] **Resolution Options**: Choose between conflicting versions\n- [ ] **Conflict History**: Show what changed and when\n- [ ] **Auto-Resolution**: Silent resolution for simple conflicts\n- [ ] **Merge Interface**: Advanced merge options for complex conflicts\n\n### Phase 5: Enhanced Collaboration\n- [ ] **Activity Timeline**: Detailed activity log with timestamps\n- [ ] **Participant Profiles**: Enhanced participant information\n- [ ] **Cursor Tracking**: Real-time cursor positions (advanced)\n- [ ] **Voice Notes**: Audio comments on todos (future)\n- [ ] **Mentions**: @mention participants in todo text (future)\n\n## Design Considerations\n\n### Visual Hierarchy\n- **Primary**: Todo content remains the focus\n- **Secondary**: Participant indicators don't distract\n- **Tertiary**: Sync status available but not prominent\n- **Contextual**: Conflict UI only appears when needed\n\n### Color System\n```typescript\n// Consistent participant color generation\nfunction generateParticipantColor(participantId: string): string {\n  const colors = [\n    '#ef4444', '#f97316', '#eab308', '#22c55e', \n    '#06b6d4', '#3b82f6', '#8b5cf6', '#ec4899'\n  ];\n  const hash = participantId.split('').reduce((a, b) => {\n    a = ((a << 5) - a) + b.charCodeAt(0);\n    return a & a;\n  }, 0);\n  return colors[Math.abs(hash) % colors.length];\n}\n```\n\n### Performance Considerations\n- **Efficient Updates**: Only re-render changed components\n- **Debounced Indicators**: Avoid excessive typing indicator updates\n- **Cleanup**: Remove stale participant data periodically\n- **Memory Management**: Limit activity log size\n\n## Accessibility\n\n### Screen Reader Support\n- Announce participant joins/leaves\n- Describe conflict states clearly\n- Provide text alternatives for color-coded indicators\n- Support keyboard navigation for all conflict resolution\n\n### Keyboard Navigation\n- Tab through participant indicators\n- Keyboard shortcuts for conflict resolution\n- Accessible dropdown menus and modals\n- Focus management during real-time updates\n\n## Acceptance Criteria\n\n- [ ] **Participant Visibility**: Clear indication of who's online and active\n- [ ] **Real-Time Feedback**: Immediate visual response to all participant actions\n- [ ] **Sync Status**: Always-visible connection and sync status\n- [ ] **Conflict Resolution**: Intuitive UI for handling edit conflicts\n- [ ] **Performance**: Smooth animations and responsive interactions\n- [ ] **Accessibility**: Full keyboard navigation and screen reader support\n- [ ] **Mobile Friendly**: Touch-optimized for mobile collaboration\n- [ ] **Error Handling**: Clear error states and recovery options\n\n## Testing Strategy\n\n### User Experience Testing\n1. **Multi-User Scenarios**: Test with 2-5 simultaneous users\n2. **Network Conditions**: Test with slow/unreliable connections\n3. **Conflict Creation**: Deliberately create edit conflicts\n4. **Mobile Collaboration**: Touch interaction testing\n5. **Accessibility**: Screen reader and keyboard-only testing\n\n### Visual Testing\n1. **Color Consistency**: Verify participant color assignment\n2. **Animation Performance**: Smooth transitions under load\n3. **Layout Stability**: No layout shifts during real-time updates\n4. **Cross-Browser**: Visual consistency across browsers\n\n## Related Issues\n\n- Depends on: #120 (Data model design)\n- Depends on: #122 (Real-time synchronization)\n- Depends on: #123 (Share URL generation)\n- Integrates with: Existing Todo UI components\n- Enables: Advanced collaboration features\n\n## Priority and Complexity\n\n**Priority**: üü° **Medium** - Enhances collaboration experience\n**Complexity**: üü° **Moderate** - UI/UX implementation with real-time data\n**Category**: Feature, UI/UX\n\nThis issue focuses on the user experience aspects that make collaborative editing feel natural and intuitive.\n\n## Architecture Decision Records\n\n### Required ADRs for This Issue\n\n- [ ] **ADR-024: Collaborative UI Architecture**\n  - Document UI patterns for real-time collaborative features\n  - Justify participant visualization and presence indicator design\n  - Record component architecture for conflict resolution UI\n  - Document accessibility considerations for collaborative features\n\n### ADR Updates Required\n\n- [ ] **Update ADR-008: Component Architecture and Design System**\n  - Extend existing ADR to cover collaborative UI components\n  - Document new design patterns for real-time feedback\n  - Record component reusability and composition strategies\n\n### ADR Integration Requirements\n\n- [ ] Create ADRs before collaborative UI implementation begins\n- [ ] Update existing UI/UX ADRs for consistency with collaborative features\n- [ ] Document any changes to existing component patterns or design system\n- [ ] Include accessibility and performance considerations in ADR reasoning\n\n**ADR Location**: `docs/adr/ADR-024-collaborative-ui-architecture.md` and updated `docs/adr/ADR-008-component-architecture.md`\n\n---\n\n*This issue extends the UI architecture with collaborative features requiring documentation of new design patterns and component strategies.*",
        "number": 124,
        "repository": "mikiwiik/instructions-only-claude-coding",
        "title": "üë• Implement collaborative UI/UX features for shared lists",
        "type": "Issue",
        "url": "https://github.com/mikiwiik/instructions-only-claude-coding/issues/124"
      },
      "id": "PVTI_lAHOABVon84BF52zzggDPPo",
      "labels": [
        "priority-3-medium",
        "complexity-moderate",
        "category-feature"
      ],
      "lifecycle": "Backlog",
      "repository": "https://github.com/mikiwiik/instructions-only-claude-coding",
      "title": "üë• Implement collaborative UI/UX features for shared lists"
    },
    {
      "content": {
        "body": "## Summary\n\nImplement secure share URL generation and access control for shared todo lists, enabling users to create and distribute links that allow anonymous access to collaborative lists.\n\n## Problem Statement\n\nTo enable todo list sharing, we need:\n- Secure, unique URLs for each shared list\n- Access control without user authentication\n- URL-based permissions (view-only vs edit access)\n- Optional access tokens for additional security\n- QR code generation for mobile sharing\n\n## Share URL Architecture\n\n### URL Structure Design\n\n```\nhttps://app.vercel.app/shared/[listId]?token=[accessToken]&mode=[permission]\n\nExamples:\n- https://app.vercel.app/shared/abc123-def456?token=xyz789&mode=edit\n- https://app.vercel.app/shared/abc123-def456?mode=view\n- https://app.vercel.app/shared/abc123-def456  (default: edit)\n```\n\n### Access Control Strategy\n\n**Three-Tier Security Model**:\n\n1. **Public Lists**: Anyone with URL can edit\n   - No access token required\n   - Suitable for temporary collaboration\n   - Auto-expire after 30 days of inactivity\n\n2. **Token-Protected Lists**: Require access token\n   - Generated token in URL query parameter\n   - Configurable expiration (1 day to never)\n   - Suitable for longer-term sharing\n\n3. **View-Only Links**: Read-only access\n   - Separate permission level in URL\n   - Viewers can see todos but not modify\n   - Useful for sharing progress with stakeholders\n\n## Implementation Plan\n\n### 1. Share URL Generation\n\n```typescript\n// lib/shareUrls.ts\ninterface CreateShareUrlOptions {\n  listId: string;\n  permission: 'view' | 'edit';\n  requireToken: boolean;\n  expiresAt?: Date;\n  maxUses?: number;\n}\n\nexport async function createShareUrl(options: CreateShareUrlOptions): Promise<ShareUrl> {\n  const shareId = generateSecureId();\n  const accessToken = options.requireToken ? generateAccessToken() : undefined;\n  \n  const shareUrl: ShareUrl = {\n    id: shareId,\n    listId: options.listId,\n    permission: options.permission,\n    accessToken,\n    expiresAt: options.expiresAt,\n    maxUses: options.maxUses,\n    currentUses: 0,\n    createdAt: new Date(),\n    isActive: true\n  };\n\n  // Store in Vercel KV\n  await kv.set(`share:${shareId}`, shareUrl);\n  await kv.expire(`share:${shareId}`, getExpirationSeconds(options.expiresAt));\n\n  const url = buildShareUrl(shareId, accessToken, options.permission);\n  return { ...shareUrl, url };\n}\n\nfunction buildShareUrl(shareId: string, token?: string, mode?: string): string {\n  const baseUrl = process.env.NEXT_PUBLIC_BASE_URL;\n  const url = new URL(`/shared/${shareId}`, baseUrl);\n  \n  if (token) url.searchParams.set('token', token);\n  if (mode && mode !== 'edit') url.searchParams.set('mode', mode);\n  \n  return url.toString();\n}\n```\n\n### 2. Access Validation Middleware\n\n```typescript\n// middleware/validateAccess.ts\nexport async function validateShareAccess(\n  shareId: string, \n  providedToken?: string\n): Promise<AccessValidation> {\n  const shareData = await kv.get(`share:${shareId}`);\n  \n  if (!shareData || !shareData.isActive) {\n    return { valid: false, reason: 'Link not found or expired' };\n  }\n\n  if (shareData.expiresAt && new Date() > shareData.expiresAt) {\n    return { valid: false, reason: 'Link has expired' };\n  }\n\n  if (shareData.maxUses && shareData.currentUses >= shareData.maxUses) {\n    return { valid: false, reason: 'Link usage limit reached' };\n  }\n\n  if (shareData.accessToken && providedToken !== shareData.accessToken) {\n    return { valid: false, reason: 'Invalid access token' };\n  }\n\n  // Increment usage counter\n  await kv.set(`share:${shareId}`, {\n    ...shareData,\n    currentUses: shareData.currentUses + 1,\n    lastAccessAt: new Date()\n  });\n\n  return {\n    valid: true,\n    listId: shareData.listId,\n    permission: shareData.permission,\n    shareData\n  };\n}\n```\n\n### 3. Share Page Component\n\n```typescript\n// app/shared/[shareId]/page.tsx\ninterface SharePageProps {\n  params: { shareId: string };\n  searchParams: { token?: string; mode?: string };\n}\n\nexport default async function SharePage({ params, searchParams }: SharePageProps) {\n  const { shareId } = params;\n  const { token, mode } = searchParams;\n\n  // Validate access on server side\n  const accessValidation = await validateShareAccess(shareId, token);\n  \n  if (!accessValidation.valid) {\n    return <ShareAccessDenied reason={accessValidation.reason} />;\n  }\n\n  const sharedList = await getSharedList(accessValidation.listId);\n  const permission = mode || accessValidation.permission || 'edit';\n\n  return (\n    <SharedListPage \n      listId={accessValidation.listId}\n      initialData={sharedList}\n      permission={permission}\n      shareId={shareId}\n    />\n  );\n}\n```\n\n### 4. Sharing UI Components\n\n```typescript\n// components/ShareDialog.tsx\nexport function ShareDialog({ listId, isOpen, onClose }: ShareDialogProps) {\n  const [shareOptions, setShareOptions] = useState<ShareOptions>({\n    permission: 'edit',\n    requireToken: false,\n    expiresIn: '30d'\n  });\n  \n  const { mutate: createShare, data: shareUrl, isLoading } = useMutation({\n    mutationFn: (options: ShareOptions) => createShareUrl(listId, options)\n  });\n\n  return (\n    <Dialog open={isOpen} onOpenChange={onClose}>\n      <DialogContent>\n        <DialogHeader>\n          <DialogTitle>Share Todo List</DialogTitle>\n        </DialogHeader>\n        \n        <div className=\"space-y-4\">\n          {/* Permission Selection */}\n          <div>\n            <Label>Permission Level</Label>\n            <Select value={shareOptions.permission} onValueChange={(value) => \n              setShareOptions(prev => ({ ...prev, permission: value }))\n            }>\n              <SelectItem value=\"edit\">Can edit todos</SelectItem>\n              <SelectItem value=\"view\">View only</SelectItem>\n            </Select>\n          </div>\n\n          {/* Security Options */}\n          <div>\n            <Label>Security</Label>\n            <Checkbox \n              checked={shareOptions.requireToken}\n              onCheckedChange={(checked) => \n                setShareOptions(prev => ({ ...prev, requireToken: checked }))\n              }\n            >\n              Require access token\n            </Checkbox>\n          </div>\n\n          {/* Expiration */}\n          <div>\n            <Label>Link expires</Label>\n            <Select value={shareOptions.expiresIn} onValueChange={(value) => \n              setShareOptions(prev => ({ ...prev, expiresIn: value }))\n            }>\n              <SelectItem value=\"1h\">1 hour</SelectItem>\n              <SelectItem value=\"1d\">1 day</SelectItem>\n              <SelectItem value=\"7d\">1 week</SelectItem>\n              <SelectItem value=\"30d\">1 month</SelectItem>\n              <SelectItem value=\"never\">Never</SelectItem>\n            </Select>\n          </div>\n\n          {/* Generated URL */}\n          {shareUrl && (\n            <div>\n              <Label>Share URL</Label>\n              <div className=\"flex gap-2\">\n                <Input value={shareUrl.url} readOnly />\n                <Button onClick={() => copyToClipboard(shareUrl.url)}>\n                  Copy\n                </Button>\n              </div>\n              \n              {/* QR Code */}\n              <div className=\"mt-2 flex justify-center\">\n                <QRCodeComponent value={shareUrl.url} size={200} />\n              </div>\n            </div>\n          )}\n        </div>\n\n        <DialogFooter>\n          <Button variant=\"outline\" onClick={onClose}>Cancel</Button>\n          <Button onClick={() => createShare(shareOptions)} disabled={isLoading}>\n            {isLoading ? 'Creating...' : 'Create Share Link'}\n          </Button>\n        </DialogFooter>\n      </DialogContent>\n    </Dialog>\n  );\n}\n```\n\n## Implementation Tasks\n\n### Phase 1: Basic Share URL Generation\n- [ ] **Secure ID Generation**: Cryptographically secure share IDs\n- [ ] **URL Building**: Construct share URLs with proper parameters\n- [ ] **Storage**: Store share metadata in Vercel KV\n- [ ] **API Endpoints**: Create `/api/shared/create` endpoint\n- [ ] **Basic Validation**: Validate share access on page load\n\n### Phase 2: Access Control & Security\n- [ ] **Token Generation**: Secure access token creation and validation\n- [ ] **Permission Levels**: Implement view-only vs edit permissions\n- [ ] **Expiration Logic**: Time-based and usage-based expiration\n- [ ] **Middleware**: Server-side access validation\n- [ ] **Rate Limiting**: Prevent abuse of share creation\n\n### Phase 3: Sharing UI\n- [ ] **Share Dialog**: Modal for creating share links\n- [ ] **Permission Controls**: UI for selecting permission levels\n- [ ] **Security Options**: Toggle for token protection and expiration\n- [ ] **QR Code Generation**: Visual QR codes for mobile sharing\n- [ ] **Copy to Clipboard**: Easy URL copying functionality\n\n### Phase 4: Advanced Features\n- [ ] **Share Management**: List and revoke existing shares\n- [ ] **Usage Analytics**: Track share link usage\n- [ ] **Custom URLs**: Allow custom share link names\n- [ ] **Batch Sharing**: Multiple permission levels for same list\n- [ ] **Email Integration**: Send share links via email\n\n## Security Considerations\n\n### URL Security\n- **Secure Random IDs**: Use cryptographically secure random generation\n- **No Predictable Patterns**: Avoid sequential or guessable IDs\n- **Length**: Minimum 32-character share IDs for collision resistance\n- **Entropy**: Sufficient randomness to prevent brute force attacks\n\n### Access Token Security\n- **JWT Alternative**: Simple signed tokens instead of JWT overhead\n- **Time-based**: Short-lived tokens with refresh mechanism\n- **Scope Limited**: Tokens only valid for specific list access\n- **Revocation**: Ability to invalidate tokens immediately\n\n### Rate Limiting\n- **Share Creation**: Limit share link creation per IP/session\n- **Access Attempts**: Rate limit failed access attempts\n- **API Protection**: General API rate limiting via Vercel KV\n\n## Acceptance Criteria\n\n- [ ] **URL Generation**: Secure, unique URLs generated for each share\n- [ ] **Access Control**: Proper validation of permissions and tokens\n- [ ] **Permission Levels**: View-only and edit permissions working correctly\n- [ ] **Expiration**: Time-based and usage-based expiration enforced\n- [ ] **User Interface**: Intuitive sharing dialog with all options\n- [ ] **QR Codes**: Mobile-friendly QR code generation\n- [ ] **Copy Functionality**: One-click URL copying to clipboard\n- [ ] **Error Handling**: Clear error messages for invalid/expired links\n- [ ] **Performance**: Share URL validation under 100ms\n- [ ] **Security**: No information leakage in error messages\n\n## Testing Strategy\n\n### Security Testing\n1. **Token Validation**: Attempt access with invalid/expired tokens\n2. **Permission Enforcement**: Verify view-only restrictions\n3. **Rate Limiting**: Test share creation and access rate limits\n4. **URL Tampering**: Attempt to modify share URLs maliciously\n\n### Functionality Testing\n1. **Share Creation**: All permission and expiration combinations\n2. **QR Code Scanning**: Mobile QR code functionality\n3. **Link Expiration**: Verify expiration enforcement\n4. **Usage Limits**: Test maximum usage enforcement\n\n## Related Issues\n\n- Depends on: #120 (Data model design)\n- Depends on: #121 (Vercel backend infrastructure)\n- Integrates with: #122 (Real-time synchronization)\n- Enables: Enhanced collaborative UI/UX features\n\n## Priority and Complexity\n\n**Priority**: üü† **High** - Essential for sharing functionality\n**Complexity**: üü° **Moderate** - Security and URL handling\n**Category**: Feature, Security\n\nThis issue provides the entry point for all shared todo list access and establishes the security foundation for collaborative features.\n\n## Architecture Decision Records\n\n### Required ADRs for This Issue\n\n- [ ] **ADR-020: Share URL Security Architecture**\n  - Document URL generation strategy and security considerations\n  - Justify access control approach without user authentication\n  - Record token-based security vs alternative approaches\n  - Document permission system and access level design\n\n- [ ] **ADR-021: Anonymous Access Control Strategy**\n  - Document approach to access control without user accounts\n  - Justify participant identification and management strategy\n  - Record security measures for preventing abuse\n  - Document data retention and cleanup policies\n\n### ADR Integration Requirements\n\n- [ ] Create ADRs before share URL implementation begins\n- [ ] Document security implications and threat model\n- [ ] Record any changes to existing routing or page architecture\n- [ ] Include compliance and privacy considerations in ADR reasoning\n\n**ADR Location**: `docs/adr/ADR-020-share-url-security.md` and `docs/adr/ADR-021-anonymous-access-control.md`\n\n---\n\n*This issue introduces new security and access control patterns requiring comprehensive architectural documentation.*",
        "number": 123,
        "repository": "mikiwiik/instructions-only-claude-coding",
        "title": "üîó Implement share URL generation and access control",
        "type": "Issue",
        "url": "https://github.com/mikiwiik/instructions-only-claude-coding/issues/123"
      },
      "id": "PVTI_lAHOABVon84BF52zzggDPPs",
      "labels": ["priority-2-high", "complexity-moderate", "category-feature"],
      "lifecycle": "Backlog",
      "repository": "https://github.com/mikiwiik/instructions-only-claude-coding",
      "title": "üîó Implement share URL generation and access control"
    },
    {
      "content": {
        "body": "## Summary\n\nImplement interaction cycle estimation labels to complement the complexity-based system, providing granular effort estimation for Claude Code-assisted development workflows.\n\n## Problem Statement\n\nWhile complexity labels address the cognitive and architectural aspects of issues, they don't capture the iterative nature of Claude Code development. Some complex issues might require only a few interactions, while simpler issues might need more back-and-forth for refinement.\n\n## Phase 2: Interaction Cycle Labels\n\n### Proposed Cycle Classification\n\n- **cycles-1** ‚ö°: Single Claude interaction (1 prompt)\n  - Examples: Direct implementation requests, clear specifications\n  - Characteristics: Well-defined requirements, no ambiguity, standard patterns\n\n- **cycles-2-3** üîÑ: Brief back-and-forth (2-3 prompts)  \n  - Examples: Minor clarifications, simple iterations, basic testing\n  - Characteristics: Minor adjustments, clarification needs, simple validation\n\n- **cycles-4-6** üîÅ: Moderate iteration (4-6 prompts)\n  - Examples: Feature refinement, testing iterations, integration adjustments\n  - Characteristics: Iterative development, moderate exploration, multi-step validation\n\n- **cycles-7+** üåÄ: Extended collaboration (7+ prompts)\n  - Examples: Complex problem-solving, research-heavy features, architectural decisions\n  - Characteristics: Exploration needed, multiple approaches, extensive validation\n\n## Prerequisites\n\nThis issue depends on:\n- **Issue #30**: Complexity-based effort estimation (must be completed first)\n- Established complexity labeling workflow\n- Team familiarity with complexity assessment\n\n## Implementation Strategy\n\n### 1. Dual-Label System\nCombine complexity and cycles for comprehensive estimation:\n- `complexity-simple` + `cycles-1` = Quick implementation\n- `complexity-moderate` + `cycles-4-6` = Standard feature development  \n- `complexity-complex` + `cycles-7+` = Major architectural work\n\n### 2. GitHub Label Creation\nCreate cycle labels with distinct visual identity:\n```\ncycles-1    (Color: #00D4AA - Bright Green)\ncycles-2-3  (Color: #36A2EB - Light Blue)\ncycles-4-6  (Color: #FFCE56 - Warm Yellow)  \ncycles-7+   (Color: #FF6384 - Coral Red)\n```\n\n### 3. Documentation Integration\n\n#### Assessment Guidelines\n- **Historical Analysis**: Review past issues to calibrate cycle estimates\n- **Requirement Clarity**: Well-defined specs = fewer cycles\n- **Exploration Needs**: Research requirements = more cycles\n- **Integration Complexity**: Cross-system work = additional cycles\n\n#### Planning Benefits\n- **Session Planning**: Match cycles to available interaction time\n- **Workflow Optimization**: Batch similar cycle requirements\n- **Context Management**: Prepare for multi-cycle issues\n- **Progress Tracking**: Monitor cycle efficiency over time\n\n## Acceptance Criteria\n\n### Phase 2 Implementation\n- [ ] Verify Phase 1 (complexity labels) is complete and working\n- [ ] Create cycles-1 label (bright green #00D4AA)\n- [ ] Create cycles-2-3 label (light blue #36A2EB)\n- [ ] Create cycles-4-6 label (warm yellow #FFCE56)\n- [ ] Create cycles-7+ label (coral red #FF6384)\n\n### Documentation Updates\n- [ ] Update CLAUDE.md with cycle estimation guidelines\n- [ ] Add dual-label system explanation to development workflow\n- [ ] Update README.md with comprehensive estimation approach\n- [ ] Document cycle assessment criteria and examples\n- [ ] Include historical analysis for calibration\n\n### Dual-Label Assignment\n- [ ] Assign cycle estimates to all existing complexity-labeled issues\n- [ ] Test dual-label filtering and organization\n- [ ] Validate estimation accuracy against historical data\n- [ ] Adjust cycle estimates based on initial usage\n\n### Workflow Integration\n- [ ] Document session planning using dual labels\n- [ ] Integrate cycle planning with priority system\n- [ ] Update issue templates to include cycle estimation\n- [ ] Create estimation guidelines for new issues\n\n## Expected Dual-Label Examples\n\n### Quick Wins\n- `complexity-minimal` + `cycles-1`: Documentation fixes\n- `complexity-simple` + `cycles-2-3`: Standard component creation\n\n### Standard Development\n- `complexity-moderate` + `cycles-4-6`: Feature implementation\n- `complexity-simple` + `cycles-4-6`: Highly iterative simple features\n\n### Major Work\n- `complexity-complex` + `cycles-7+`: Infrastructure setup\n- `complexity-moderate` + `cycles-7+`: Research-heavy features\n\n## Benefits of Dual-Label System\n\n### Enhanced Planning\n- **Precision**: More accurate effort estimation combining both dimensions\n- **Resource Allocation**: Match estimation to available time and focus\n- **Context Switching**: Plan for multi-session vs. single-session work\n- **Learning Optimization**: Balance complexity with interaction intensity\n\n### Workflow Optimization\n- **Session Types**: Quick cycles for focused sessions, long cycles for exploration\n- **Batching**: Group similar cycle requirements for efficiency\n- **Progress Tracking**: Monitor both complexity delivery and interaction efficiency\n- **Continuous Improvement**: Refine estimation accuracy over time\n\n### Educational Value\n- **Estimation Skills**: Learn multi-dimensional effort assessment\n- **Workflow Awareness**: Understand interaction patterns in AI-assisted development\n- **Project Management**: Experience comprehensive planning approaches\n- **Process Improvement**: Iterative refinement of estimation practices\n\n## Success Metrics\n\n- **Estimation Accuracy**: Compare actual vs. estimated cycles\n- **Planning Effectiveness**: Improved session planning and execution\n- **Workflow Optimization**: Reduced context switching and improved focus\n- **Learning Outcomes**: Enhanced project management and estimation skills\n\nü§ñ Generated with [Claude Code](https://claude.ai/code)",
        "number": 31,
        "repository": "mikiwiik/instructions-only-claude-coding",
        "title": "Add interaction cycle estimation labels (Phase 2)",
        "type": "Issue",
        "url": "https://github.com/mikiwiik/instructions-only-claude-coding/issues/31"
      },
      "id": "PVTI_lAHOABVon84BF52zzggDPP8",
      "labels": ["priority-4-low", "complexity-complex", "category-dx"],
      "lifecycle": "Icebox",
      "repository": "https://github.com/mikiwiik/instructions-only-claude-coding",
      "title": "Add interaction cycle estimation labels (Phase 2)"
    },
    {
      "content": {
        "body": "## Description\nCreate comprehensive documentation for our testing strategy to guide development and ensure consistent testing practices across the Todo application.\n\n## Context\nCurrently we have basic testing setup with Jest + React Testing Library, but we need comprehensive documentation that covers:\n- Testing philosophy and approach\n- Test organization and structure \n- Testing patterns and best practices\n- Coverage requirements and goals\n- Integration with TDD workflow\n\n## Tasks\n- [ ] Document testing philosophy and approach (TDD, user-behavior focused)\n- [ ] Create testing hierarchy (unit ‚Üí integration ‚Üí e2e)\n- [ ] Document test organization patterns and file structure\n- [ ] Define coverage requirements and quality gates\n- [ ] Document testing utilities and helper patterns\n- [ ] Create testing guidelines for different component types\n- [ ] Document mock strategies for external dependencies\n- [ ] Define CI/CD testing pipeline requirements\n- [ ] Create testing checklist for new features\n- [ ] Document debugging and troubleshooting approaches\n\n## Deliverables\n- [ ] `docs/testing/STRATEGY.md` - Main testing strategy document\n- [ ] `docs/testing/PATTERNS.md` - Common testing patterns and examples\n- [ ] `docs/testing/GUIDELINES.md` - Development guidelines and checklists\n- [ ] Update `CLAUDE.md` with testing requirements for new features\n\n## Acceptance Criteria\n- [ ] Comprehensive testing strategy documentation is complete\n- [ ] Documentation covers all aspects of our testing approach\n- [ ] Examples and patterns are provided for common scenarios\n- [ ] Guidelines are actionable and specific to our stack\n- [ ] Documentation is integrated with existing ADR system\n\n## Priority\nüü¢ High - Foundation for future development\n\n## Dependencies\n- Depends on Issue #16 (fix deprecation warnings) being completed first\n\n## Labels\ndocumentation, testing, strategy, foundation",
        "number": 26,
        "repository": "mikiwiik/instructions-only-claude-coding",
        "title": "üìã Create Comprehensive Testing Strategy Documentation",
        "type": "Issue",
        "url": "https://github.com/mikiwiik/instructions-only-claude-coding/issues/26"
      },
      "id": "PVTI_lAHOABVon84BF52zzggDPQM",
      "labels": [
        "priority-3-medium",
        "complexity-moderate",
        "category-documentation"
      ],
      "lifecycle": "Icebox",
      "repository": "https://github.com/mikiwiik/instructions-only-claude-coding",
      "title": "üìã Create Comprehensive Testing Strategy Documentation"
    },
    {
      "content": {
        "body": "## Summary\n\nStrategic security tooling planning and additional security layers beyond CodeQL (#154) and Copilot (#155). Focuses on ADR creation, secrets detection, security policy documentation, and unified security reporting.\n\n**Scope**: This issue covers the strategic planning and additional security tooling NOT covered by tactical implementation issues #154 (CodeQL) and #155 (Copilot Autofix).\n\n## What's Already Covered by Other Issues\n\n- ‚úÖ **CodeQL source code scanning** ‚Üí Issue #154\n- ‚úÖ **Copilot Autofix integration** ‚Üí Issue #155\n- ‚úÖ **npm audit dependency scanning** ‚Üí Issue #146 (DONE)\n- ‚úÖ **SonarCloud static analysis** ‚Üí Already active\n- ‚úÖ **Weekly security scanning** ‚Üí Already implemented\n- ‚úÖ **GitHub security alerts** ‚Üí Already enabled\n\n## Unique Scope of This Issue\n\n### Phase 1: Strategic Planning (REQUIRED)\n\n#### ADR Creation for Security Tooling Strategy\n**üö® CRITICAL**: Must create ADR per project guidelines before implementation.\n\n**Research Requirements:**\n- [ ] Evaluate security scanning tools complementing existing setup\n  - GitHub Advanced Security features\n  - Snyk vs. existing tools\n  - Additional SonarCloud capabilities\n  - Cost vs. benefit for learning project\n- [ ] Research DevSecOps best practices for CI/CD integration\n- [ ] Define security policy framework (thresholds, enforcement rules)\n- [ ] Compare secrets detection tools (GitGuardian, TruffleHog, GitHub native)\n- [ ] Evaluate SARIF integration options for unified reporting\n- [ ] **Docker security considerations** (integration with #11)\n- [ ] **CI/CD pipeline security integration** (integration with #162)\n\n**ADR Requirements:**\n- [ ] Document security tooling alternatives considered\n- [ ] Evaluation criteria (cost, features, learning value, integration complexity)\n- [ ] Final recommendation with implementation approach\n- [ ] Security policy and threshold decisions\n- [ ] Integration strategy with existing tools (SonarQube, CodeQL, npm audit)\n- [ ] Secrets detection tool selection rationale\n- [ ] **Docker container security scanning approach**\n- [ ] **Parallel job security workflow integration** (#162)\n\n### Phase 2: Implementation (After ADR Approval)\n\n#### 1. Secrets Detection\n**Prevent accidental credential commits** (NOT covered by #154/#155)\n\n- [ ] Implement chosen secrets detection tool\n- [ ] Configure pre-commit hooks or CI checks\n- [ ] Define secrets patterns to detect (.env, API keys, tokens, etc.)\n- [ ] Set up alerts for detected secrets\n- [ ] Document secrets handling procedures\n- [ ] **Integrate with Docker environment** (#11)\n\n#### 2. Security Policy Documentation\n**Formal security standards and thresholds** (NOT covered by #154/#155)\n\n- [ ] Define vulnerability severity thresholds\n- [ ] Document PR merge security requirements\n- [ ] Create security incident response process\n- [ ] Establish vulnerability disclosure policy\n- [ ] Define security testing requirements\n- [ ] **Docker security best practices**\n- [ ] **CI/CD security gate definitions**\n\n#### 3. SARIF Integration\n**Unified security findings reporting** (NOT covered by #154/#155)\n\n- [ ] Configure SARIF output from all security tools\n- [ ] Integrate findings into GitHub Security tab\n- [ ] Set up unified security dashboard\n- [ ] Configure security findings aggregation\n- [ ] Test cross-tool reporting\n- [ ] **Align with parallel job structure** (#162)\n\n#### 4. Custom Security Rules\n**Project-specific security patterns** (NOT covered by #154/#155)\n\n- [ ] Identify project-specific security patterns\n- [ ] Implement custom ESLint security rules\n- [ ] Configure custom SonarQube rules\n- [ ] Document custom rule rationale\n- [ ] Test custom rule enforcement\n\n#### 5. Security Testing with Known Vulnerabilities\n**Validation of security pipeline** (NOT covered by #154/#155)\n\n- [ ] Create test repository with known vulnerabilities\n- [ ] Verify all security tools detect test vulnerabilities\n- [ ] Validate alert and reporting mechanisms\n- [ ] Document security pipeline validation process\n- [ ] Establish baseline security metrics\n\n#### 6. Docker Security Integration (NEW - Integration with #11)\n**Container and image security**\n\n- [ ] Container vulnerability scanning\n- [ ] Base image security verification\n- [ ] Docker secrets management\n- [ ] Container runtime security best practices\n- [ ] Integration with Docker development workflow\n\n## CI/CD Pipeline Integration (Integration with #162)\n\n### Parallel Job Security Workflow\nSecurity scans should integrate with optimized parallel job structure:\n\n```yaml\njobs:\n  security-scan:\n    runs-on: ubuntu-latest\n    steps:\n      - Secrets detection\n      - SARIF aggregation\n      - Security policy enforcement\n```\n\n### Performance Considerations\n- Security scans run in parallel with other jobs\n- Cached security scan results where appropriate\n- Non-blocking security checks vs. blocking gates\n- Integration with existing security-scan.yml workflow\n\n## Acceptance Criteria\n\n### Phase 1: Strategic Planning\n- [ ] **ADR created and approved** for comprehensive security tooling strategy\n- [ ] Secrets detection tool selected and documented in ADR\n- [ ] Security policy framework defined\n- [ ] SARIF integration approach documented\n- [ ] **Docker security approach defined** (#11 integration)\n- [ ] **CI/CD security workflow structure designed** (#162 integration)\n- [ ] **Update ADR index** with security tooling decision\n\n### Phase 2: Implementation\n- [ ] Secrets detection implemented and tested\n- [ ] Security policy documentation published\n- [ ] SARIF integration configured across all tools\n- [ ] Custom security rules implemented\n- [ ] Security pipeline validated with known vulnerabilities\n- [ ] All security findings visible in unified dashboard\n- [ ] Security threshold enforcement configured for PR merges\n- [ ] **Docker security scanning operational**\n- [ ] **Security workflows integrated with parallel CI/CD jobs**\n\n## Dependencies & Related Issues\n\n**Builds on:**\n- #146 - npm audit dependency scanning ‚úÖ DONE\n- #154 - CodeQL source code scanning üîÑ OPEN (tactical implementation)\n- #155 - Copilot Autofix evaluation üîÑ OPEN (tactical implementation)\n\n**Integrates with:**\n- **#11 - Docker Development**: Container security, image scanning, Docker secrets management\n- **#162 - CI/CD Optimization**: Parallel job integration, security workflow performance\n- #147 - Dependabot configuration\n- #148 - Security vulnerability reporting process\n\n**Original dependencies preserved:**\n- #22 - Runs after test execution\n- #21 - Part of overall CI/CD strategy\n- #84 - Extends existing SonarCloud integration\n\n## Defense-in-Depth Architecture\n\n```\n‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n‚îÇ         Complete Security Scanning Strategy        ‚îÇ\n‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§\n‚îÇ Layer 1: Dependency Security                       ‚îÇ\n‚îÇ   - npm audit (#146) ‚úÖ DONE                       ‚îÇ\n‚îÇ   - Dependabot (#147) üîÑ OPEN                      ‚îÇ\n‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§\n‚îÇ Layer 2: Source Code Security                      ‚îÇ\n‚îÇ   - SonarCloud ‚úÖ ACTIVE                            ‚îÇ\n‚îÇ   - CodeQL (#154) üîÑ OPEN                          ‚îÇ\n‚îÇ   - Custom rules (#23) ‚ùå THIS ISSUE               ‚îÇ\n‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§\n‚îÇ Layer 3: Secrets & Credentials                     ‚îÇ\n‚îÇ   - Secrets detection (#23) ‚ùå THIS ISSUE          ‚îÇ\n‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§\n‚îÇ Layer 4: Container Security (NEW)                  ‚îÇ\n‚îÇ   - Docker scanning (#23 + #11) ‚ùå THIS ISSUE      ‚îÇ\n‚îÇ   - Image vulnerability detection ‚ùå THIS ISSUE     ‚îÇ\n‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§\n‚îÇ Layer 5: AI-Assisted Remediation                   ‚îÇ\n‚îÇ   - Copilot Autofix (#155) üîÑ OPEN                ‚îÇ\n‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§\n‚îÇ Layer 6: Process & Policy (#23)                    ‚îÇ\n‚îÇ   - Security policy ‚ùå THIS ISSUE                   ‚îÇ\n‚îÇ   - SARIF integration ‚ùå THIS ISSUE                 ‚îÇ\n‚îÇ   - Vulnerability disclosure ‚ùå THIS ISSUE          ‚îÇ\n‚îÇ   - CI/CD integration (#162) ‚ùå THIS ISSUE          ‚îÇ\n‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n```\n\n## Priority\nüî¥ High - Strategic security planning and critical missing layers\n\n## Labels\nsecurity, ci-cd, adr, research, devsecops, policy",
        "number": 23,
        "repository": "mikiwiik/instructions-only-claude-coding",
        "title": "Implement security scanning in CI/CD pipeline",
        "type": "Issue",
        "url": "https://github.com/mikiwiik/instructions-only-claude-coding/issues/23"
      },
      "id": "PVTI_lAHOABVon84BF52zzggDPQY",
      "labels": [
        "priority-2-high",
        "complexity-complex",
        "category-infrastructure"
      ],
      "lifecycle": "Icebox",
      "repository": "https://github.com/mikiwiik/instructions-only-claude-coding",
      "title": "Implement security scanning in CI/CD pipeline"
    },
    {
      "content": {
        "body": "## Problem Statement\n\nThe `/select-next-issue` and `/quick-wins` custom commands currently query ALL open issues without considering GitHub Projects Lifecycle states. This means they include **Icebox** items (raw, unrefined ideas) in their recommendations, which shouldn't be part of active issue selection.\n\n**Current behavior**:\n```bash\ngh issue list --state open  # Returns ALL open issues including Icebox\n```\n\n**Expected behavior**:\n- Default: Recommend only from **Backlog** or **Active** lifecycle states\n- Optional: Add explicit flag to include Icebox items when needed\n\n## Context\n\nGitHub Projects uses **Lifecycle** field to track idea maturity:\n- **Icebox**: Raw ideas, minimal requirements, not ready for work\n- **Backlog**: Triaged and ready for selection\n- **Active**: Currently being worked on (1-2 issues)\n- **Done**: Completed\n\nCommands should respect this workflow and exclude unrefined Icebox items by default.\n\n## Scope\n\n### 1. Update `/select-next-issue` Command\n\n**File**: `.claude/commands/select-next-issue.md`\n\n**Changes needed**:\n\n1. **Default Behavior**: Query GitHub Projects for items where `Lifecycle=\"Backlog\"` OR `Lifecycle=\"Active\"`\n   ```bash\n   gh project item-list 1 --owner mikiwiik --format json | \\\n     jq '.items[] | select(.fieldValueByName.Lifecycle.name == \"Backlog\" or .fieldValueByName.Lifecycle.name == \"Active\")'\n   ```\n\n2. **Add \"all\" Filter Option**:\n   - If `$1 = \"all\"`: Include all Lifecycle states (Icebox, Backlog, Active)\n   - Default: Only Backlog + Active\n\n3. **Update Command Description**:\n   ```markdown\n   - If $1 = \"all\": Include all open issues regardless of Lifecycle state\n   - Default (no argument): Only consider Backlog and Active issues (excludes Icebox)\n   ```\n\n4. **Update Analysis Framework** section to mention Lifecycle filtering\n\n**Implementation approach**:\n- Use `gh project item-list` instead of `gh issue list` for default behavior\n- Extract issue numbers from project items\n- Fetch full issue details for selected items\n- Fall back to `gh issue list` only when `$1 = \"all\"`\n\n---\n\n### 2. Update `/quick-wins` Command\n\n**File**: `.claude/commands/quick-wins.md`\n\n**Changes needed**:\n\n1. **Lifecycle Filtering**: Add filter for `Lifecycle=\"Backlog\"` OR `Lifecycle=\"Active\"`\n   ```bash\n   gh project item-list 1 --owner mikiwiik --format json | \\\n     jq '.items[] | select(.fieldValueByName.Lifecycle.name == \"Backlog\" or .fieldValueByName.Lifecycle.name == \"Active\")'\n   ```\n\n2. **Update Command Description**:\n   ```markdown\n   1. **Fetch Backlog/Active Issues**: Get issues from Backlog or Active lifecycle (excludes Icebox ideas)\n   2. **Filter for Quick Wins**: Identify issues that are:\n      - High priority (priority-2-high) + Simple complexity (complexity-simple or complexity-minimal)\n      - Medium priority (priority-3-medium) + Minimal complexity (complexity-minimal)\n   ```\n\n3. **Rationale Note**:\n   ```markdown\n   **Note**: Quick wins come from triaged, ready-to-work issues (Backlog/Active). \n   Icebox items are excluded as they haven't been refined yet.\n   ```\n\n---\n\n## Technical Implementation Details\n\n### GitHub Projects Query Pattern\n\n**Get project items with Lifecycle filtering**:\n```bash\n# Get project items\ngh project item-list 1 --owner mikiwiik --format json > /tmp/project-items.json\n\n# Filter by Lifecycle\njq '.items[] | \n  select(\n    .fieldValueByName.Lifecycle.name == \"Backlog\" or \n    .fieldValueByName.Lifecycle.name == \"Active\"\n  ) | \n  .content.number' /tmp/project-items.json\n```\n\n**Extract issue numbers and fetch details**:\n```bash\n# Get issue numbers from filtered items\nISSUE_NUMBERS=$(jq -r '.items[] | \n  select(.fieldValueByName.Lifecycle.name == \"Backlog\" or .fieldValueByName.Lifecycle.name == \"Active\") | \n  .content.number' /tmp/project-items.json)\n\n# Fetch full issue details\nfor issue in $ISSUE_NUMBERS; do\n  gh issue view $issue --json number,title,labels,createdAt,updatedAt\ndone\n```\n\n### Alternative: Combined Query\n\nUse `gh project item-list` with JSON processing in a single pipeline:\n```bash\ngh project item-list 1 --owner mikiwiik --format json | \\\n  jq -r '.items[] | \n    select(\n      .fieldValueByName.Lifecycle.name == \"Backlog\" or \n      .fieldValueByName.Lifecycle.name == \"Active\"\n    ) | \n    {\n      number: .content.number,\n      title: .content.title,\n      labels: .labels,\n      lifecycle: .fieldValueByName.Lifecycle.name,\n      status: .fieldValueByName.Status.name\n    }'\n```\n\n---\n\n## Updated Filter Logic\n\n### `/select-next-issue` Filter Options\n\n```markdown\n**Filter Logic** (if $1 provided):\n\n- If $1 = \"all\": Include all Lifecycle states (Icebox, Backlog, Active)\n- If $1 = \"high\": Focus on priority-2-high issues (Backlog/Active only)\n- If $1 = \"medium\": Focus on priority-3-medium issues (Backlog/Active only)\n- If $1 = \"low\": Focus on priority-4-low issues (Backlog/Active only)\n- If $1 = \"simple\": Focus on complexity-simple issues (Backlog/Active only)\n- If $1 = \"quick\": Focus on complexity-minimal issues (Backlog/Active only)\n- If $1 = \"moderate\": Focus on complexity-moderate issues (Backlog/Active only)\n- Default (no argument): All Backlog/Active issues\n```\n\n---\n\n## Acceptance Criteria\n\n### `/select-next-issue` Command\n- [ ] Default behavior filters by Lifecycle=\"Backlog\" OR \"Active\"\n- [ ] Icebox items excluded from default recommendations\n- [ ] `$1 = \"all\"` argument includes Icebox items\n- [ ] Filter options (high/medium/low/simple/quick/moderate) work with Lifecycle filtering\n- [ ] Command description updated to document Lifecycle filtering\n- [ ] Testing: Verify Icebox items are excluded by default\n- [ ] Testing: Verify \"all\" argument includes Icebox items\n\n### `/quick-wins` Command\n- [ ] Default behavior filters by Lifecycle=\"Backlog\" OR \"Active\"\n- [ ] Icebox items excluded from quick wins identification\n- [ ] Command description updated to document Lifecycle filtering\n- [ ] Rationale note explains why Icebox is excluded\n- [ ] Testing: Verify only triaged issues appear in quick wins\n\n### General\n- [ ] Both commands work correctly with GitHub Projects API\n- [ ] Error handling for missing project or lifecycle field\n- [ ] Documentation updated in both command files\n- [ ] Commands tested with real project data\n\n---\n\n## Related Issues\n\n- **#192**: GitHub Projects adoption (original implementation)\n- **#247**: Integration of GitHub Projects status updates into `/work-on` workflow\n- **#274**: Update documentation to reflect actual Status field options\n\n---\n\n## Labels\n\n- `priority-2-high` - Affects core issue selection workflow\n- `complexity-simple` - Well-defined changes to two command files\n- `category-dx` - Developer experience and workflow tooling\n- `claude-workflow` - Affects Claude Code custom commands\n\n---\n\n## Estimated Effort\n\n- Update `/select-next-issue`: 30 minutes\n- Update `/quick-wins`: 20 minutes\n- Testing both commands: 20 minutes\n- Documentation updates: 10 minutes\n- **Total: ~1.5 hours**\n\n---\n\n## Implementation Notes\n\n- Follow instruction-only development principles\n- Test with actual project data before committing\n- Ensure graceful fallback if project query fails\n- Maintain backward compatibility where possible\n- Document new filter options clearly\n",
        "number": 276,
        "repository": "mikiwiik/instructions-only-claude-coding",
        "title": "Update custom commands to filter by GitHub Projects Lifecycle states",
        "type": "Issue",
        "url": "https://github.com/mikiwiik/instructions-only-claude-coding/issues/276"
      },
      "id": "PVTI_lAHOABVon84BF52zzggMn4I",
      "labels": [
        "priority-2-high",
        "complexity-simple",
        "claude-workflow",
        "category-dx"
      ],
      "lifecycle": "Active",
      "linked pull requests": [
        "https://github.com/mikiwiik/instructions-only-claude-coding/pull/280"
      ],
      "repository": "https://github.com/mikiwiik/instructions-only-claude-coding",
      "status": "Done",
      "title": "Update custom commands to filter by GitHub Projects Lifecycle states"
    },
    {
      "content": {
        "body": "## Overview\n\nComplete the code complexity refactoring started in #259 by addressing the remaining 2 high-severity violations in TodoItem.tsx and ConfirmationDialog.tsx.\n\n## Context\n\nIssue #259 and PR #278 established code complexity standards (ADR-027) and fixed 3/5 violations. The remaining 2 violations were temporarily suppressed with `eslint-disable` comments pending proper refactoring:\n\n```typescript\n// app/components/TodoItem.tsx:107\n// TODO: Refactor to reduce cognitive complexity - see docs/quality/remaining-complexity-fixes.md\n// eslint-disable-next-line complexity\n\n// app/components/ConfirmationDialog.tsx:98, 111\n// TODO: Refactor to reduce nesting depth - see docs/quality/remaining-complexity-fixes.md\n// eslint-disable-next-line max-depth\n```\n\n## Remaining Violations\n\n**TodoItem.tsx**:\n- Cognitive complexity: 29 (limit 15) - Line 108\n- Function length: 385 lines (warning 150)\n- Issue: Complex gesture handling, state management, and conditional rendering\n\n**ConfirmationDialog.tsx**:\n- Nesting depth: 5 levels (limit 4) - Lines 97, 108  \n- Cognitive complexity: 31 (limit 15) - Keyboard handler\n- Issue: Deep nesting in Tab key focus trap logic\n\n## Implementation Plans\n\nComplete implementation plans with TDD strategies are documented in `docs/quality/remaining-complexity-fixes.md`:\n\n### TodoItem.tsx Refactoring (2-3 hours)\n\n**Strategy:**\n1. Extract `useTodoGestures` hook for swipe gesture handling\n2. Create `gestureHelpers.ts` utility module for touch event composition\n3. Refactor main TodoItem component to use extracted hook\n4. Write 15+ test cases for gesture logic (TDD approach)\n\n**Expected Outcome:**\n- Cognitive complexity: 29 ‚Üí ‚â§15\n- Function length: 385 ‚Üí ~250 lines\n- Improved testability and maintainability\n\n### ConfirmationDialog.tsx Refactoring (2-3 hours)\n\n**Strategy:**\n1. Extract `useFocusTrap` hook for focus management\n2. Extract `useDialogKeyboard` hook for keyboard event handling\n3. Simplify nesting in Tab key handler using helper functions\n4. Write 20+ test cases for focus trap and keyboard navigation (TDD approach)\n\n**Expected Outcome:**\n- Nesting depth: 5 ‚Üí ‚â§3\n- Cognitive complexity: 31 ‚Üí ‚â§15 per function\n- Maintained accessibility (WCAG 2.2 AA compliance critical)\n\n## Acceptance Criteria\n\n- [ ] Remove all `eslint-disable` comments added in PR #278\n- [ ] TodoItem cognitive complexity ‚â§15\n- [ ] ConfirmationDialog nesting depth ‚â§4\n- [ ] All existing tests pass (no regression)\n- [ ] New tests for extracted hooks (TDD approach)\n- [ ] ESLint complexity rules pass (zero errors)\n- [ ] SonarCloud reports 0 high-severity code complexity issues\n- [ ] Accessibility unchanged (WCAG 2.2 AA compliance maintained)\n- [ ] Full test coverage maintained (90%+)\n\n## Implementation Checklist\n\n### TodoItem.tsx\n- [ ] Create `app/hooks/useTodoGestures.ts`\n- [ ] Create `app/__tests__/hooks/useTodoGestures.test.tsx` (TDD - tests first!)\n- [ ] Create `app/utils/gestureHelpers.ts`\n- [ ] Create `app/__tests__/utils/gestureHelpers.test.ts` (TDD - tests first!)\n- [ ] Refactor `app/components/TodoItem.tsx`\n- [ ] Run all TodoItem test suites and verify pass\n- [ ] Run ESLint and verify no complexity errors\n- [ ] Commit: \"refactor: reduce complexity in TodoItem component\"\n\n### ConfirmationDialog.tsx\n- [ ] Create `app/hooks/useFocusTrap.ts`\n- [ ] Create `app/__tests__/hooks/useFocusTrap.test.ts` (TDD - tests first!)\n- [ ] Create `app/hooks/useDialogKeyboard.ts`\n- [ ] Create `app/__tests__/hooks/useDialogKeyboard.test.ts` (TDD - tests first!)\n- [ ] Refactor `app/components/ConfirmationDialog.tsx`\n- [ ] Run all ConfirmationDialog tests and verify pass\n- [ ] Verify accessibility (focus trap, keyboard nav) unchanged\n- [ ] Run ESLint and verify no complexity errors\n- [ ] Commit: \"refactor: extract focus trap logic in ConfirmationDialog\"\n\n### Final Verification\n- [ ] Run full test suite: `npm test`\n- [ ] Verify test coverage ‚â•90%: `npm test -- --coverage`\n- [ ] Run ESLint: `npm run lint`\n- [ ] Build verification: `npm run build`\n- [ ] SonarCloud analysis (all 5 high severity issues resolved)\n\n## Testing Strategy\n\n**TDD Approach (Required):**\n1. Write tests FIRST for each extracted function/hook\n2. Red ‚Üí Green ‚Üí Refactor cycle\n3. Test coverage ‚â•90% for all new code\n\n**Test Types:**\n- Unit tests for hooks and utilities (Jest + React Testing Library)\n- Integration tests for component behavior\n- Accessibility tests (keyboard navigation, focus management)\n- Regression tests (existing functionality unchanged)\n\n## Estimated Effort\n\n**Total: 4-6 hours** (2-3 hours per component)\n- TodoItem refactoring: 2-3 hours\n- ConfirmationDialog refactoring: 2-3 hours\n- Both are well-scoped with detailed implementation plans ready\n\n## Related\n\n- **Parent Issue**: #259 (Fix SonarCloud High Severity Code Complexity Issues)\n- **PR**: #278 (Established standards, added temporary suppressions)\n- **ADR**: [docs/adr/027-code-complexity-standards.md](../docs/adr/027-code-complexity-standards.md)\n- **Guidelines**: [docs/guidelines/code-complexity-guidelines.md](../docs/guidelines/code-complexity-guidelines.md)\n- **Implementation Plans**: [docs/quality/remaining-complexity-fixes.md](../docs/quality/remaining-complexity-fixes.md)\n\n## Success Metrics\n\n**Before:**\n- TodoItem complexity: 29 (93% over limit)\n- ConfirmationDialog nesting: 5 levels (25% over limit)\n- 2 high-severity SonarCloud violations\n\n**After:**\n- TodoItem complexity: ‚â§15 ‚úÖ\n- ConfirmationDialog nesting: ‚â§4 ‚úÖ\n- 0 high-severity SonarCloud violations ‚úÖ\n- All complexity standards from ADR-027 fully enforced\n\n---\n\nü§ñ Generated with [Claude Code](https://claude.com/claude-code)",
        "number": 283,
        "repository": "mikiwiik/instructions-only-claude-coding",
        "title": "Complete Code Complexity Refactoring (TodoItem + ConfirmationDialog)",
        "type": "Issue",
        "url": "https://github.com/mikiwiik/instructions-only-claude-coding/issues/283"
      },
      "id": "PVTI_lAHOABVon84BF52zzggUd4c",
      "labels": [
        "priority-2-high",
        "complexity-moderate",
        "category-infrastructure"
      ],
      "lifecycle": "Done",
      "linked pull requests": [
        "https://github.com/mikiwiik/instructions-only-claude-coding/pull/285"
      ],
      "repository": "https://github.com/mikiwiik/instructions-only-claude-coding",
      "status": "Done",
      "title": "Complete Code Complexity Refactoring (TodoItem + ConfirmationDialog)"
    },
    {
      "content": {
        "body": "The app page title as shown in a browser tab still uses the old project name \"My First Claude Code\": <img width=\"2668\" height=\"1684\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/745a77d9-db0a-44d2-898f-0102b02cb3c3\" />\n\n2 tasks: \n* Let's update the page title to reflect the current project name\n* Let's ensure the old project name is not used anywhere in the codebase\n",
        "number": 289,
        "repository": "mikiwiik/instructions-only-claude-coding",
        "title": "bug: App page title still uses old project name",
        "type": "Issue",
        "url": "https://github.com/mikiwiik/instructions-only-claude-coding/issues/289"
      },
      "id": "PVTI_lAHOABVon84BF52zzggU7mM",
      "labels": ["priority-2-high", "complexity-simple", "category-feature"],
      "lifecycle": "Done",
      "linked pull requests": [
        "https://github.com/mikiwiik/instructions-only-claude-coding/pull/290"
      ],
      "repository": "https://github.com/mikiwiik/instructions-only-claude-coding",
      "status": "Done",
      "title": "bug: App page title still uses old project name"
    },
    {
      "content": {
        "body": "## Description\n\nSet up a secure Docker container for running Claude Code using SSH-based access, limiting AI agent access to the host file system while maintaining full development capabilities.\n\n**Two Implementation Approaches:**\n\n1. **Custom Implementation**: Build Docker setup from scratch tailored to this project\n2. **Use Existing Solution**: Adopt [agenttisen-ohjelmoinnin-kontti](https://github.com/sitrafund/agenttisen-ohjelmoinnin-kontti) as-is or with modifications\n\n## Motivation\n\n### Security Benefits\n- **File Access Isolation**: Claude Code operates only within container boundaries\n- **Controlled Project Scope**: AI can only access explicitly mounted project directory\n- **Host System Protection**: Prevents accidental access to sensitive files (SSH keys, credentials, etc.)\n- **Clear Security Boundaries**: Container provides explicit separation between AI workspace and host\n\n### Development Benefits\n- **Environment Consistency**: Same Claude Code environment across all developers\n- **Persistent Sessions**: Claude authentication survives container restarts\n- **VS Code Integration**: Works seamlessly with VS Code Remote-SSH extension\n- **Terminal Access**: Also accessible via direct SSH for terminal-based workflows\n\n## Implementation Options\n\n### Option 1: Use agenttisen-ohjelmoinnin-kontti (Recommended Starting Point)\n\n**Repository**: https://github.com/sitrafund/agenttisen-ohjelmoinnin-kontti\n\n**Pros**:\n- ‚úÖ Proven architecture already working\n- ‚úÖ Faster implementation (days vs weeks)\n- ‚úÖ Well-documented setup process\n- ‚úÖ Active maintenance and community support\n- ‚úÖ Can fork and customize as needed\n\n**Cons**:\n- ‚ö†Ô∏è May include features we don't need\n- ‚ö†Ô∏è Requires understanding existing codebase\n- ‚ö†Ô∏è May need adaptation for this project's specific needs\n\n**What It Provides**:\n- SSH server in container (port 2222)\n- Claude Code CLI pre-installed\n- Automated setup script ()\n- Session persistence configuration\n- VS Code Remote-SSH integration guide\n\n**Adoption Strategy**:\n1. Fork or vendor the repository\n2. Test with this todo app project\n3. Document project-specific setup\n4. Customize as needed (ports, volumes, etc.)\n5. Integrate with existing development workflow\n\n### Option 2: Custom Implementation\n\n**Pros**:\n- ‚úÖ Full control over architecture\n- ‚úÖ Only includes exactly what we need\n- ‚úÖ Optimized for this project's workflow\n- ‚úÖ Learning opportunity\n\n**Cons**:\n- ‚ö†Ô∏è More time investment\n- ‚ö†Ô∏è Need to solve already-solved problems\n- ‚ö†Ô∏è More testing and validation required\n- ‚ö†Ô∏è Maintenance burden\n\n**What We'd Build**:\n- Custom Dockerfile for Claude Code container\n- docker-compose.yml configuration\n- Setup/initialization scripts\n- Documentation and troubleshooting guide\n\n## Recommended Approach\n\n**Start with Option 1 (agenttisen-ohjelmoinnin-kontti)**, then customize:\n\n1. **Phase 1 - Adopt**: Use as-is to validate the approach\n2. **Phase 2 - Test**: Verify it works with this project\n3. **Phase 3 - Document**: Create project-specific setup guide\n4. **Phase 4 - Customize**: Adapt as needed based on experience\n\n**Decision Point**: After Phase 2, evaluate if customization is needed or if the existing solution is sufficient.\n\n## Implementation Requirements (Either Option)\n\n### Docker Infrastructure\n- [ ] Create/adopt Dockerfile for Claude Code container\n  - Base image selection (Ubuntu/Debian)\n  - SSH server installation and configuration\n  - Claude Code CLI installation\n  - User and permissions setup\n- [ ] Create/adopt docker-compose.yml\n  - Port 2222 for SSH\n  - Port 3000 for web app testing (forward from app container)\n  - Volume mount for project directory\n  - Volume mount for session persistence\n- [ ] Implement/adopt setup script\n  - SSH key generation/configuration\n  - Claude Code session initialization\n  - First-run automation\n\n### Security Configuration\n- [ ] SSH security hardening\n  - Key-based authentication only\n  - Disable password authentication\n  - Limit SSH access to localhost\n- [ ] Container security\n  - Non-root user where possible\n  - Minimal base image\n  - Security scanning integration\n- [ ] File system isolation\n  - Only mount necessary directories\n  - Read-only mounts where applicable\n  - Document security boundaries\n\n### Integration Points\n- [ ] VS Code Remote-SSH setup\n  -  configuration example\n  - VS Code extension recommendations\n  - Connection troubleshooting guide\n- [ ] Git configuration\n  - Git credentials handling in container\n  - SSH key forwarding considerations\n  - Commit signing setup\n- [ ] Development workflow integration\n  - How to start/stop Claude container\n  - Session management\n  - Backup and restore procedures\n\n### Documentation\n- [ ] **Create docs/development/claude-secure-container.md**\n  - Setup instructions\n  - VS Code integration guide\n  - Security model explanation\n  - Troubleshooting common issues\n  - If using agenttisen-ohjelmoinnin-kontti: Link to upstream docs\n- [ ] **Update README.md**\n  - Add section on secure Claude Code usage\n  - Link to detailed documentation\n- [ ] **Update CLAUDE.md** (if needed)\n  - Document container-based workflow for AI reference\n  - Security boundaries and limitations\n- [ ] **Add to docs/reference/troubleshooting.md**\n  - SSH connection issues\n  - Session persistence problems\n  - Container networking issues\n\n## Acceptance Criteria\n\n### Functional Requirements\n- [ ] Claude Code runs successfully inside container\n- [ ] SSH access works from macOS host (port 2222)\n- [ ] VS Code Remote-SSH connects and functions properly\n- [ ] Claude Code can access project files at \n- [ ] Sessions persist across container restarts\n- [ ] Git operations work within container\n- [ ] All Claude Code features function as expected\n\n### Security Requirements\n- [ ] Claude Code CANNOT access host files outside project directory\n- [ ] SSH uses key-based authentication only\n- [ ] Container runs with minimal necessary privileges\n- [ ] Security boundaries clearly documented\n- [ ] No sensitive credentials stored in container image\n\n### Developer Experience\n- [ ] Easy setup process (< 10 minutes from README)\n- [ ] Clear documentation for both VS Code and terminal workflows\n- [ ] Troubleshooting guide addresses common issues\n- [ ] Performance is acceptable (startup < 30 seconds)\n- [ ] Session management is straightforward\n\n### Documentation Completeness\n- [ ] All setup steps documented and tested\n- [ ] Security model clearly explained\n- [ ] Integration with #11 app containers documented\n- [ ] Backup and recovery procedures documented\n- [ ] Attribution to agenttisen-ohjelmoinnin-kontti (if used)\n\n## Relationship to Other Docker Issues\n\n### vs Issue #11 (App Containerization)\n- **#11**: Runs the Next.js **application** in Docker\n- **This issue**: Runs **Claude Code itself** in Docker\n- **Integration**: Both can run simultaneously, Claude container can interact with app container\n\n### vs Issue #168 (VS Code Devcontainer)\n- **#168**: Official VS Code devcontainer integration ( approach)\n- **This issue**: SSH-based container approach (simpler, works now)\n- **Difference**: \n  - Devcontainer (#168): VS Code manages container lifecycle automatically\n  - SSH container (this): Manual container management, SSH access\n- **Complementary**: Can document both approaches, let developers choose\n\n## Open Questions\n\n### Critical Decisions\n1. **Should we use agenttisen-ohjelmoinnin-kontti or build custom?**\n   - Recommendation: Start with agenttisen-ohjelmoinnin-kontti\n   - Decide on customization after testing\n   \n2. **Should this be mandatory or optional for development?**\n   - Mandatory: Maximum security consistency\n   - Optional: Flexibility for developers who trust their environment\n   - Recommendation: Optional (security-conscious developers can opt-in)\n\n3. **How to handle Git credentials in container?**\n   - SSH agent forwarding\n   - Mount  and credentials\n   - Separate container-specific Git identity\n\n### Technical Considerations\n4. **Port conflicts with app containers (#11)?**\n   - Ensure port 3000 forwarding doesn't conflict\n   - Document network configuration\n\n5. **File synchronization performance?**\n   - Bind mount performance on macOS/Windows\n   - Alternative sync strategies if needed\n\n6. **Multi-project support?**\n   - One container per project?\n   - Shared container with project switching?\n\n## Success Metrics\n\n- Setup time < 10 minutes for new developers\n- Zero accidental host file access incidents\n- 100% of developers can connect via VS Code Remote-SSH\n- Session persistence works reliably\n- Performance overhead < 2 seconds for typical operations\n\n## Priority\n\nüü° **Medium** - Valuable security and consistency improvement, not blocking core development\n\n## Complexity\n\nüü† **Moderate** - Well-defined scope with existing reference implementation, requires integration work\n\n## Related Issues\n\n- **#11**: Next.js application Docker containerization (complementary)\n- **#168**: VS Code devcontainer investigation (alternative approach)\n- **#23**: Security scanning (should include container security)\n- **#162**: CI/CD optimization (potential integration point)\n\n## Reference Implementation\n\nhttps://github.com/sitrafund/agenttisen-ohjelmoinnin-kontti - SSH-based Claude Code container architecture (recommended starting point)",
        "number": 294,
        "repository": "mikiwiik/instructions-only-claude-coding",
        "title": "ü§ñ DX: Run Claude Code in Secure Docker Container (SSH-based)",
        "type": "Issue",
        "url": "https://github.com/mikiwiik/instructions-only-claude-coding/issues/294"
      },
      "id": "PVTI_lAHOABVon84BF52zzggarrw",
      "labels": [
        "priority-3-medium",
        "complexity-moderate",
        "claude-workflow",
        "category-infrastructure",
        "category-dx"
      ],
      "lifecycle": "Backlog",
      "repository": "https://github.com/mikiwiik/instructions-only-claude-coding",
      "title": "ü§ñ DX: Run Claude Code in Secure Docker Container (SSH-based)"
    },
    {
      "content": {
        "body": "## Summary\n\nEnhance security posture by implementing Software Bill of Materials (SBOM) generation and Grype vulnerability scanning. This extends the existing security scanning infrastructure (ADR-026) with supply chain transparency and enhanced vulnerability detection capabilities.\n\n## Context\n\n### What is SBOM?\nA Software Bill of Materials is a nested inventory of all software components, dependencies, and libraries that make up our application. It provides:\n- Complete dependency transparency (direct + transitive)\n- Version tracking for all components\n- License information\n- Vulnerability status\n\n### What is Grype?\nGrype is an open-source vulnerability scanner by Anchore that:\n- Scans SBOM files, container images, and filesystems\n- Supports npm/yarn/pnpm package managers\n- Uses vulnerability databases from NVD, Debian, Red Hat, etc.\n- Integrates with CI/CD pipelines\n- Provides SARIF output for GitHub Security tab\n\n### Current Security Stack\n- ‚úÖ npm audit - Weekly dependency vulnerability scanning\n- ‚úÖ Dependabot - Automated dependency updates\n- ‚úÖ CodeQL - Source code security analysis\n- ‚úÖ SonarCloud - Code quality and security\n\n### Why Add SBOM + Grype?\n1. **Enhanced Coverage**: Grype catches vulnerabilities npm audit may miss\n2. **Compliance**: SBOM meets CISA 2025 minimum requirements\n3. **Supply Chain Visibility**: Track entire dependency tree\n4. **Build Artifact Security**: Scan compiled outputs, not just source\n5. **Industry Best Practice**: SBOM becoming standard requirement\n\n## Requirements\n\n### SBOM Generation\n- [ ] Implement CycloneDX Node Module for SBOM generation\n- [ ] Add npm scripts: `sbom:generate`, `sbom:validate`\n- [ ] Generate SBOM in CycloneDX JSON format\n- [ ] Include transitive dependencies\n- [ ] Store SBOM as build artifact\n\n### Grype Integration\n- [ ] Install Grype in CI/CD environment\n- [ ] Scan generated SBOM for vulnerabilities\n- [ ] Configure severity thresholds (fail on critical/high)\n- [ ] Generate SARIF output for GitHub Security tab\n- [ ] Filter results with `--only-fixed` for actionable items\n\n### CI/CD Workflow Updates\n- [ ] Extend `.github/workflows/security-scan.yml` with SBOM + Grype\n- [ ] Add SBOM generation to `.github/workflows/build.yml`\n- [ ] Upload SBOM as workflow artifact (90-day retention)\n- [ ] Upload Grype SARIF results to GitHub Security\n- [ ] Ensure parallel execution to minimize build time impact\n\n### Documentation\n- [ ] Create ADR-028: SBOM Generation and Vulnerability Scanning\n- [ ] Document as amendment to ADR-026 (extends security scanning)\n- [ ] Update security documentation with SBOM workflow\n- [ ] Add troubleshooting guide for Grype findings\n- [ ] Document SBOM artifact locations and retention\n\n## Proposed Implementation\n\n### Phase 1: Local Testing\n```bash\n# Generate SBOM\nnpx @cyclonedx/cyclonedx-npm --output-file sbom.json\n\n# Install and run Grype\nbrew install grype\ngrype sbom:sbom.json --only-fixed\n```\n\n### Phase 2: Package.json Scripts\n```json\n\"scripts\": {\n  \"sbom:generate\": \"cyclonedx-npm --output-file sbom.json\",\n  \"sbom:validate\": \"cyclonedx-npm --validate sbom.json\"\n}\n```\n\n### Phase 3: CI/CD Integration\nExtend `security-scan.yml`:\n```yaml\n- name: Generate SBOM\n  run: |\n    npm install -g @cyclonedx/cyclonedx-npm\n    cyclonedx-npm --output-file sbom.json\n\n- name: Scan SBOM with Grype\n  uses: anchore/scan-action@v3\n  with:\n    sbom: sbom.json\n    fail-build: true\n    severity-cutoff: high\n    output-format: sarif\n\n- name: Upload to GitHub Security\n  uses: github/codeql-action/upload-sarif@v3\n  with:\n    sarif_file: results.sarif\n```\n\n## Success Metrics\n\n- [ ] SBOM generated on every build\n- [ ] SBOM includes 100% of dependencies (direct + transitive)\n- [ ] Grype scans run on all PRs before merge\n- [ ] Zero critical/high vulnerabilities in SBOM\n- [ ] SARIF results visible in GitHub Security tab\n- [ ] Build time impact <2 minutes\n- [ ] SBOM artifacts retained for 90 days\n\n## Technical Considerations\n\n### Tools Selection\n- **CycloneDX Node Module**: Most accurate SBOM generator for npm projects\n- **Grype**: Open source, actively maintained, excellent npm support\n- **Cost**: Zero - both tools are free and open source\n\n### Integration Points\n- Extends ADR-026 security scanning architecture\n- Complements npm audit (different vulnerability databases)\n- Aligns with Principle #11 (pinned dependencies ‚Üí exact SBOM tracking)\n- Supports Principle #6 (quality gates ‚Üí vulnerability thresholds)\n\n### Potential Challenges\n- **Alert Fatigue**: Grype may find more vulnerabilities than npm audit\n- **Build Time**: Additional 1-2 minutes per workflow run\n- **False Positives**: May need to configure ignore patterns\n- **Maintenance**: Another tool to keep updated\n\n## Alternatives Considered\n\n### Snyk\n- **Pros**: Excellent UI, comprehensive database\n- **Cons**: Limited free tier, third-party dependency\n- **Rejected**: npm audit + Grype provide sufficient coverage\n\n### Syft + Grype\n- **Pros**: Same company, tight integration\n- **Cons**: CycloneDX Node Module more accurate for npm\n- **Rejected**: CycloneDX standard more widely adopted\n\n### No SBOM, npm audit only\n- **Pros**: No additional complexity\n- **Cons**: Missing supply chain transparency, compliance gaps\n- **Rejected**: SBOM becoming industry standard requirement\n\n## References\n\n- [CISA SBOM Minimum Requirements 2025](https://www.cisa.gov/sbom)\n- [CycloneDX Node Module](https://github.com/CycloneDX/cyclonedx-node-npm)\n- [Grype Documentation](https://github.com/anchore/grype)\n- [ADR-026: Security Scanning](docs/adr/026-security-scanning-ci-cd-pipeline.md)\n- [Anchore SBOM Best Practices](https://anchore.com/blog/javascript-sbom-generation/)\n\n## Definition of Done\n\n- [ ] ADR-028 created and merged\n- [ ] SBOM generation scripts added to package.json\n- [ ] Grype integrated into security-scan.yml workflow\n- [ ] SBOM artifacts uploaded in CI/CD\n- [ ] SARIF results uploaded to GitHub Security tab\n- [ ] Security documentation updated\n- [ ] All tests passing with new workflow\n- [ ] Zero ESLint/TypeScript errors\n- [ ] PR merged with automerge --rebase\n- [ ] Verified with `gh issue view` showing closed status\n\n---\n\nü§ñ This issue follows the instruction-only development principles and extends the established security scanning architecture.",
        "number": 295,
        "repository": "mikiwiik/instructions-only-claude-coding",
        "title": "feat: implement SBOM generation and Grype vulnerability scanning",
        "type": "Issue",
        "url": "https://github.com/mikiwiik/instructions-only-claude-coding/issues/295"
      },
      "id": "PVTI_lAHOABVon84BF52zzggaztU",
      "labels": [
        "priority-2-high",
        "complexity-moderate",
        "category-infrastructure"
      ],
      "repository": "https://github.com/mikiwiik/instructions-only-claude-coding",
      "title": "feat: implement SBOM generation and Grype vulnerability scanning"
    },
    {
      "content": {
        "body": "## Summary\n\nImplement a dedicated high-contrast theme option with a theme switcher (Standard/High Contrast) following WCAG AAA standards and industry best practices for low-vision accessibility.\n\n## User Story\n\nAs a user with low vision, I need a high-contrast theme option so I can more easily read and interact with the todo app.\n\n## Scope\n\n### Phase 1: Research & Design (ADR)\n- Research low-vision UI best practices (WCAG AAA, industry standards)\n- Create ADR documenting:\n  - Theme architecture approach\n  - Color palette (WCAG AAA contrast ratios: 7:1 normal text, 4.5:1 large text)\n  - Typography scale (larger sizes and bolder weights)\n  - Spacing adjustments\n  - Focus indicator enhancements\n- Document findings in `docs/adr/0XX-high-contrast-theme.md`\n\n### Phase 2: Implementation\n- Create theme context/provider for theme state management\n- Add theme switcher UI component (Standard/High Contrast toggle)\n- Implement localStorage persistence for theme preference\n- Configure Tailwind with high-contrast color tokens\n- Update all components with theme-aware classes:\n  - Todo list items\n  - Forms/inputs\n  - Buttons\n  - Navigation elements\n- Enhance focus indicators for keyboard navigation\n\n### Phase 3: Testing & Documentation\n- Write accessibility tests for theme switching\n- Verify WCAG AAA contrast compliance\n- Test with screen readers\n- Update README.md with theme feature\n- Update user flow diagrams if interaction patterns change\n\n## Key Requirements\n\n- WCAG AAA contrast ratios (7:1 normal text, 4.5:1 large text)\n- Larger text sizes and bolder font weights\n- Increased spacing between interactive elements\n- More pronounced focus indicators\n- Theme persistence via localStorage\n\n## Affected Components\n\n- Theme context/provider (new)\n- Theme switcher component (new)\n- All existing UI components\n- Tailwind configuration\n- Component tests\n- Documentation\n\n## Recommended Agents\n\n- `frontend-specialist` - Theme system and component updates\n- `testing-specialist` - Accessibility and integration tests\n- `documentation-agent` - ADR, README, and diagram updates\n\n## Acceptance Criteria\n\n- [ ] ADR created with research findings and architectural decisions\n- [ ] Theme switcher component functional and accessible\n- [ ] All components support both Standard and High Contrast themes\n- [ ] WCAG AAA contrast compliance verified\n- [ ] localStorage persistence working correctly\n- [ ] All tests passing (unit, integration, accessibility)\n- [ ] Documentation updated (README, user flows)\n- [ ] Zero ESLint warnings\n- [ ] TypeScript strict mode compliance\n\n## Estimated Effort\n\n6-8 hours AI implementation\n\n## References\n\n- WCAG 2.2 Success Criterion 1.4.6 (Contrast Enhanced)\n- Project accessibility requirements: `docs/guidelines/accessibility-requirements.md`\n- ADR process: `docs/adr/PROCESS.md`",
        "number": 301,
        "repository": "mikiwiik/instructions-only-claude-coding",
        "title": "Add high-contrast theme for low-vision users",
        "type": "Issue",
        "url": "https://github.com/mikiwiik/instructions-only-claude-coding/issues/301"
      },
      "id": "PVTI_lAHOABVon84BF52zzghPirk",
      "labels": [
        "priority-3-medium",
        "complexity-moderate",
        "category-feature"
      ],
      "lifecycle": "Backlog",
      "repository": "https://github.com/mikiwiik/instructions-only-claude-coding",
      "status": "Todo",
      "title": "Add high-contrast theme for low-vision users"
    },
    {
      "content": {
        "body": "## Problem\n\n`docs/core/project-context.md` should not exist at all. Analysis reveals:\n\n- **70%+ duplication** with README.md and docs/architecture/overview.md\n- **Only 1 reference** (CLAUDE.md line 64) - minimal integration\n- **Better alternatives exist** - docs/architecture/overview.md (308 lines) covers this more comprehensively\n- **Maintenance burden** - requires manual updates that violate \"document everything once\" principle\n\n### Specific Duplication Issues\n\n1. **Technology Stack** (lines 8-47) - Duplicated in README.md and docs/architecture/overview.md\n2. **ADR Listings** (lines 49-62) - Outdated manual list (shows 10 ADRs, project has 27)\n3. **Project Structure** (lines 64-100) - Already in docs/architecture/overview.md\n4. **Data Models** (lines 102-127) - Already in docs/architecture/overview.md (lines 94-122)\n5. **Features** (lines 129-153) - Redundant with README.md + GitHub Issues\n6. **Quality Standards** (lines 160-171) - Should be in docs/core/workflows.md\n\n## Solution: Delete File and Redistribute Content\n\n### File Changes\n\n1. **DELETE** `docs/core/project-context.md` entirely\n\n2. **UPDATE** `CLAUDE.md` (line 64)\n   - Remove reference to project-context.md\n   - Replace with link to docs/architecture/overview.md for technical details\n\n3. **UPDATE** `docs/core/workflows.md`\n   - Add \"Quality Metrics\" subsection under \"Quality Gates\" (after line 419)\n   - Move specific metrics from project-context.md:\n     - TypeScript: 100% strict mode compliance\n     - Test Coverage: 80%+ target\n     - ESLint: Zero warnings policy\n     - Accessibility: WCAG 2.2 AA compliance\n     - Performance: Lighthouse scores (90+ target)\n\n### Content Distribution\n\n| Section | Action | Authoritative Location |\n|---------|--------|----------------------|\n| Project Overview | DELETE | README.md, docs/architecture/overview.md |\n| Technology Stack | DELETE | README.md (brief), docs/architecture/overview.md (detailed) |\n| ADR List | DELETE | docs/adr/README.md |\n| Project Structure | DELETE | docs/architecture/overview.md |\n| Data Models | DELETE | docs/architecture/overview.md (lines 94-122) |\n| Features | DELETE | README.md (features), GitHub Issues (backlog) |\n| Methodology | DELETE | docs/core/framework.md |\n| Quality Standards | MOVE metrics to workflows.md | docs/core/workflows.md |\n\n## Benefits\n\n- **Eliminates 172 lines** of duplicate content\n- **Single source of truth** aligned with ADR-024 principles\n- **Reduces maintenance burden** - changes only needed in authoritative locations\n- **Clearer documentation architecture** - purpose-driven file organization\n- **Better developer experience** - no confusion about which doc to reference\n\n## Acceptance Criteria\n\n- [ ] Delete docs/core/project-context.md\n- [ ] Update CLAUDE.md to remove reference and point to docs/architecture/overview.md\n- [ ] Add Quality Metrics section to docs/core/workflows.md\n- [ ] Verify no other references to project-context.md exist\n- [ ] Update any broken links\n- [ ] Run markdown linting\n- [ ] Verify documentation follows \"document everything once\" principle\n\n## Related\n\n- ADR-024: GitHub Projects Adoption (establishes \"single source of truth\" principle)\n- docs/development/project-management.md: \"Zero data duplication\" guidance\n- docs/architecture/overview.md: Comprehensive architecture documentation",
        "number": 302,
        "repository": "mikiwiik/instructions-only-claude-coding",
        "title": "Delete project-context.md and redistribute content",
        "type": "Issue",
        "url": "https://github.com/mikiwiik/instructions-only-claude-coding/issues/302"
      },
      "id": "PVTI_lAHOABVon84BF52zzghPk0s",
      "labels": [
        "priority-2-high",
        "complexity-moderate",
        "category-documentation"
      ],
      "lifecycle": "Active",
      "linked pull requests": [
        "https://github.com/mikiwiik/instructions-only-claude-coding/pull/305"
      ],
      "repository": "https://github.com/mikiwiik/instructions-only-claude-coding",
      "status": "Done",
      "title": "Delete project-context.md and redistribute content"
    },
    {
      "content": {
        "body": "## Context & Motivation\n\nThe project is currently at v0.1.0 with no automated version management. We have:\n- Conventional commits enforced via commitlint\n- Continuous deployment to Vercel from main branch\n- No version tracking for production releases\n- No changelog or GitHub releases\n\n**Goal**: Implement fully automated semantic versioning where every merge to main immediately triggers version bump and release creation, with version tracking synced to Vercel deployments.\n\n## Why semantic-release over release-please?\n\nAfter evaluation, **semantic-release** is the right choice for continuous deployment:\n\n| Feature | semantic-release | release-please |\n|---------|------------------|----------------|\n| Release timing | Immediate on merge | Requires manual PR merge |\n| Manual intervention | None | Must merge Release PR |\n| Continuous deployment | Perfect fit | Not designed for this |\n| Complexity | Simple config | Needs workarounds |\n\n**Decision**: semantic-release matches our requirement for \"every change pushed to prod immediately.\"\n\n## Implementation Tasks\n\n### A. Install Dependencies\n- [ ] Add semantic-release core and plugins to package.json (pinned versions):\n  - `semantic-release@24.2.0`\n  - `@semantic-release/changelog@6.0.3`\n  - `@semantic-release/git@10.0.1`\n  - `@semantic-release/npm@12.0.1`\n\n### B. Configure semantic-release\n- [ ] Create `.releaserc.json` with plugins configuration:\n  - commit-analyzer (determine version bump)\n  - release-notes-generator (generate changelog entries)\n  - changelog (update CHANGELOG.md)\n  - npm (update package.json version)\n  - git (commit changes with `[skip ci]`)\n  - github (create releases)\n- [ ] Update package.json version to `0.0.0-development`\n- [ ] Create initial `CHANGELOG.md`\n\n### C. Create GitHub Actions Workflow\n- [ ] Create `.github/workflows/release.yml`:\n  - Trigger on main branch pushes\n  - Run semantic-release\n  - Use `[skip ci]` in commit message to prevent build.yml re-triggering\n  - Configure proper permissions (contents: write, issues: write)\n\n### D. Documentation\n- [ ] Create ADR-0XX: Automated Semantic Versioning with semantic-release\n  - Document continuous release model rationale\n  - Explain semantic-release choice over release-please\n  - Document version tracking with Vercel deployments\n  - Define version bump rules\n- [ ] Update README.md:\n  - Add version badge\n  - Link to releases and changelog\n- [ ] Update docs/core/workflows.md:\n  - Add \"Release Process\" section\n  - Document automatic versioning workflow\n- [ ] Update docs/setup/deployment.md:\n  - Document version tracking with Vercel\n\n### E. Testing & Validation\n- [ ] Run `npm install` to install new dependencies\n- [ ] Merge a test PR with `feat:` commit to trigger first release\n- [ ] Verify semantic-release workflow runs successfully\n- [ ] Verify version bump in package.json\n- [ ] Verify CHANGELOG.md generation\n- [ ] Verify GitHub release creation with tag\n- [ ] Verify Vercel deployment reflects new version\n\n## Version Bump Rules\n\nAutomatic version bumping based on conventional commits:\n\n| Commit Type | Version Bump | Example |\n|-------------|--------------|---------|\n| `fix:` | Patch (0.1.0 ‚Üí 0.1.1) | Bug fixes |\n| `feat:` | Minor (0.1.0 ‚Üí 0.2.0) | New features |\n| `feat!:` or `BREAKING CHANGE:` | Major (0.1.0 ‚Üí 1.0.0) | Breaking changes |\n| `docs:`, `chore:`, `ci:`, etc. | No release | Non-releasable changes |\n\n**Important**: Only `feat`, `fix`, and breaking changes trigger releases.\n\n## Workflow Sequence\n\n```\nPR merged to main\n    ‚Üì\nsemantic-release runs (release.yml)\n    ‚Üì\nAnalyze commits (conventional commit types)\n    ‚Üì\nDetermine version bump (patch/minor/major)\n    ‚Üì\nUpdate package.json + package-lock.json\n    ‚Üì\nGenerate/update CHANGELOG.md\n    ‚Üì\nCommit changes with [skip ci]\n    ‚Üì\nCreate git tag (e.g., v0.2.0)\n    ‚Üì\nCreate GitHub release with notes\n    ‚Üì\nVercel auto-deploys with updated version\n```\n\n## Acceptance Criteria\n\n- [ ] semantic-release dependencies installed (pinned versions)\n- [ ] `.releaserc.json` configuration created\n- [ ] `.github/workflows/release.yml` workflow created\n- [ ] Initial `CHANGELOG.md` created\n- [ ] package.json version set to `0.0.0-development`\n- [ ] ADR created documenting versioning strategy\n- [ ] README.md updated with version badge and links\n- [ ] docs/core/workflows.md updated with release process\n- [ ] docs/setup/deployment.md updated with version tracking\n- [ ] First automated release successfully created\n- [ ] GitHub release exists with tag and changelog\n- [ ] Vercel deployment reflects correct version\n- [ ] Zero manual intervention required for future releases\n\n## Benefits\n\n- **Fully automated**: Zero manual steps for versioning\n- **Version tracking**: Production version always visible via GitHub releases\n- **Professional changelog**: Auto-generated from conventional commits\n- **Clear milestones**: GitHub releases track project evolution\n- **Vercel sync**: Deployed version matches GitHub releases\n- **Educational value**: Demonstrates enterprise release management via AI\n- **Future-ready**: Foundation for API versioning (per ADR-018)\n\n## Technical Notes\n\n- Package is `\"private\": true`, so semantic-release won't publish to npm\n- `[skip ci]` in release commit prevents build.yml from re-running\n- Workflow uses `GITHUB_TOKEN` (no additional secrets needed)\n- Compatible with existing branch protection rules\n- No conflicts with existing GitHub Actions workflows\n\n---\n\n**Implementation Approach**: Follow TDD where applicable, atomic commits, feature branch + PR workflow with automerge.",
        "number": 303,
        "repository": "mikiwiik/instructions-only-claude-coding",
        "title": "Implement automated semantic versioning with semantic-release",
        "type": "Issue",
        "url": "https://github.com/mikiwiik/instructions-only-claude-coding/issues/303"
      },
      "id": "PVTI_lAHOABVon84BF52zzghPluU",
      "labels": [
        "priority-2-high",
        "complexity-moderate",
        "category-infrastructure"
      ],
      "repository": "https://github.com/mikiwiik/instructions-only-claude-coding",
      "title": "Implement automated semantic versioning with semantic-release"
    },
    {
      "content": {
        "body": "## Problem\n\nCurrently, `settings.local.json` (containing tool permissions) must be manually copied to each project. This creates:\n- Duplication across projects\n- Maintenance overhead when updating permissions\n- Inconsistent settings between projects\n\n## Solution\n\nImplement dotfiles-based sharing with symlinks:\n\n1. **Canonical location**: `~/dotfiles/.claude/settings.local.json`\n2. **Project symlinks**: `.claude/settings.local.json` ‚Üí `~/dotfiles/.claude/settings.local.json`\n3. **Automated setup**: Script to link settings in new projects\n\n## Implementation Tasks\n\n### 1. Create Setup Script\n\nCreate `~/dotfiles/setup-claude-settings.sh`:\n\n```bash\n#!/bin/bash\n# Setup script for Claude Code settings symlink\n\nset -e\n\nDOTFILES_SETTINGS=\"$HOME/dotfiles/.claude/settings.local.json\"\nPROJECT_SETTINGS=\".claude/settings.local.json\"\n\n# Check if dotfiles settings exist\nif [ ! -f \"$DOTFILES_SETTINGS\" ]; then\n  echo \"‚ùå Error: $DOTFILES_SETTINGS not found\"\n  echo \"Please create your dotfiles Claude settings first:\"\n  echo \"  mkdir -p ~/dotfiles/.claude\"\n  echo \"  cp .claude/settings.local.json ~/dotfiles/.claude/settings.local.json\"\n  exit 1\nfi\n\n# Create .claude directory if needed\nif [ ! -d \".claude\" ]; then\n  mkdir .claude\n  echo \"‚úÖ Created .claude directory\"\nfi\n\n# Create symlink (remove existing file if present)\nif [ -L \"$PROJECT_SETTINGS\" ]; then\n  echo \"‚úÖ Symlink already exists: $PROJECT_SETTINGS\"\nelif [ -f \"$PROJECT_SETTINGS\" ]; then\n  echo \"‚ö†Ô∏è  Replacing existing file with symlink: $PROJECT_SETTINGS\"\n  rm \"$PROJECT_SETTINGS\"\n  ln -s \"$DOTFILES_SETTINGS\" \"$PROJECT_SETTINGS\"\n  echo \"‚úÖ Symlink created\"\nelse\n  ln -s \"$DOTFILES_SETTINGS\" \"$PROJECT_SETTINGS\"\n  echo \"‚úÖ Symlink created: $PROJECT_SETTINGS\"\nfi\n```\n\n### 2. Update .gitignore\n\nAdd to project `.gitignore`:\n```\n.claude/settings.local.json  # Personal settings via symlink\n```\n\n### 3. Documentation Updates\n\nCreate new documentation file: `docs/development/dev-environment-setup.md`\n\nContent should cover:\n- **Prerequisites**: Dotfiles repository setup\n- **One-time setup**: Moving settings to dotfiles\n- **Per-project setup**: Running the setup script\n- **Updating settings**: Edit once in dotfiles, affects all projects\n- **Troubleshooting**: Common issues and solutions\n\nUpdate `CLAUDE.md` to reference the new dev environment setup docs.\n\n### 4. Apply to Current Project\n\nRun the setup process on this repository as a test case.\n\n## Acceptance Criteria\n\n- [ ] Setup script exists in `~/dotfiles/setup-claude-settings.sh`\n- [ ] Script checks for dotfiles settings existence before symlinking\n- [ ] Script provides clear error messages and success feedback\n- [ ] `.gitignore` excludes `settings.local.json`\n- [ ] Documentation created at `docs/development/dev-environment-setup.md`\n- [ ] `CLAUDE.md` updated with reference to dev env setup\n- [ ] Current project uses symlinked settings\n- [ ] All existing permissions work correctly via symlink\n\n## Benefits\n\n- ‚úÖ Single source of truth for personal settings\n- ‚úÖ Automatic updates across all projects\n- ‚úÖ Version controlled in dotfiles repo\n- ‚úÖ Reduced setup friction for new projects\n- ‚úÖ Consistent permissions across all environments\n\n## Related Documentation\n\n- Developer experience improvements\n- Project setup automation\n- Dotfiles best practices",
        "number": 306,
        "repository": "mikiwiik/instructions-only-claude-coding",
        "title": "Set up dotfiles sharing for Claude Code settings.local.json",
        "type": "Issue",
        "url": "https://github.com/mikiwiik/instructions-only-claude-coding/issues/306"
      },
      "id": "PVTI_lAHOABVon84BF52zzghPnAU",
      "labels": ["priority-3-medium", "complexity-simple", "category-dx"],
      "lifecycle": "Active",
      "repository": "https://github.com/mikiwiik/instructions-only-claude-coding",
      "status": "In Progress",
      "title": "Set up dotfiles sharing for Claude Code settings.local.json"
    },
    {
      "content": {
        "body": "## Problem\n\nPR #299 (and potentially other Dependabot PRs updating `eslint-config-next` to 16.x) is failing with a circular structure error:\n\n```\nTypeError: Converting circular structure to JSON\n    --> starting at object with constructor 'Object'\n    |     property 'configs' -> object with constructor 'Object'\n    |     property 'flat' -> object with constructor 'Object'\n    |     ...\n    |     property 'plugins' -> object with constructor 'Object'\n    --- property 'react' closes the circle\n```\n\n## Root Cause\n\nThe current `eslint.config.mjs` uses `FlatCompat` to bridge old-style ESLint configs to the new flat config system. This creates circular references when processing `eslint-config-next` 16.x, specifically with the `react-hooks` plugin included in `next/core-web-vitals`.\n\n## Upstream Issues\n\n- Next.js: https://github.com/vercel/next.js/issues/85244\n- ESLint: https://github.com/eslint/eslint/issues/20237\n\n## Solution\n\nMigrate `eslint.config.mjs` away from `FlatCompat` to native ESLint flat config that's compatible with Next.js 16:\n\n1. Remove `FlatCompat` usage for Next.js configs\n2. Manually configure plugins and rules using native flat config syntax\n3. Test with `eslint-config-next` 16.x\n4. Ensure all existing rules and standards (ADR-027 complexity rules, accessibility, etc.) are preserved\n5. Update documentation if needed\n\n## Acceptance Criteria\n\n- [ ] ESLint config migrated to native flat config (no FlatCompat for Next.js configs)\n- [ ] `npm run lint` passes with `eslint-config-next` 16.x\n- [ ] All existing linting rules preserved (complexity, accessibility, TypeScript, etc.)\n- [ ] CI/CD pipeline passes\n- [ ] Documentation updated if config structure changed\n\n## References\n\n- Current config: `eslint.config.mjs:34-42`\n- Failing PR: #299\n- Related: Next.js 16 upgrade path",
        "number": 307,
        "repository": "mikiwiik/instructions-only-claude-coding",
        "title": "Migrate ESLint config to be compatible with Next.js 16 (remove FlatCompat)",
        "type": "Issue",
        "url": "https://github.com/mikiwiik/instructions-only-claude-coding/issues/307"
      },
      "id": "PVTI_lAHOABVon84BF52zzghPqsQ",
      "labels": [
        "priority-2-high",
        "complexity-moderate",
        "category-infrastructure"
      ],
      "lifecycle": "Done",
      "linked pull requests": [
        "https://github.com/mikiwiik/instructions-only-claude-coding/pull/309"
      ],
      "repository": "https://github.com/mikiwiik/instructions-only-claude-coding",
      "status": "Done",
      "title": "Migrate ESLint config to be compatible with Next.js 16 (remove FlatCompat)"
    },
    {
      "content": {
        "body": "## Problem\n\nCode duplication analysis (jscpd) reveals **20.13% duplication** across the codebase with **101 instances**, primarily concentrated in test files. This creates maintenance overhead and inconsistent test patterns.\n\n### Largest Duplications\n- **XSS security tests**: 244 lines duplicated (`app/__tests__/security/markdown-xss.test.tsx`)\n- **Integration tests**: 178 lines duplicated (`app/__tests__/integration/timestamp-lifecycle.test.tsx`)\n- **Type tests**: Multiple 12-14 line blocks (`app/__tests__/types/todo.test.ts`)\n- **Test utilities**: `createTestTodo()` duplicated across 3 files\n\n## Proposed Solution\n\nCreate centralized test utilities and fixtures to eliminate duplication:\n\n### 1. Test Helpers (`app/__tests__/utils/test-helpers.ts`)\n```typescript\nexport function createMockTodo(overrides?: Partial<Todo>): Todo\nexport function setupTestComponent(props: ComponentProps): RenderResult\nexport function waitForStateUpdate(callback: () => void): Promise<void>\n```\n\n### 2. XSS Test Fixtures (`app/__tests__/fixtures/xss-payloads.ts`)\n```typescript\nexport const XSS_TEST_CASES = [\n  { name: 'Script injection', payload: '<script>alert(\"xss\")</script>' },\n  // ... other cases (extract 244 duplicated lines)\n]\n```\n\n### 3. Integration Test Helpers (`app/__tests__/utils/integration-helpers.ts`)\n```typescript\nexport function createIntegrationTestSuite(config: TestConfig): TestSuite\n// Extract 178 duplicated lines of integration patterns\n```\n\n### 4. Refactor Affected Files\n- `app/__tests__/security/markdown-xss.test.tsx` - use XSS fixtures\n- `app/__tests__/integration/timestamp-lifecycle.test.tsx` - use integration helpers\n- `app/__tests__/types/todo.test.ts` - use test helpers\n- `app/__tests__/utils/timestamp.test.ts` - use shared `createTestTodo()`\n- `app/__tests__/components/TodoItem.timestamp.test.tsx` - use shared utilities\n\n## Success Criteria\n\n- [ ] Code duplication reduced from 20.13% to <10%\n- [ ] All test utilities consolidated in `app/__tests__/utils/`\n- [ ] All test fixtures consolidated in `app/__tests__/fixtures/`\n- [ ] Duplicate `createTestTodo()` functions removed (currently in 3 files)\n- [ ] All tests pass after refactoring\n- [ ] Test coverage maintained at >90%\n\n## Related\n\n- Analysis source: SonarCloud systematic code quality review\n- Estimated effort: 3-4 hours\n- Impact: ~10% reduction in codebase duplication, improved test maintainability",
        "number": 308,
        "repository": "mikiwiik/instructions-only-claude-coding",
        "title": "Refactor: Eliminate test code duplication (20.13% ‚Üí <10%)",
        "type": "Issue",
        "url": "https://github.com/mikiwiik/instructions-only-claude-coding/issues/308"
      },
      "id": "PVTI_lAHOABVon84BF52zzghPsfg",
      "labels": ["priority-3-medium", "complexity-moderate", "category-dx"],
      "lifecycle": "Active",
      "repository": "https://github.com/mikiwiik/instructions-only-claude-coding",
      "status": "In Progress",
      "title": "Refactor: Eliminate test code duplication (20.13% ‚Üí <10%)"
    },
    {
      "content": {
        "body": "## Problem\n\nThree files exceed the ESLint `max-lines-per-function` threshold of 150 lines, generating warnings during linting:\n\n| File | Current | Limit | Overage |\n|------|---------|-------|---------|\n| `app/hooks/useTodos.ts` | 268 lines | 150 | +118 |\n| `app/components/ConfirmationDialog.tsx` | 178 lines | 150 | +28 |\n| `app/components/TodoItem.tsx` | 156 lines | 150 | +6 |\n\nWhile these are warnings (not blocking), they indicate functions that could benefit from decomposition for better maintainability and testability.\n\n## Proposed Solution\n\nExtract logic into smaller, focused hooks following React best practices:\n\n### 1. `useTodos.ts` (268 ‚Üí <150 lines)\n\n**Extract**:\n- `useTodoPersistence()` - localStorage sync logic\n- `useTodoSync()` - shared list synchronization logic\n\n**Benefits**: Separation of concerns, easier testing of persistence vs sync logic\n\n### 2. `ConfirmationDialog.tsx` (178 ‚Üí <150 lines)\n\n**Extract**:\n- `useFocusTrap()` - focus management within dialog\n- `useDialogKeyboard()` - keyboard event handling (Tab, Escape, Enter)\n\n**Benefits**: Reusable accessibility hooks, reduced component complexity\n\n### 3. `TodoItem.tsx` (156 ‚Üí <150 lines)\n\n**Extract**:\n- `useTodoGestures()` - swipe gesture handling\n- `useTodoItemDragAndDrop()` - drag-and-drop logic (if needed)\n\n**Benefits**: Cleaner component code, gesture logic reuse potential\n\n## Implementation Strategy\n\n1. **TDD approach**: Write tests for extracted hooks first\n2. **Incremental refactoring**: One file at a time\n3. **Preserve behavior**: Ensure no functional changes\n4. **Update tests**: Adapt existing tests to new structure\n\n## Success Criteria\n\n- [ ] `useTodos.ts` reduced to <150 lines\n- [ ] `ConfirmationDialog.tsx` reduced to <150 lines\n- [ ] `TodoItem.tsx` reduced to <150 lines\n- [ ] Zero ESLint function length warnings\n- [ ] All existing tests pass\n- [ ] Test coverage maintained at >90%\n- [ ] No functional regressions\n\n## Related\n\n- Analysis source: SonarCloud systematic code quality review\n- ESLint rule: `max-lines-per-function` (warning threshold: 150)\n- Estimated effort: 4-6 hours\n- Impact: Improved code maintainability, zero ESLint warnings",
        "number": 310,
        "repository": "mikiwiik/instructions-only-claude-coding",
        "title": "Refactor: Fix function length ESLint warnings via hook extraction",
        "type": "Issue",
        "url": "https://github.com/mikiwiik/instructions-only-claude-coding/issues/310"
      },
      "id": "PVTI_lAHOABVon84BF52zzghPsjI",
      "labels": ["priority-3-medium", "complexity-moderate", "category-dx"],
      "repository": "https://github.com/mikiwiik/instructions-only-claude-coding",
      "title": "Refactor: Fix function length ESLint warnings via hook extraction"
    },
    {
      "content": {
        "body": "## Problem\n\nThe file `docs/quality/remaining-complexity-fixes.md` documents complexity fixes that were **already completed** in Issue #283 (closed 2025-10-26):\n\n- ‚úÖ TodoItem.tsx - Cognitive complexity reduced from 29 to ‚â§15\n- ‚úÖ ConfirmationDialog.tsx - Nesting depth reduced from 5 to ‚â§4\n- ‚úÖ All `eslint-disable` comments removed\n- ‚úÖ All 5 high-severity SonarCloud issues resolved\n\nThe file is now **outdated** and creates confusion about what work remains.\n\n## Proposed Solution\n\nDelete `docs/quality/remaining-complexity-fixes.md`\n\nThe file served its purpose as a detailed implementation plan but is no longer needed since:\n1. All documented work is complete\n2. Complexity standards are now enforced via ESLint (ADR-027)\n3. SonarCloud provides ongoing monitoring\n4. Keeping outdated docs creates maintenance burden\n\n## Success Criteria\n\n- [ ] File `docs/quality/remaining-complexity-fixes.md` deleted\n- [ ] Verify no other documentation references this file\n- [ ] Commit with message: `docs: remove outdated complexity fixes documentation`\n\n## Related\n\n- Issue #283: Completed the work documented in this file\n- Issue #259: Original complexity standards issue\n- ADR-027: Code complexity standards (ongoing enforcement)\n- Estimated effort: 5 minutes\n\n---\n\n**Note**: Historical context is preserved in Issue #283 and git history. No information loss.",
        "number": 311,
        "repository": "mikiwiik/instructions-only-claude-coding",
        "title": "Docs: Remove outdated docs/quality/remaining-complexity-fixes.md",
        "type": "Issue",
        "url": "https://github.com/mikiwiik/instructions-only-claude-coding/issues/311"
      },
      "id": "PVTI_lAHOABVon84BF52zzghPspM",
      "labels": [
        "priority-4-low",
        "complexity-minimal",
        "category-documentation"
      ],
      "lifecycle": "Active",
      "linked pull requests": [
        "https://github.com/mikiwiik/instructions-only-claude-coding/pull/312"
      ],
      "repository": "https://github.com/mikiwiik/instructions-only-claude-coding",
      "status": "Done",
      "title": "Docs: Remove outdated docs/quality/remaining-complexity-fixes.md"
    }
  ],
  "totalCount": 66
}
